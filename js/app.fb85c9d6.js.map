{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Map.vue?3041","webpack:///./src/components/MapAffectedLink.vue?e325","webpack:///./src/components/MapLoadSpinner.vue?fb79","webpack:///./src/components/MapTimeSlider.vue?cca3","webpack:///./src/components/MapPopulationLegend.vue?e2c0","webpack:///./src/store/modules/config.js","webpack:///./src/store/modules/map.js","webpack:///./src/store/modules/fire.js","webpack:///./src/store/modules/smoke.js","webpack:///./src/store/modules/population.js","webpack:///./src/store/modules/simulation.js","webpack:///./src/store/modules/output.js","webpack:///./src/store/index.js","webpack:///./src/App.vue?d312","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?a941","webpack:///./src/components/MapTimeSlider.vue?9a3f","webpack:///src/components/MapTimeSlider.vue","webpack:///./src/components/MapTimeSlider.vue?fbfe","webpack:///./src/components/MapTimeSlider.vue?0662","webpack:///./src/components/MapPopulationLegend.vue?6271","webpack:///src/components/MapPopulationLegend.vue","webpack:///./src/components/MapPopulationLegend.vue?76c8","webpack:///./src/components/MapPopulationLegend.vue?149f","webpack:///./src/components/MapSquarePopulation.vue?adba","webpack:///src/components/MapSquarePopulation.vue","webpack:///./src/components/MapSquarePopulation.vue?754d","webpack:///./src/components/MapSquarePopulation.vue?ffa3","webpack:///./src/components/MapSetup.vue?cbfe","webpack:///./src/components/MapAffectedLink.vue?c37c","webpack:///src/components/MapAffectedLink.vue","webpack:///./src/components/MapAffectedLink.vue?dff7","webpack:///./src/components/MapAffectedLink.vue?1328","webpack:///./src/components/MapTrafficBehaviourCard.vue?231b","webpack:///src/components/MapTrafficBehaviourCard.vue","webpack:///./src/components/MapTrafficBehaviourCard.vue?6a6a","webpack:///./src/components/MapTrafficBehaviourCard.vue?1ce7","webpack:///src/components/MapSetup.vue","webpack:///./src/components/MapSetup.vue?d457","webpack:///./src/components/MapSetup.vue?ee74","webpack:///./src/components/MapButtons.vue?a0a4","webpack:///src/components/MapButtons.vue","webpack:///./src/components/MapButtons.vue?fec0","webpack:///./src/components/MapButtons.vue?df14","webpack:///./src/components/SaveSettings.vue?b54f","webpack:///src/components/SaveSettings.vue","webpack:///./src/components/SaveSettings.vue?8890","webpack:///./src/components/SaveSettings.vue?e535","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///./src/router.js","webpack:///./src/main.js","webpack:///./src/App.vue?165b","webpack:///./src/components/MapLoadSpinner.vue?1665","webpack:///src/components/MapLoadSpinner.vue","webpack:///./src/components/MapLoadSpinner.vue?82b8","webpack:///./src/components/MapLoadSpinner.vue?400f","webpack:///./src/components/MapTrafficBehaviourCard.vue?dd13","webpack:///./src/components/SaveSettings.vue?e04a","webpack:///./src/components/MapSquarePopulation.vue?164f","webpack:///./src/store/mutation-types.js","webpack:///./src/components/MapButtons.vue?0778","webpack:///./src/components/Map.vue?1cfb","webpack:///src/components/Map.vue","webpack:///./src/components/Map.vue?3baf","webpack:///./src/components/Map.vue","webpack:///./src/components/MapSetup.vue?26dd"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","state","mapboxAccessToken","styles","id","getters","regions","tiles","populations","outputs","fires","region","regionId","populationsWithTag","filteredPops","Array","isArray","tags","includes","firesWithTag","filteredFires","f","mutations","actions","getConfig","url","commit","START_LOADING","fetch","res","json","DONE_LOADING","empty","keys","join","catch","isLoading","mapboxStyle","firstSymbolLayer","featureSetPlacementOrder","featureSetPlaceholderLayerId","mapSettingsIsOpen","baseMATSimLayer","highlightMATSimLayer","loadedMATSimLayers","loadedMATSimSource","selectedRegion","populationSquares","squarePopulationIsOpen","selectedMATSimLink","disruptions","affectedLinkIsOpen","mapInstance","drawInstance","mapCenter","selectedStyle","rootState","config","style","find","obj","rootGetters","popInSelectedRegion","firesInSelectedRegion","SET_MAP_INSTANCE","newMap","SET_DRAW_INSTANCE","newDraw","SET_MAPBOX_STYLE","newStyle","setStyle","SETTINGS_VISIBILITY","newVal","SELECT_REGION","MATSIM_SET_BASE_LAYER","MATSIM_SET_HIGHLIGHT_LAYER","MATSIM_SET_DISRUPTION_LAYER","disruptionMATSimLayer","MATSIM_SET_SELECTED_DISRUPTION_LAYER","selectedDisruptionMATSimLayer","MATSIM_ADD_DISRUPTION","FLY_TO","flyTo","center","zoom","bearing","speed","curve","easing","TOGGLE_3D","easeTo","pitch","MATSIM_ADD_PLACEHOLDER_LAYERS","firstSymbolId","layers","getStyle","sect","features","addSource","addLayer","source","layout","visibility","MATSIM_ADD_LAYER","matsimNetwork","layerName","sourceName","sourceLayer","minzoom","maxzoom","paint","filter","MATSIM_ADD_SOURCE","pbfurl","CLEAR_REGION","map","layer","removeLayer","removeSource","draw","changeMode","getCanvas","cursor","feature","MATSIM_SELECT_LINK","MATSIM_DESELECT_LINK","toggleSettingsVis","changeMapboxStyle","dispatch","clearMap","selectRegion","selectRelevantRegion","fireloop","loadGlobal","root","handler","loadLayers","process","matsimNetworkTiles","matsimNetworkLayer","loadMATSimNetwork","matsimNetworkHighlighted","JSON","parse","stringify","assign","matsimNetworkHighlightedDisruptions","matsimNetworkSelectedDisruptions","namespaced","stepMinutes","selectedFire","loadedLayers","loadedSources","visibleStep","fire3DFlameHeight","opacity","fireIntensityLevels","totalLayers","description","ignitionMinutes","fireData","parseInt","ignition_hhmm","startStep","SELECT_FIRE","PHOENIX_ADD_SOURCE","payload","fireSlice","geojson","PHOENIX_ADD_LAYER","stops","beforeLayer","PHOENIX_SET_OPACITY","CLEAR_FIRE","PHOENIX_TIME_STEP","select","fire","smokeGeojson","load","file","downloadAndCreateLayers","response","sort","a","b","properties","HOUR_BURNT","lastFeature","totalMinutes","totalSteps","Math","ceil","threshold","stepStr","toString","fireStep","fireStartStep","setLayoutProperty","setOpacity","val","step","paintProp","setPaintProperty","reload","resetFireLayers","toggleFireIn3D","color","visible","DRAW_SMOKE","EMBER_ADD_SOURCE","EMBER_ADD_LAYER","EMBER_SET_OPACITY","CLEAR_SMOKE","createLayers","HOUR_SPOT","toggle","selected","activityColors","currActivities","aboveLayer","SELECT_POPULATION","POPULATION_SET_OPACITY","POP_SET_ACTIVITIES","activities","floor","abs","sin","POP_SET_ACTIVITY_COLOR","POP_ADD_SOURCE","popSlice","POP_ADD_LAYER","base","duration","CLEAR_POPULATION","populationGeojson","pop","end_hr","whereareyounow","plan","k","person","geometry","coordinates","x","y","getSource","setData","changeActivityColor","savedSettingsJson","simulationName","simSettingsIsOpen","MATSIM_SAVE_CONFIG","method","body","headers","details","detail","log","MATSIM_SETTINGS_VIS","stepSeconds","home","work","beach","shops","other","fireBeforeLayer","minutes","filterSeconds","Vue","use","Vuex","Store","smoke","population","simulation","output","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","staticRenderFns","component","on","$event","indexOf","_k","keyCode","_b","ref","hasLabel","stepToTime","scopedSlots","_u","fn","active","class","_v","_s","model","callback","$$v","timeStep","expression","sliderConfig","_e","components","props","ls","labelStep","computed","width","min","max","maxSteps","set","$store","methods","interval","$mq","notTooClose","popSelected","_l","index","changeColor","directives","rawName","domProps","composing","squarePopulation","default","Number","isOpen","popDesc","selectedPopulation","display_name","helperOptions","modifiers","proxy","eventDesc","showSmoke","text","fireOpacity","smokeOpacity","popOpacity","linkId","linkStart","String","valueToPercent","valueToMark","trafficSpeed","dotStyle","display","isHidden","modalShow","global","phoenix","matsim","trafficBehaviour","dest_selected","dest_options","selectedIncident","smokeVisible","decimal","match","parseFloat","mapAffectedLink","MapAffectedLink","MapTrafficBehaviourCard","FontAwesomeIcon","setRegion","dataset","drawRectangle","changeTime","charAt","temp","split","evac_time","renderFireIn3D","showDisruptionWindow","isLinkDisrupted","staticStyle","deleteDisruption","absoluteSpeed","saveDisruption","store","disruption","affectedLinks","start","$refs","startTime","end","endTime","forEach","link","setFilter","selectedLink","SaveSimulationToggle","SaveSimulationConfig","Boolean","outputTemplate","ees","scenario_main","maplayer","Map","slider","MapTimeSlider","popLegend","MapPopulationLegend","spinner","MapLoadSpinner","MapSquarePopulation","setup","MapSetup","buttons","MapButtons","savesettings","SaveSettings","Router","routes","path","Home","BootstrapVue","VueMq","productionTip","el","router","render","h","App","mounted","$mount","_m","mapOpts","show","position","storeMapInstance","disruptionSelected","opts","minZoom","maxZoom","mapbox","mapOnClick","squareCreated","loadLayersOnStyleChange","displayControlsDefault","modes","addControl","linkList","bbox","queryRenderedFeatures","ID","filteredItems","selectedDisruptionLinks","popupText","linksIsDisrupted","speedUnit","reduce","disruptedFilter","highlightFilter"],"mappings":"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","file":"js/app.fb85c9d6.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"about\":\"about\",\"output\":\"output\"}[chunkId]||chunkId) + \".\" + {\"about\":\"404cba23\",\"output\":\"e58a2878\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"about\":1,\"output\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({\"about\":\"about\",\"output\":\"output\"}[chunkId]||chunkId) + \".\" + {\"about\":\"e8a3e408\",\"output\":\"cdfc593a\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/ees-ui/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=05e0e45d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=05e0e45d&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapAffectedLink.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapAffectedLink.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLoadSpinner.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLoadSpinner.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapTimeSlider.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapTimeSlider.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapPopulationLegend.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapPopulationLegend.vue?vue&type=style&index=0&lang=css&\"","// Configuration for the application.\n//\nimport { START_LOADING, DONE_LOADING } from \"@/store/mutation-types\";\n\nconst state = {\n  mapboxAccessToken:\n    \"pk.eyJ1IjoiZGhpeHNpbmdoIiwiYSI6ImNqbWx4OTR0ZzBkMWUzb255and1aTUweGkifQ.U0vPiwyfM4ad7axC_4dkHg\",\n  error: null,\n  data: null,\n  styles: [\n    {\n      id: \"basic\",\n      name: \"Basic\"\n    },\n    {\n      id: \"bright\",\n      name: \"Bright\"\n    },\n    {\n      id: \"dark\",\n      name: \"Dark\"\n    },\n    {\n      id: \"light\",\n      name: \"Light\"\n    },\n    {\n      id: \"satellite\",\n      name: \"Satellite\"\n    },\n    {\n      id: \"streets\",\n      name: \"Streets\"\n    }\n  ]\n};\n\nconst getters = {\n  mapboxAccessToken: state => state.mapboxAccessToken,\n  styles: state => state.styles,\n  regions: state => {\n    if (state.data) {\n      return state.data.tiles;\n    } else {\n      return {};\n    }\n  },\n  populations: state => {\n    if (state.data) {\n      return state.data.populations;\n    } else {\n      return {};\n    }\n  },\n  outputs: state => {\n    if (state.data) {\n      return state.data.outputs;\n    } else {\n      return {};\n    }\n  },\n  fires: state => {\n    if (state.data) {\n      return state.data.fires;\n    } else {\n      return {};\n    }\n  },\n  region: state => regionId => {\n    return state.data.tiles[regionId];\n  },\n  populationsWithTag: (state, getters) => tag => {\n    const populations = getters.populations;\n    var filteredPops = {};\n    for (const p in populations) {\n      if (\n        Array.isArray(populations[p].tags) &&\n        populations[p].tags.includes(tag)\n      ) {\n        filteredPops[p] = populations[p];\n      }\n    }\n    return filteredPops;\n  },\n  firesWithTag: (state, getters) => tag => {\n    const fires = getters.fires;\n    var filteredFires = {};\n    for (const f in fires) {\n      if (Array.isArray(fires[f].tags) && fires[f].tags.includes(tag)) {\n        filteredFires[f] = fires[f];\n      }\n    }\n    return filteredFires;\n  }\n};\n\nconst mutations = {\n  [\"SAVE_SETTINGS\"](state, value) {\n    state.data = value;\n  },\n  [\"ERROR\"](state, value) {\n    state.error = value;\n  }\n};\nconst actions = {\n  getConfig({ commit, getters }, url) {\n    commit(START_LOADING);\n    fetch(url)\n      .then(res => res.json())\n      .then(json => {\n        commit(DONE_LOADING);\n        commit(\"SAVE_SETTINGS\", json);\n\n        // we should check whether the server actually returned fire and populations\n        var empty = [];\n        if (Object.keys(getters.populations).length == 0)\n          empty.push(\"populations\");\n        if (Object.keys(getters.fires).length == 0) empty.push(\"fires\");\n        if (Object.keys(getters.outputs).length == 0)\n          empty.push(\"simulation outputs\");\n\n        if (empty.length > 0)\n          commit(\n            \"ERROR\",\n            \"The server did not return any \" +\n              empty.join(\" or \") +\n              \" for use.\" +\n              \"<br />\" +\n              \"The server may currently be downloading resources. Please refresh \" +\n              \"the page after about a minute.\"\n          );\n      })\n      .catch(e => {\n        commit(\n          \"ERROR\",\n          \"Could not retreive anything from the server. Please try again later.\" +\n            \"<br />Tried URL: \" +\n            url +\n            \"<br />\" +\n            \"<br /> Error message below.<br /><br />\" +\n            e\n        );\n        commit(DONE_LOADING);\n      });\n  }\n};\n\nexport default {\n  state,\n  getters,\n  mutations,\n  actions\n};\n","// Mapbox state\n// Used to store state of map, including layers etc\nimport {\n  START_LOADING,\n  DONE_LOADING,\n  SET_MAP_INSTANCE,\n  SET_DRAW_INSTANCE,\n  SET_MAPBOX_STYLE,\n  SETTINGS_VISIBILITY,\n  SELECT_REGION,\n  CLEAR_REGION,\n  FLY_TO,\n  MATSIM_ADD_PLACEHOLDER_LAYERS,\n  MATSIM_ADD_SOURCE,\n  MATSIM_ADD_LAYER,\n  MATSIM_SET_BASE_LAYER,\n  MATSIM_SET_HIGHLIGHT_LAYER,\n  MATSIM_SET_DISRUPTION_LAYER,\n  MATSIM_SET_SELECTED_DISRUPTION_LAYER,\n  MATSIM_SELECT_LINK,\n  MATSIM_DESELECT_LINK,\n  MATSIM_ADD_DISRUPTION,\n  TOGGLE_3D\n} from \"@/store/mutation-types\";\n\nconst state = {\n  isLoading: 0,\n  mapboxStyle: \"dark\",\n  firstSymbolLayer: null,\n  featureSetPlacementOrder: [\n    // this defines the visibility order of each thing we place on the map\n    \"region\",\n    \"fire\",\n    \"smoke\",\n    \"population\",\n    \"output\"\n  ],\n  featureSetPlaceholderLayerId: {}, // each element we draw will be placed before a layer stored here\n  mapSettingsIsOpen: true,\n  baseMATSimLayer: null,\n  highlightMATSimLayer: null,\n  loadedMATSimLayers: [],\n  loadedMATSimSource: null,\n  selectedRegion: null,\n  populationSquares: [],\n  squarePopulationIsOpen: false,\n  selectedMATSimLink: \"\",\n  disruptions: [],\n  affectedLinkIsOpen: false,\n  mapInstance: null, // MapboxGL object\n  drawInstance: null, // MapboxDraw object\n  mapCenter: [144.968447, -37.818232] // Federeation Square Melbourne\n};\n\nconst getters = {\n  mapInstance: state => state.mapInstance,\n  drawInstance: state => state.drawInstance,\n  selectedStyle: (state, getters, rootState) => {\n    if (!state.mapboxStyle) return null;\n    var styles = rootState.config.styles;\n    var style = styles.find(obj => obj.id === state.mapboxStyle);\n    return style;\n  },\n  featureSetPlaceholderLayerId: state => state.featureSetPlaceholderLayerId,\n  selectedRegion: (state, getters, rootState, rootGetters) => {\n    if (!state.selectedRegion) return null;\n\n    const region = rootGetters.region(state.selectedRegion);\n    // further checks to make sure we actually have a region selected\n    if (typeof region === \"undefined\") return null;\n    else return region;\n  },\n  popInSelectedRegion: (state, getters, rootState, rootGetters) => {\n    if (getters.selectedRegion === null) return getters.populations;\n    return rootGetters.populationsWithTag(getters.selectedRegion.name);\n  },\n  firesInSelectedRegion: (state, getters, rootState, rootGetters) => {\n    if (getters.selectedRegion === null) return getters.fires;\n    return rootGetters.firesWithTag(getters.selectedRegion.name);\n  }\n};\n\nconst mutations = {\n  [START_LOADING](state) {\n    state.isLoading++;\n  },\n  [DONE_LOADING](state) {\n    if (state.isLoading > 0) state.isLoading--;\n  },\n  [SET_MAP_INSTANCE](state, newMap) {\n    state.mapInstance = newMap;\n  },\n  [SET_DRAW_INSTANCE](state, newDraw) {\n    state.drawInstance = newDraw;\n  },\n  [SET_MAPBOX_STYLE](state, newStyle) {\n    state.mapboxStyle = newStyle;\n    state.mapInstance.setStyle(\n      \"mapbox://styles/mapbox/\" + state.mapboxStyle + \"-v9\"\n    );\n  },\n  [SETTINGS_VISIBILITY](state, newVal) {\n    state.mapSettingsIsOpen = newVal;\n  },\n  [SELECT_REGION](state, newVal) {\n    state.selectedRegion = newVal;\n  },\n  [MATSIM_SET_BASE_LAYER](state, newVal) {\n    state.baseMATSimLayer = newVal;\n  },\n  [MATSIM_SET_HIGHLIGHT_LAYER](state, newVal) {\n    state.highlightMATSimLayer = newVal;\n  },\n  [MATSIM_SET_DISRUPTION_LAYER](state, newVal) {\n    state.disruptionMATSimLayer = newVal;\n  },\n  [MATSIM_SET_SELECTED_DISRUPTION_LAYER](state, newVal) {\n    state.selectedDisruptionMATSimLayer = newVal;\n  },\n  [MATSIM_ADD_DISRUPTION](state, newVal) {\n    state.disruptions.push(newVal);\n  },\n  [FLY_TO](state, target) {\n    state.mapInstance.flyTo({\n      // These options control the ending camera position: centered at\n      // the target, at given zoom level, and north up.\n      center: target,\n      zoom: 8,\n      bearing: 0,\n      // These options control the flight curve, making it move\n      // slowly and zoom out almost completely before starting\n      // to pan.\n      speed: 0.5, // make the flying slow\n      curve: 1, // change the speed at which it zooms out\n\n      // This can be any easing function: it takes a number between\n      // 0 and 1 and returns another number between 0 and 1.\n      easing: function(t) {\n        return t;\n      }\n    });\n    state.mapCenter = target;\n  },\n  [TOGGLE_3D](state, value) {\n    // set the pitch if we are enabling 3D\n    if (value) state.mapInstance.easeTo({ pitch: 60 });\n    else state.mapInstance.easeTo({ pitch: 0 });\n  },\n  [MATSIM_ADD_PLACEHOLDER_LAYERS](state) {\n    var layers = state.mapInstance.getStyle().layers;\n    // Find the index of the first symbol layer in the map style\n    var firstSymbolId;\n    for (var i = 0; i < layers.length; i++) {\n      if (layers[i].type === \"symbol\" && layers[i].id.includes(\"label\")) {\n        firstSymbolId = layers[i].id;\n        break;\n      }\n    }\n    state.firstSymbolLayer = firstSymbolId;\n\n    // empty placeholder layers for each feature set\n    var sect = {\n      type: \"FeatureCollection\",\n      features: []\n    };\n    state.mapInstance.addSource(\"placeholder\", {\n      type: \"geojson\",\n      data: sect\n    });\n    for (const s of state.featureSetPlacementOrder) {\n      const id = s + \"-placeholder\";\n      state.mapInstance.addLayer(\n        {\n          id: id,\n          type: \"line\",\n          source: \"placeholder\",\n          layout: { visibility: \"none\" }\n        },\n        state.firstSymbolLayer\n      );\n      state.featureSetPlaceholderLayerId[s] = id;\n    }\n  },\n  [MATSIM_ADD_LAYER](state, matsimNetwork) {\n    state.mapInstance.addLayer(\n      {\n        id: matsimNetwork.layerName,\n        type: \"line\",\n        source: matsimNetwork.sourceName,\n        \"source-layer\": matsimNetwork.sourceLayer,\n        minzoom: 0,\n        maxzoom: 22,\n        paint: matsimNetwork.paint,\n        filter: matsimNetwork.filter\n      },\n      // This is the important part of this example: the addLayer\n      // method takes 2 arguments: the layer as an object, and a string\n      // representing another layer's name. if the other layer\n      // exists in the stylesheet already, the new layer will be positioned\n      // right before that layer in the stack, making it possible to put\n      // 'overlays' anywhere in the layer stack.\n      // Insert the layer beneath the first symbol layer.\n      state.featureSetPlaceholderLayerId[\"region\"]\n    );\n    state.loadedMATSimLayers.push(matsimNetwork.layerName);\n  },\n  [MATSIM_ADD_SOURCE](state, matsimNetwork) {\n    state.mapInstance.addSource(matsimNetwork.sourceName, {\n      type: \"vector\",\n      tiles: [matsimNetwork.pbfurl],\n      minzoom: 0,\n      maxzoom: 14\n    });\n    state.loadedMATSimSource = matsimNetwork.sourceName;\n  },\n  [CLEAR_REGION](state) {\n    var map = state.mapInstance;\n    for (const layer of state.loadedMATSimLayers) map.removeLayer(layer);\n    state.loadedMATSimLayers = [];\n\n    if (state.loadedMATSimSource) {\n      map.removeSource(state.loadedMATSimSource);\n      state.loadedMATSimSource = null;\n    }\n    state.baseMATSimLayer = null;\n    state.highlightMATSimLayer = null;\n  },\n  drawPopulationSquare(state) {\n    const map = state.mapInstance;\n    const draw = state.drawInstance;\n    draw.changeMode(\"draw_rectangle\");\n    map.getCanvas().style.cursor = \"crosshair\";\n  },\n  addPopulationSquare(state, feature) {\n    // reset cursor to default\n    state.mapInstance.getCanvas().style.cursor = \"\";\n    state.populationSquares.push(feature);\n    state.squarePopulationIsOpen = true;\n  },\n  setSquarePopulationIsOpen(state, value) {\n    state.squarePopulationIsOpen = value;\n  },\n  [MATSIM_SELECT_LINK](state, value) {\n    state.selectedMATSimLink = value;\n  },\n  [MATSIM_DESELECT_LINK](state) {\n    state.selectedMATSimLink = [];\n  },\n  setAffectedLinkIsOpen(state, value) {\n    state.affectedLinkIsOpen = value;\n  }\n};\n\nconst actions = {\n  toggleSettingsVis({ state, commit }) {\n    commit(SETTINGS_VISIBILITY, !state.mapSettingsIsOpen);\n  },\n  changeMapboxStyle({ commit, dispatch }, style) {\n    // ensure any existing matsim artifacts are removed\n    // by dispatch to all store modules\n    dispatch(\"clearMap\");\n    commit(SET_MAPBOX_STYLE, style);\n  },\n  clearMap({ commit }) {\n    // ensure any existing matsim/fire artifacts are removed\n    commit(CLEAR_REGION);\n  },\n  selectRegion({ dispatch, commit, getters, state }, value) {\n    if (state.selectedRegion == value) return; // noisy call because the computed property detected a 'change'\n\n    if (getters.selectedRegion !== null) dispatch(\"clearMap\");\n\n    commit(SELECT_REGION, value);\n    // load the relevant MATSim layers\n    if (getters.selectedRegion != null) {\n      dispatch(\"loadLayers\");\n      commit(FLY_TO, getters.selectedRegion.center);\n    }\n  },\n  // this is called when a population or incident is selected\n  // and region is not yet selected. we try to find one using the tags\n  selectRelevantRegion({ dispatch, commit, getters }, tags) {\n    // no region selected, see if we can find one in the tags\n    fireloop: for (const tag of tags)\n      for (const id in getters.regions)\n        if (tag == getters.regions[id].name) {\n          // we have found a tag that corresponds to a region\n          dispatch(\"selectRegion\", id);\n          //dispatch(\"loadLayers\");\n          //commit(FLY_TO, getters.selectedRegion.center);\n          break fireloop;\n        }\n  },\n  // Used in Map.vue by loadLayersOnStyleChange.\n  // Adds both source and layers back to the map in the event of a style change\n  // Must be implemented by any module that\n  // adds sources/layers to mapbox.\n  loadGlobal: {\n    root: true,\n    handler({ getters, dispatch }) {\n      const map = getters.mapInstance;\n      dispatch(\"loadLayers\");\n    }\n  },\n  loadLayers({ dispatch, getters }) {\n    var region = getters.selectedRegion;\n    if (!region) return; // no region to be loaded\n\n    var matsimNetwork = {\n      sourceName: \"matsim\",\n      pbfurl: process.env.VUE_APP_EES_TILES_API + region.matsimNetworkTiles,\n      layerName: region.matsimNetworkLayer,\n      sourceLayer: region.matsimNetworkLayer,\n      paint: {\n        \"line-color\": \"#7777ff\",\n        \"line-width\": 0.5\n      },\n      filter: [\"all\"]\n    };\n\n    dispatch(\"loadMATSimNetwork\", matsimNetwork);\n  },\n  loadMATSimNetwork({ commit }, matsimNetwork) {\n    // wake the server and give an indication of loading (experimental)\n    commit(START_LOADING);\n    fetch(process.env.VUE_APP_EES_TILES_API + \"/wake/please\").then(function() {\n      commit(DONE_LOADING); // dont care about the response\n    });\n\n    // load the matsim source\n    commit(MATSIM_ADD_SOURCE, matsimNetwork);\n\n    // create the base matsim layer\n    commit(MATSIM_ADD_LAYER, matsimNetwork);\n    commit(MATSIM_SET_BASE_LAYER, matsimNetwork.layerName);\n\n    // create the highlight layer above this (deep copy)\n    var matsimNetworkHighlighted = JSON.parse(JSON.stringify(matsimNetwork));\n    matsimNetworkHighlighted = Object.assign(matsimNetworkHighlighted, {\n      layerName: matsimNetwork.layerName + \"-highlighted\",\n      paint: {\n        \"line-color\": \"#FF8C00\",\n        \"line-width\": 1.5\n      },\n      filter: [\"in\", \"ID\", \"\"]\n    });\n    commit(MATSIM_ADD_LAYER, matsimNetworkHighlighted);\n    commit(MATSIM_SET_HIGHLIGHT_LAYER, matsimNetworkHighlighted.layerName);\n\n    //Disruptions layer\n    var matsimNetworkHighlightedDisruptions = JSON.parse(\n      JSON.stringify(matsimNetwork)\n    );\n    matsimNetworkHighlightedDisruptions = Object.assign(\n      matsimNetworkHighlightedDisruptions,\n      {\n        layerName: matsimNetwork.layerName + \"-highlightedDisruptions\",\n        paint: {\n          \"line-color\": \"#FF0000\",\n          \"line-width\": 1.5\n        },\n        filter: [\"in\", \"ID\", \"\"]\n      }\n    );\n    commit(MATSIM_ADD_LAYER, matsimNetworkHighlightedDisruptions);\n    commit(\n      MATSIM_SET_DISRUPTION_LAYER,\n      matsimNetworkHighlightedDisruptions.layerName\n    );\n\n    //Selected disruption layer\n    var matsimNetworkSelectedDisruptions = JSON.parse(\n      JSON.stringify(matsimNetwork)\n    );\n    matsimNetworkSelectedDisruptions = Object.assign(\n      matsimNetworkSelectedDisruptions,\n      {\n        layerName: matsimNetwork.layerName + \"-selectedDisruptions\",\n        paint: {\n          \"line-color\": \"#00bfff\",\n          \"line-width\": 1.5\n        },\n        filter: [\"in\", \"ID\", \"\"]\n      }\n    );\n    commit(MATSIM_ADD_LAYER, matsimNetworkSelectedDisruptions);\n    commit(\n      MATSIM_SET_SELECTED_DISRUPTION_LAYER,\n      matsimNetworkSelectedDisruptions.layerName\n    );\n  }\n};\n\nexport default {\n  state,\n  getters,\n  mutations,\n  actions\n};\n","// Phoenix fire\n// Used to store state of fire geojson and layers\nimport {\n  START_LOADING,\n  DONE_LOADING,\n  SELECT_FIRE,\n  PHOENIX_ADD_SOURCE,\n  PHOENIX_ADD_LAYER,\n  PHOENIX_SET_OPACITY,\n  PHOENIX_TIME_STEP,\n  CLEAR_FIRE,\n  TOGGLE_3D\n} from \"@/store/mutation-types\";\n\nconst namespaced = true; // https://vuex.vuejs.org/guide/modules.html#namespacing\n\nconst state = {\n  stepMinutes: 10,\n  selectedFire: null,\n  loadedLayers: [],\n  loadedSources: [],\n  visibleStep: null,\n  fire3DFlameHeight: false,\n  opacity: 0.4,\n  fireIntensityLevels: [[0, \"#ffc107\"], [100000, \"#dc3545\"]]\n};\n\nconst getters = {\n  stepMinutes: state => state.stepMinutes,\n  visibleStep: state => state.visibleStep,\n  totalLayers: state => state.loadedLayers.length,\n  selectedFire: (state, getters, rootState, rootGetters) => {\n    const fires = rootGetters.fires;\n    if (state.selectedFire in fires) return fires[state.selectedFire];\n    else return null;\n  },\n  description: (state, getters) => {\n    if (getters.selectedFire !== null) {\n      return getters.selectedFire.description;\n    } else return \"\";\n  },\n  ignitionMinutes: (state, getters) => {\n    var fireData = getters.selectedFire;\n    if (fireData && \"ignition_hhmm\" in fireData)\n      return (\n        parseInt(fireData.ignition_hhmm.slice(0, 2)) * 60 +\n        parseInt(fireData.ignition_hhmm.slice(2))\n      );\n    else return 0;\n  },\n  startStep: (state, getters) => {\n    return getters.ignitionMinutes / getters.stepMinutes;\n  }\n};\n\nconst mutations = {\n  [SELECT_FIRE](state, newVal) {\n    state.selectedFire = newVal;\n  },\n  [PHOENIX_ADD_SOURCE](state, payload) {\n    var fireSlice = payload.fireSlice;\n    var source = fireSlice.sourceName;\n\n    // setup unique source\n    payload.map.addSource(source, {\n      type: \"geojson\",\n      data: fireSlice.geojson\n    });\n    state.loadedSources.push(source);\n  },\n  [PHOENIX_ADD_LAYER](state, payload) {\n    var fireSlice = payload.fireSlice;\n    var layer;\n    if (state.fire3DFlameHeight) {\n      layer = {\n        id: fireSlice.layerName,\n        type: \"fill-extrusion\",\n        source: fireSlice.sourceName,\n        filter: [\"has\", \"FLAME_HT\"],\n        layout: {\n          visibility: \"none\"\n        },\n        paint: {\n          \"fill-extrusion-color\": {\n            property: \"E_INTSTY\",\n            stops: state.fireIntensityLevels\n          },\n          \"fill-extrusion-height\": {\n            property: \"FLAME_HT\",\n            stops: [[0, 1], [300, 1000]]\n          },\n          \"fill-extrusion-base\": 0,\n          \"fill-extrusion-opacity\": state.opacity\n        }\n      };\n    } else {\n      layer = {\n        id: fireSlice.layerName,\n        type: \"fill\",\n        source: fireSlice.sourceName,\n        layout: {\n          visibility: \"none\"\n        },\n        paint: {\n          \"fill-color\": {\n            property: \"E_INTSTY\",\n            stops: state.fireIntensityLevels\n          },\n          \"fill-opacity\": state.opacity\n        }\n      };\n    }\n    payload.map.addLayer(layer, payload.beforeLayer);\n    state.loadedLayers.push(fireSlice.layerName);\n  },\n  [PHOENIX_SET_OPACITY](state, value) {\n    state.opacity = value;\n  },\n  [TOGGLE_3D](state, value) {\n    state.fire3DFlameHeight = value;\n  },\n  [CLEAR_FIRE](state, map) {\n    // remove layers\n    for (const layer of state.loadedLayers) map.removeLayer(layer);\n    state.loadedLayers = [];\n    // remove sources\n    for (const source of state.loadedSources) map.removeSource(source);\n    state.loadedSources = [];\n    state.visibleStep = null;\n\n    state.selectedFire = null;\n  },\n  [PHOENIX_TIME_STEP](state, newVal) {\n    state.visibleStep = newVal;\n  }\n};\n\nconst actions = {\n  clearMap: {\n    // Every store module is responsible for cleaning up after itself\n    // https://vuex.vuejs.org/guide/modules.html#register-global-action-in-namespaced-modules\n    root: true,\n    handler({ commit, rootGetters }) {\n      // ensure any existing matsim/fire artifacts are removed\n      commit(CLEAR_FIRE, rootGetters.mapInstance);\n    }\n  },\n  select({ dispatch, commit, getters, rootGetters }, fire) {\n    commit(CLEAR_FIRE, rootGetters.mapInstance);\n    commit(\"smoke/CLEAR_SMOKE\", rootGetters.mapInstance, { root: true });\n    commit(SELECT_FIRE, fire);\n    const fireData = getters.selectedFire;\n\n    if (fireData) {\n      dispatch(\"load\");\n\n      // handle the case where the fire has been selected without selecting a region\n      if (rootGetters.selectedRegion == null && fireData.tags)\n        dispatch(\"selectRelevantRegion\", fireData.tags, { root: true });\n\n      if (fireData.smokeGeojson) dispatch(\"drawSmoke\", fireData.smokeGeojson);\n    }\n  },\n  // Used in Map.vue by loadLayersOnStyleChange.\n  // Adds both source and layers back to the map in the event of a style change\n  // Must be implemented by any module that\n  // adds sources/layers to mapbox.\n  loadGlobal: {\n    root: true,\n    handler({ dispatch }) {\n      dispatch(\"load\");\n    }\n  },\n  load({ dispatch, getters }) {\n    var selectedFire = getters.selectedFire;\n    if (selectedFire) {\n      dispatch(\n        \"downloadAndCreateLayers\",\n        process.env.VUE_APP_EES_TILES_API + \"/\" + selectedFire.file\n      );\n    }\n  },\n  downloadAndCreateLayers({ dispatch, commit, getters, rootGetters }, url) {\n    const map = rootGetters.mapInstance;\n    commit(START_LOADING, null, { root: true });\n\n    // download and pre-process the geojson for better performance while rendering\n    // we will build our own sources and layers for each fire step\n    fetch(url)\n      .then(function(response) {\n        return response.json();\n      })\n      .then(function(geojson) {\n        var features = [...geojson.features];\n        // first sort\n        features.sort(function(a, b) {\n          if (a.properties.HOUR_BURNT === null) return -1;\n          if (b.properties.HOUR_BURNT === null) return 1;\n          else return a.properties.HOUR_BURNT - b.properties.HOUR_BURNT;\n        });\n        // now we can efficiently set up sources\n        const lastFeature = features[features.length - 1];\n        const totalMinutes = lastFeature.properties.HOUR_BURNT * 60;\n        const totalSteps = Math.ceil(totalMinutes / getters.stepMinutes);\n\n        // this will track the geojson features array\n        var j = 0;\n        // skip nulls\n        while (features[j].properties.HOUR_BURNT === null) j++;\n        // generate a geojson object for each step\n        for (var i = 0; i < totalSteps; i++) {\n          // set a threshold\n          var threshold = (i * getters.stepMinutes) / 60;\n          // create a fresh geojson structure for this layer\n          var sect = {\n            type: \"FeatureCollection\",\n            features: []\n          };\n\n          // add all features below the minutes threshold to this structure\n          while (features[j].properties.HOUR_BURNT < threshold) {\n            sect.features.push(features[j]);\n            j++;\n          }\n\n          // create this layer\n          var stepStr = i.toString();\n          var layer = \"phoenix-layer\" + stepStr;\n          var source = \"phoenix-source\" + stepStr;\n          commit(PHOENIX_ADD_SOURCE, {\n            map: map,\n            fireSlice: {\n              sourceName: source,\n              geojson: sect\n            }\n          });\n          commit(PHOENIX_ADD_LAYER, {\n            map: map,\n            beforeLayer: rootGetters.featureSetPlaceholderLayerId[\"fire\"],\n            fireSlice: {\n              sourceName: source,\n              layerName: layer\n            }\n          });\n        }\n        dispatch(\"filter\", getters.startStep + totalSteps - 1, { root: true }); // load the final fire step\n        dispatch(\"smoke/createLayers\", geojson, { root: true });\n        commit(DONE_LOADING, null, { root: true });\n      });\n  },\n  filter: {\n    root: true,\n    handler({ getters, rootGetters, commit }, fireStep) {\n      const map = rootGetters.mapInstance;\n\n      const fireStartStep = getters.startStep;\n\n      // ensure every layer before the current step is on, and every one after is off\n      for (var i = 0; i < getters.totalLayers; i++) {\n        var layer = \"phoenix-layer\" + i.toString();\n        if (i + fireStartStep <= fireStep)\n          map.setLayoutProperty(layer, \"visibility\", \"visible\");\n        else map.setLayoutProperty(layer, \"visibility\", \"none\");\n      }\n      commit(PHOENIX_TIME_STEP, fireStep);\n    }\n  },\n  setOpacity({ getters, rootGetters, commit }, val) {\n    const map = rootGetters.mapInstance;\n    const totalLayers = getters.totalLayers;\n    var i;\n    var step;\n    var layer;\n    var paintProp;\n    commit(PHOENIX_SET_OPACITY, val);\n\n    if (state.fire3DFlameHeight) {\n      paintProp = \"fill-extrusion-opacity\";\n    } else {\n      paintProp = \"fill-opacity\";\n    }\n    for (i = 0; i < totalLayers; i++) {\n      step = i.toString();\n      layer = \"phoenix-layer\" + step;\n      map.setPaintProperty(layer, paintProp, val);\n    }\n  },\n  reload: {\n    root: true,\n    handler({ dispatch }) {\n      dispatch(\"resetFireLayers\");\n    }\n  },\n  resetFireLayers({ dispatch, rootGetters, getters, commit }) {\n    const map = rootGetters.mapInstance;\n    const totalLayers = getters.totalLayers;\n    var i;\n    var step;\n    var layer;\n    var source;\n\n    // we dont want to clear, just reset each fire layer\n    for (i = 0; i < totalLayers; i++) {\n      step = i.toString();\n      layer = \"phoenix-layer\" + step;\n      map.removeLayer(layer);\n    }\n    state.loadedLayers = [];\n\n    for (i = 0; i < totalLayers; i++) {\n      step = i.toString();\n      source = \"phoenix-source\" + step;\n      layer = \"phoenix-layer\" + step;\n\n      commit(PHOENIX_ADD_LAYER, {\n        map: map,\n        fireSlice: {\n          sourceName: source,\n          layerName: layer\n        }\n      });\n    }\n    dispatch(\"filter\", getters.visibleStep, { root: true });\n  },\n  toggleFireIn3D({ dispatch, state, commit }) {\n    commit(TOGGLE_3D, !state.fire3DFlameHeight, { root: true });\n    commit(TOGGLE_3D, !state.fire3DFlameHeight);\n    dispatch(\"resetFireLayers\");\n  }\n};\n\nexport default {\n  namespaced,\n  state,\n  getters,\n  mutations,\n  actions\n};\n","// Phoenix smoke\n// Used to store state of smoke geojson and layers\n// Smoke data is related to the fire and time slider, therefore we\n// piggyback a number of fire vuex actions here\n\nimport {\n  START_LOADING,\n  DONE_LOADING,\n  DRAW_SMOKE,\n  EMBER_ADD_SOURCE,\n  EMBER_ADD_LAYER,\n  EMBER_SET_OPACITY,\n  CLEAR_SMOKE\n} from \"@/store/mutation-types\";\n\nconst namespaced = true; // https://vuex.vuejs.org/guide/modules.html#namespacing\n\nconst state = {\n  color: \"#f3172d\",\n  visible: false,\n  loadedLayers: [],\n  loadedSources: [],\n  opacity: 0.4\n};\n\nconst getters = {\n  totalLayers: state => state.loadedLayers.length\n};\n\nconst mutations = {\n  [DRAW_SMOKE](state, newVal) {\n    state.visible = newVal;\n  },\n  [EMBER_ADD_SOURCE](state, payload) {\n    var slice = payload.slice;\n    var source = slice.sourceName;\n\n    // setup unique source\n    payload.map.addSource(source, {\n      type: \"geojson\",\n      data: slice.geojson\n    });\n    state.loadedSources.push(source);\n  },\n  [EMBER_ADD_LAYER](state, payload) {\n    var slice = payload.slice;\n    var layer;\n    layer = {\n      id: slice.layerName,\n      type: \"fill\",\n      source: slice.sourceName,\n      layout: {\n        visibility: \"none\"\n      },\n      paint: {\n        \"fill-color\": state.color,\n        \"fill-opacity\": state.opacity\n      }\n    };\n\n    payload.map.addLayer(layer, payload.beforeLayer);\n    state.loadedLayers.push(slice.layerName);\n  },\n  [EMBER_SET_OPACITY](state, value) {\n    state.opacity = value;\n  },\n  [CLEAR_SMOKE](state, map) {\n    // remove layers\n    for (const layer of state.loadedLayers) map.removeLayer(layer);\n    state.loadedLayers = [];\n    // remove sources\n    for (const source of state.loadedSources) map.removeSource(source);\n    state.loadedSources = [];\n  }\n};\n\nconst actions = {\n  clearMap: {\n    root: true,\n    handler({ commit, rootGetters }) {\n      // ensure any existing smoke artifacts are removed\n      commit(CLEAR_SMOKE, rootGetters.mapInstance);\n    }\n  },\n  createLayers({ dispatch, commit, getters, rootGetters }, geojson) {\n    const map = rootGetters.mapInstance;\n    commit(CLEAR_SMOKE, map);\n    commit(START_LOADING, null, { root: true });\n\n    // pre-process the geojson for better performance while rendering\n    // we will re-use the geojson from the phoenix fire load step\n    // we will build our own sources and layers for each smoke step\n    var features = [...geojson.features];\n    // first sort\n    features.sort(function(a, b) {\n      if (a.properties.HOUR_SPOT === null) return -1;\n      if (b.properties.HOUR_SPOT === null) return 1;\n      else return a.properties.HOUR_SPOT - b.properties.HOUR_SPOT;\n    });\n    // now we can efficiently set up sources\n    const lastFeature = features[features.length - 1];\n    const totalMinutes = lastFeature.properties.HOUR_SPOT * 60;\n    const totalSteps = Math.ceil(\n      totalMinutes / rootGetters[\"fire/stepMinutes\"]\n    );\n\n    // this will track the geojson features array\n    var j = 0;\n    // skip nulls\n    while (features[j].properties.HOUR_SPOT === null) j++;\n    // generate a geojson object for each step\n    for (var i = 0; i < totalSteps; i++) {\n      // set a threshold\n      var threshold = (i * rootGetters[\"fire/stepMinutes\"]) / 60;\n      // create a fresh geojson structure for this layer\n      var sect = {\n        type: \"FeatureCollection\",\n        features: []\n      };\n\n      // add all features below the minutes threshold to this structure\n      while (features[j].properties.HOUR_SPOT < threshold) {\n        sect.features.push(features[j]);\n        j++;\n      }\n\n      // create this layer\n      var stepStr = i.toString();\n      var layer = \"ember-layer\" + stepStr;\n      var source = \"ember-source\" + stepStr;\n      commit(EMBER_ADD_SOURCE, {\n        map: map,\n        slice: {\n          sourceName: source,\n          geojson: sect\n        }\n      });\n      commit(EMBER_ADD_LAYER, {\n        map: map,\n        beforeLayer: rootGetters.featureSetPlaceholderLayerId[\"smoke\"],\n        slice: {\n          sourceName: source,\n          layerName: layer\n        }\n      });\n    }\n    dispatch(\"filter\", rootGetters[\"fire/visibleStep\"], { root: true });\n    commit(DONE_LOADING, null, { root: true });\n  },\n  filter: {\n    root: true,\n    handler({ state, getters, rootGetters }, step) {\n      if (state.visible) {\n        const map = rootGetters.mapInstance;\n        const startStep = rootGetters[\"fire/startStep\"];\n\n        // ensure every layer before the current step is on, and every one after is off\n        for (var i = 0; i < getters.totalLayers; i++) {\n          var layer = \"ember-layer\" + i.toString();\n          if (i + startStep <= step)\n            map.setLayoutProperty(layer, \"visibility\", \"visible\");\n          else map.setLayoutProperty(layer, \"visibility\", \"none\");\n        }\n      }\n    }\n  },\n  toggle({ getters, rootGetters, commit, dispatch }, val) {\n    commit(DRAW_SMOKE, val);\n    if (val) {\n      // filter to apply this change\n      dispatch(\"filter\", rootGetters[\"fire/visibleStep\"], { root: true });\n    } else {\n      const map = rootGetters.mapInstance;\n      // hide all smoke\n      for (var i = 0; i < getters.totalLayers; i++) {\n        var layer = \"ember-layer\" + i.toString();\n        map.setLayoutProperty(layer, \"visibility\", \"none\");\n      }\n    }\n  },\n  setOpacity({ getters, rootGetters, commit }, val) {\n    const map = rootGetters.mapInstance;\n    const totalLayers = getters.totalLayers;\n    var i;\n    var step;\n    var layer;\n    commit(EMBER_SET_OPACITY, val);\n\n    const paintProp = \"fill-opacity\";\n    for (i = 0; i < totalLayers; i++) {\n      step = i.toString();\n      layer = \"ember-layer\" + step;\n      map.setPaintProperty(layer, paintProp, val);\n    }\n  },\n  reload: {\n    root: true,\n    handler({ rootGetters, getters, commit }) {\n      const map = rootGetters.mapInstance;\n      var totalLayers = getters.totalLayers;\n      var i;\n      var step;\n      var layer;\n\n      // we dont want to clear, just reset each smoke layer\n      for (i = 0; i < totalLayers; i++) {\n        step = i.toString();\n        layer = \"ember-layer\" + step;\n        map.removeLayer(layer);\n      }\n      state.loadedLayers = [];\n\n      for (i = 0; i < totalLayers; i++) {\n        step = i.toString();\n        var source = \"ember-source\" + step;\n        layer = \"ember-layer\" + step;\n\n        commit(EMBER_ADD_LAYER, {\n          map: map,\n          slice: {\n            sourceName: source,\n            layerName: layer\n          }\n        });\n      }\n    }\n  }\n};\n\nexport default {\n  namespaced,\n  state,\n  getters,\n  mutations,\n  actions\n};\n","// Population plans\n// Used to store state of fire geojson and layers\nimport {\n  START_LOADING,\n  DONE_LOADING,\n  SELECT_POPULATION,\n  POPULATION_SET_OPACITY,\n  POP_SET_ACTIVITIES,\n  POP_SET_ACTIVITY_COLOR,\n  POP_ADD_SOURCE,\n  POP_ADD_LAYER,\n  CLEAR_POPULATION\n} from \"@/store/mutation-types\";\n\nconst namespaced = true; // https://vuex.vuejs.org/guide/modules.html#namespacing\n\nconst state = {\n  selected: null,\n  loadedLayers: [],\n  loadedSources: [],\n  opacity: 1.0,\n  activityColors: [\n    \"#fbb03b\",\n    \"#223b53\",\n    \"#e55e5e\",\n    \"#3bb2d0\",\n    \"#cccccc\" // must be 6 hex, due to reactive colorpicker feedback loops. more may be required\n  ],\n  currActivities: {}\n};\n\nconst getters = {\n  selected: (state, getters, rootState, rootGetters) => {\n    const all = rootGetters.populations;\n    if (!all) return null;\n\n    if (state.selected in all) return all[state.selected];\n    else return null;\n  },\n  currActivities: state => state.currActivities,\n  description: (state, getters) => {\n    if (getters.selected !== null) {\n      return getters.selected.description;\n    } else return \"\";\n  },\n  totalLayers: state => state.loadedLayers.length,\n  aboveLayer: (state, getters, rootState) => {\n    return rootState.firstSymbolLayer;\n  }\n};\n\nconst mutations = {\n  [SELECT_POPULATION](state, newVal) {\n    state.selected = newVal;\n  },\n  [POPULATION_SET_OPACITY](state, value) {\n    state.opacity = value;\n  },\n  [POP_SET_ACTIVITIES](state, activities) {\n    var currActivities = {};\n    activities.sort();\n\n    for (var i = 0; i < activities.length; i++) {\n      if (i < state.activityColors.length) {\n        currActivities[activities[i]] = state.activityColors[i];\n      } else {\n        // seeded colour generator\n        var color = Math.floor(Math.abs(Math.sin(i) * 16777215) % 16777215);\n        color = color.toString(16);\n        // pad any colors shorter than 6 characters with leading 0s\n        while (color.length < 6) {\n          color = \"0\" + color;\n        }\n        currActivities[activities[i]] = \"#\" + color;\n        state.activityColors.push(\"#\" + color);\n      }\n    }\n    state.currActivities = currActivities;\n  },\n  [POP_SET_ACTIVITY_COLOR](state, { id, color }) {\n    if (state.activityColors[id] != color) {\n      state.activityColors[id] = color;\n    }\n  },\n  [POP_ADD_SOURCE](state, payload) {\n    var popSlice = payload.popSlice;\n    var source = popSlice.sourceName;\n\n    // setup unique source\n    payload.map.addSource(source, {\n      type: \"geojson\",\n      data: popSlice.geojson\n    });\n    state.loadedSources.push(source);\n  },\n  [POP_ADD_LAYER](state, payload) {\n    var popSlice = payload.popSlice;\n    var layer;\n    layer = {\n      id: popSlice.layerName,\n      type: \"circle\",\n      source: popSlice.sourceName,\n      paint: {\n        \"circle-radius\": {\n          base: 1.75,\n          stops: [[12, 2], [22, 180]]\n        },\n        \"circle-color\": {\n          type: \"identity\",\n          property: \"color\"\n        },\n        \"circle-opacity\": state.opacity,\n        \"circle-opacity-transition\": {\n          duration: 0\n        }\n      }\n    };\n\n    payload.map.addLayer(layer, payload.beforeLayer);\n    state.loadedLayers.push(popSlice.layerName);\n  },\n  [CLEAR_POPULATION](state, map) {\n    // remove layers\n    for (const layer of state.loadedLayers) map.removeLayer(layer);\n    state.loadedLayers = [];\n    // remove sources\n    for (const source of state.loadedSources) map.removeSource(source);\n    state.loadedSources = [];\n\n    // remove animation states\n    delete window.populationGeojson;\n\n    state.selected = null;\n    state.currActivities = {};\n  }\n};\n\nconst actions = {\n  clearMap: {\n    // Every store module is responsible for cleaning up after itself\n    // https://vuex.vuejs.org/guide/modules.html#register-global-action-in-namespaced-modules\n    root: true,\n    handler({ commit, rootGetters }) {\n      // ensure any existing matsim/fire artifacts are removed\n      commit(CLEAR_POPULATION, rootGetters.mapInstance);\n    }\n  },\n  select({ dispatch, getters, rootGetters, commit }, pop) {\n    commit(CLEAR_POPULATION, rootGetters.mapInstance);\n    commit(SELECT_POPULATION, pop);\n    if (getters.selected) {\n      dispatch(\"load\");\n\n      // handle the case where the population has been selected without selecting a region\n      if (rootGetters.selectedRegion == null && getters.selected.tags)\n        dispatch(\"selectRelevantRegion\", getters.selected.tags, { root: true });\n    }\n  },\n  // Used in Map.vue by loadLayersOnStyleChange.\n  // Adds both source and layers back to the map in the event of a style change\n  // Must be implemented by any module that\n  // adds sources/layers to mapbox.\n  loadGlobal: {\n    root: true,\n    handler({ dispatch }) {\n      dispatch(\"load\");\n    }\n  },\n  load({ dispatch, getters }) {\n    if (getters.selected) {\n      dispatch(\n        \"downloadAndCreateLayers\",\n        process.env.VUE_APP_EES_TILES_API + \"/\" + getters.selected.file\n      );\n    }\n  },\n  downloadAndCreateLayers({ state, dispatch, commit, rootGetters }, url) {\n    const map = rootGetters.mapInstance;\n    commit(START_LOADING, null, { root: true });\n\n    // the vuex state cant handle large datastructures\n    window.populationGeojson = [];\n\n    // download and pre-process the geojson for better performance while rendering\n    // we will build our own sources and layers for each fire step\n    fetch(url)\n      .then(function(response) {\n        return response.json();\n      })\n      .then(function(json) {\n        // json is sorted by end_time\n        // we can efficiently set up sources\n        const lastFeature = json[json.length - 1];\n        const totalMinutes = lastFeature.end_hr * 60;\n        const totalSteps = Math.ceil(\n          totalMinutes / rootGetters[\"fire/stepMinutes\"]\n        );\n\n        var whereareyounow = {};\n        var currActivities = [];\n\n        // a first sweep to determine where everyone starts\n        // and total activity types\n        for (const plan of json) {\n          if (!(plan.id in whereareyounow)) {\n            whereareyounow[plan.id] = plan;\n          }\n          if (!currActivities.includes(plan.type)) {\n            currActivities.push(plan.type);\n          }\n        }\n\n        commit(POP_SET_ACTIVITIES, currActivities);\n\n        // this will track the geojson features array\n        var j = 0;\n        // skip nulls\n        // generate a geojson object for each step\n        for (var i = 0; i < totalSteps; i++) {\n          // set a threshold\n          var threshold = (i * rootGetters[\"fire/stepMinutes\"]) / 60;\n\n          // add all features below the minutes threshold to this structure\n          while (json[j].end_hr < threshold) {\n            whereareyounow[json[j].id] = json[j];\n            j++;\n          }\n\n          // create a fresh geojson structure for this layer\n          var sect = {\n            type: \"FeatureCollection\",\n            features: []\n          };\n\n          // we know the state of everyone at this time, create a feature for each person\n          for (const k of Object.keys(whereareyounow)) {\n            var feature = {\n              type: \"Feature\",\n              properties: {\n                person: whereareyounow[k].id,\n                end_hr: whereareyounow[k].end_hr,\n                type: whereareyounow[k].type,\n                color: state.currActivities[whereareyounow[k].type]\n              },\n              geometry: {\n                type: \"Point\",\n                coordinates: [whereareyounow[k].x, whereareyounow[k].y]\n              }\n            };\n            sect.features.push(feature);\n          }\n\n          window.populationGeojson.push(sect);\n        }\n\n        // create a single layer to conduct animation in\n        var layer = \"pop-layer\";\n        var source = \"pop-source\";\n        commit(POP_ADD_SOURCE, {\n          map: map,\n          popSlice: {\n            sourceName: source,\n            geojson: window.populationGeojson[0]\n          }\n        });\n        commit(POP_ADD_LAYER, {\n          map: map,\n          beforeLayer: rootGetters.featureSetPlaceholderLayerId[\"population\"],\n          popSlice: {\n            sourceName: source,\n            layerName: layer\n          }\n        });\n        dispatch(\"filter\", totalSteps - 1, { root: true }); // load the final fire step\n        commit(DONE_LOADING, null, { root: true });\n      });\n  },\n  filter: {\n    root: true,\n    handler({ rootGetters }, fireStep) {\n      const map = rootGetters.mapInstance;\n\n      const s = map.getSource(\"pop-source\");\n      if (typeof s !== \"undefined\") {\n        s.setData(window.populationGeojson[fireStep]);\n      }\n    }\n  },\n  changeActivityColor({ state, dispatch, commit }, { id, color }) {\n    if (state.activityColors[id] != color) {\n      commit(POP_SET_ACTIVITY_COLOR, { id, color });\n      dispatch(\"select\", state.selected);\n    }\n  },\n  setOpacity({ rootGetters, commit }, val) {\n    var map = rootGetters.mapInstance;\n    var layer = \"pop-layer\";\n\n    commit(POPULATION_SET_OPACITY, val);\n    map.setPaintProperty(layer, \"circle-opacity\", val);\n  },\n  reload: {\n    root: true,\n    handler({ rootGetters, commit }) {\n      var map = rootGetters.mapInstance;\n      var layer;\n\n      // we dont want to clear, just reset each layer\n      layer = \"pop-layer\";\n      map.removeLayer(layer);\n      state.loadedLayers = [];\n\n      var source = \"pop-source\";\n\n      commit(POP_ADD_LAYER, {\n        map: map,\n        popSlice: {\n          sourceName: source,\n          layerName: layer\n        }\n      });\n    }\n  }\n};\n\nexport default {\n  namespaced,\n  state,\n  getters,\n  mutations,\n  actions\n};\n","// simulation state\nimport {\n  MATSIM_SAVE_CONFIG,\n  MATSIM_SETTINGS_VIS\n} from \"@/store/mutation-types\";\n\nconst state = {\n  savedSettingsJson: null,\n  simulationName: null,\n  simSettingsIsOpen: false\n};\n\nconst getters = {};\n\nconst mutations = {\n  [MATSIM_SAVE_CONFIG](state, value) {\n    state.savedSettingsJson = value;\n\n    fetch(process.env.VUE_APP_EES_TILES_API + \"/save-settings\", {\n      method: \"POST\",\n      body: JSON.stringify(value),\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    })\n      .then(response => response)\n      .then(result => {\n        if (result.details) {\n          // there was an error...\n          const error = result.details.map(detail => detail.message).join(\". \");\n          console.log(error);\n        } else {\n          console.log(result);\n        }\n      });\n  },\n  [MATSIM_SETTINGS_VIS](state, value) {\n    state.simSettingsIsOpen = value;\n  },\n  setSimulationName(state, value) {\n    state.simulationName = value;\n  }\n};\n\nconst actions = {};\n\nexport default {\n  state,\n  getters,\n  mutations,\n  actions\n};\n","// Output playthrough\n//\nimport {\n  START_LOADING,\n  DONE_LOADING,\n  SELECT_POPULATION,\n  POPULATION_SET_OPACITY,\n  POP_ADD_SOURCE,\n  POP_ADD_LAYER,\n  CLEAR_POPULATION\n} from \"@/store/mutation-types\";\n\nconst namespaced = true; // https://vuex.vuejs.org/guide/modules.html#namespacing\n\nconst state = {\n  stepSeconds: 60,\n  stepMinutes: 1,\n  visibleStep: 0,\n  selected: null,\n  loadedLayers: [],\n  loadedSources: [],\n  opacity: 1.0,\n  activityColors: {\n    home: \"#fbb03b\",\n    work: \"#223b53\",\n    beach: \"#e55e5e\",\n    shops: \"#3bb2d0\",\n    other: \"#ccc\"\n  }\n};\n\nconst getters = {\n  stepMinutes: state => state.stepMinutes,\n  stepSeconds: state => state.stepSeconds,\n  selected: (state, getters, rootState, rootGetters) => {\n    const all = rootGetters.populations;\n    if (!all) return null;\n\n    if (state.selected in all) return all[state.selected];\n    else return null;\n  },\n  description: (state, getters) => {\n    if (state.selected) {\n      return getters.selected.description;\n    } else return \"\";\n  },\n  totalLayers: state => state.loadedLayers.length,\n  aboveLayer: (state, getters, rootState) => {\n    return rootState.firstSymbolLayer;\n  }\n};\n\nconst mutations = {\n  [\"SET_VISIBLE_STEP\"](state, newVal) {\n    state.visibleStep = newVal;\n  },\n  [SELECT_POPULATION](state, newVal) {\n    state.selected = newVal;\n  },\n  [POPULATION_SET_OPACITY](state, value) {\n    state.opacity = value;\n  },\n  [POP_ADD_SOURCE](state, payload) {\n    var popSlice = payload.popSlice;\n    var source = popSlice.sourceName;\n\n    // setup unique source\n    payload.map.addSource(source, {\n      type: \"geojson\",\n      data: popSlice.geojson\n    });\n    state.loadedSources.push(source);\n  },\n  [POP_ADD_LAYER](state, payload) {\n    var popSlice = payload.popSlice;\n    var layer;\n    layer = {\n      id: popSlice.layerName,\n      type: \"circle\",\n      source: popSlice.sourceName,\n      paint: {\n        \"circle-radius\": {\n          base: 1.75,\n          stops: [[12, 2], [22, 180]]\n        },\n        \"circle-color\": {\n          property: \"v\",\n          stops: [[0, \"#ffffff\"], [25, \"#ff0000\"]]\n        },\n        \"circle-opacity\": state.opacity,\n        \"circle-opacity-transition\": {\n          duration: 0\n        }\n      }\n    };\n\n    payload.map.addLayer(layer, payload.beforeLayer);\n    state.loadedLayers.push(popSlice.layerName);\n  },\n  [CLEAR_POPULATION](state, map) {\n    // remove layers\n    for (const layer of state.loadedLayers) map.removeLayer(layer);\n    state.loadedLayers = [];\n    // remove sources\n    for (const source of state.loadedSources) map.removeSource(source);\n    state.loadedSources = [];\n\n    // remove animation states\n    delete window.populationGeojson;\n\n    state.selected = null;\n  }\n};\n\nconst actions = {\n  clearMap: {\n    // Every store module is responsible for cleaning up after itself\n    // https://vuex.vuejs.org/guide/modules.html#register-global-action-in-namespaced-modules\n    root: true,\n    handler({ commit, rootGetters }) {\n      // ensure any existing matsim/fire artifacts are removed\n      commit(CLEAR_POPULATION, rootGetters.mapInstance);\n    }\n  },\n  select({ dispatch, getters, rootGetters, commit }, pop) {\n    commit(CLEAR_POPULATION, rootGetters.mapInstance);\n    commit(SELECT_POPULATION, pop);\n    if (getters.selected) dispatch(\"load\");\n  },\n  // Used in Map.vue by loadLayersOnStyleChange.\n  // Adds both source and layers back to the map in the event of a style change\n  // Must be implemented by any module that\n  // adds sources/layers to mapbox.\n  loadGlobal: {\n    root: true,\n    handler({ dispatch }) {\n      dispatch(\"selectRegion\", \"surf_coast_shire_network\", { root: true });\n      dispatch(\n        \"fire/select\",\n        \"Anglesea_evac_test_ffdi104_phx5_2016data_minsup_fh2017_grid\",\n        { root: true }\n      );\n      dispatch(\"load\");\n    }\n  },\n  load({ dispatch }) {\n    dispatch(\n      \"downloadAndCreateLayers\",\n      process.env.VUE_APP_EES_TILES_API +\n        \"/populations/link_entry_frames_grouped.json\"\n    );\n  },\n  downloadAndCreateLayers({ dispatch, commit, getters, rootGetters }, url) {\n    const map = rootGetters.mapInstance;\n    commit(START_LOADING, null, { root: true });\n\n    // the vuex state cant handle large datastructures\n    window.populationGeojson = [];\n\n    // download and pre-process the geojson for better performance while rendering\n    // we will build our own sources and layers for each fire step\n    fetch(url)\n      .then(function(response) {\n        return response.json();\n      })\n      .then(function(json) {\n        window.populationGeojson = json;\n\n        // create a single layer to conduct animation in\n        var layer = \"output-layer\";\n        var source = \"output-source\";\n        commit(POP_ADD_SOURCE, {\n          map: map,\n          popSlice: {\n            sourceName: source,\n            geojson: window.populationGeojson[0]\n          }\n        });\n        commit(POP_ADD_LAYER, {\n          map: map,\n          beforeLayer: rootGetters.fireBeforeLayer,\n          popSlice: {\n            sourceName: source,\n            layerName: layer\n          }\n        });\n        var minutes = ((json.length - 1) * getters.stepSeconds) / 60;\n        dispatch(\n          \"filter\",\n          parseInt(minutes / rootGetters[\"fire/stepMinutes\"]),\n          { root: true }\n        ); // load the final fire step\n        dispatch(\"filterSeconds\", json.length - 1, { root: true }); // load the final fire step\n        commit(DONE_LOADING, null, { root: true });\n      });\n  },\n  filterSeconds: {\n    root: true,\n    handler({ commit, rootGetters }, step) {\n      commit(\"SET_VISIBLE_STEP\", step);\n      const map = rootGetters.mapInstance;\n\n      const s = map.getSource(\"output-source\");\n      if (typeof s !== \"undefined\") {\n        s.setData(window.populationGeojson[step]);\n      }\n    }\n  },\n  setOpacity({ rootGetters, commit }, val) {\n    var map = rootGetters.mapInstance;\n    var layer = \"output-layer\";\n\n    commit(POPULATION_SET_OPACITY, val);\n    map.setPaintProperty(layer, \"circle-opacity\", val);\n  },\n  reload: {\n    root: true,\n    handler({ rootGetters, commit }) {\n      var map = rootGetters.mapInstance;\n      var layer;\n\n      // we dont want to clear, just reset each layer\n      layer = \"output-layer\";\n      map.removeLayer(layer);\n      state.loadedLayers = [];\n\n      var source = \"output-source\";\n\n      commit(POP_ADD_LAYER, {\n        map: map,\n        popSlice: {\n          sourceName: source,\n          layerName: layer\n        }\n      });\n    }\n  }\n};\n\nexport default {\n  namespaced,\n  state,\n  getters,\n  mutations,\n  actions\n};\n","import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport config from \"./modules/config\";\nimport map from \"./modules/map\";\nimport fire from \"./modules/fire\";\nimport smoke from \"./modules/smoke\";\nimport population from \"./modules/population\";\nimport simulation from \"./modules/simulation\";\nimport output from \"./modules/output\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  modules: {\n    config,\n    map,\n    fire,\n    smoke,\n    population,\n    simulation,\n    output\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view',{staticClass:\"router-view\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=5bdec0c6&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{on:{\"!keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.toggleSettingsVis()}}},[_c('maplayer'),_c('popLegend'),_c('slider'),_c('spinner'),_c('population'),_c('setup'),_c('buttons'),_c('savesettings')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.visibleStep || _vm.visibleStep === 0)?_c('div',{staticClass:\"time-slider-overlay\"},[_c('div',{staticClass:\"time-slider-overlay-inner\"},[_c('vue-slider',_vm._b({ref:\"fireslider\",attrs:{\"marks\":_vm.hasLabel,\"tooltip\":'always',\"tooltip-formatter\":_vm.stepToTime,\"use-keyboard\":true},scopedSlots:_vm._u([{key:\"label\",fn:function(ref){\nvar active = ref.active;\nvar value = ref.value;\nreturn [_c('div',{class:['vue-slider-mark-label', 'custom-label', { active: active }]},[_vm._v(\"\\n          \"+_vm._s(_vm.stepToTime(value))+\"\\n        \")])]}}],null,false,3544431226),model:{value:(_vm.timeStep),callback:function ($$v) {_vm.timeStep=$$v},expression:\"timeStep\"}},'vue-slider',_vm.sliderConfig,false))],1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"visibleStep || visibleStep === 0\" class=\"time-slider-overlay\">\n    <div class=\"time-slider-overlay-inner\">\n      <vue-slider\n        ref=\"fireslider\"\n        v-bind=\"sliderConfig\"\n        v-model=\"timeStep\"\n        :marks=\"hasLabel\"\n        :tooltip=\"'always'\"\n        :tooltip-formatter=\"stepToTime\"\n        :use-keyboard=\"true\"\n      >\n        <template v-slot:label=\"{ active, value }\">\n          <div :class=\"['vue-slider-mark-label', 'custom-label', { active }]\">\n            {{ stepToTime(value) }}\n          </div>\n        </template>\n      </vue-slider>\n    </div>\n  </div>\n</template>\n\n<script>\nimport VueSlider from \"vue-slider-component\";\nimport \"vue-slider-component/theme/default.css\";\nimport { mapState } from \"vuex\";\n\nexport default {\n  name: \"mapSlider\",\n  components: { VueSlider },\n  props: {},\n  data: function() {\n    var ls = []; // label step size\n    ls[\"sm\"] = 6 * 6;\n    ls[\"md\"] = 6 * 4;\n    ls[\"lg\"] = 6;\n    return {\n      labelStep: ls\n    };\n  },\n  computed: {\n    ...mapState({\n      fireStepMinutes: state => state.fire.stepMinutes,\n      visibleStep: state => state.fire.visibleStep,\n      fireSliderTicks: state => state.fire.fireSliderTicks\n    }),\n    sliderConfig() {\n      return {\n        width: \"98%\",\n        value: this.visibleStep ? this.visibleStep : 0,\n        min: 0,\n        max: this.maxSteps\n      };\n    },\n    timeStep: {\n      get() {\n        return this.visibleStep;\n      },\n      set(val) {\n        this.$store.dispatch(\"filter\", val);\n      }\n    },\n    maxSteps() {\n      return (24 * 60) / this.fireStepMinutes;\n    }\n  },\n  methods: {\n    hasLabel(timeStep) {\n      var interval = this.labelStep[this.$mq];\n      var notTooClose = timeStep < this.maxSteps - interval + 1;\n      return (\n        (timeStep % interval === 0 && notTooClose) ||\n        timeStep === this.maxSteps - 1\n      );\n    },\n    stepToTime(timeStep) {\n      return (\n        Math.floor((timeStep * 10) / 60).toString() +\n        \":\" +\n        ((timeStep * 10) % 60).toString().padStart(2, \"0\")\n      );\n    }\n  }\n};\n</script>\n\n<style>\n.time-slider-overlay {\n  position: absolute;\n  width: 88%;\n  bottom: 2.5%;\n  right: 0;\n  height: auto;\n  overflow: visible;\n  padding: 0 0 0 0;\n  margin: 0 0 0 0;\n  z-index: 100;\n}\n\n.time-slider-overlay .time-slider-overlay-inner {\n  background-color: rgba(255, 255, 255, 0.8);\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n  border-radius: 3px;\n  padding: 0 1em 1.5em 2em;\n  margin-bottom: 10px;\n  overflow: visible;\n}\n.vue-slider-process {\n  background-color: rgb(16, 102, 253);\n}\n.vue-slider-dot-tooltip-inner {\n  background-color: rgb(16, 102, 253);\n}\n.vue-slider-dot-tooltip-inner:after {\n  border-top-color: rgb(16, 102, 253);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapTimeSlider.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapTimeSlider.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapTimeSlider.vue?vue&type=template&id=7b61b1c9&\"\nimport script from \"./MapTimeSlider.vue?vue&type=script&lang=js&\"\nexport * from \"./MapTimeSlider.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapTimeSlider.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.popSelected !== null)?_c('div',{staticClass:\"legend-overlay\"},[_c('div',{staticClass:\"legend-overlay-inner\"},[_c('table',{attrs:{\"id\":\"pop-legend\",\"cellspacing\":\"3px\"}},_vm._l((_vm.currActivities),function(color,id,index){return _c('tr',{key:id},[_c('td',[_c('verte',{staticClass:\"p-1\",attrs:{\"menuPosition\":\"top\",\"picker\":\"square\",\"model\":\"hex\",\"value\":color},on:{\"input\":function($event){return _vm.changeColor(index, $event)}}})],1),_c('td',{staticClass:\"p-2\"},[_vm._v(_vm._s(id))])])}),0)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"popSelected !== null\" class=\"legend-overlay\">\n    <div class=\"legend-overlay-inner\">\n      <table id=\"pop-legend\" cellspacing=\"3px\">\n        <tr v-for=\"(color, id, index) in currActivities\" :key=\"id\">\n          <td>\n            <verte\n              class=\"p-1\"\n              menuPosition=\"top\"\n              picker=\"square\"\n              model=\"hex\"\n              :value=\"color\"\n              v-on:input=\"changeColor(index, $event)\"\n            ></verte>\n          </td>\n          <td class=\"p-2\">{{ id }}</td>\n        </tr>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Verte from \"verte\";\nimport \"verte/dist/verte.css\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: \"mapPopLegend\",\n  props: {},\n  data: function() {\n    return {};\n  },\n  components: { Verte },\n  computed: {\n    ...mapGetters({\n      popSelected: \"population/selected\",\n      currActivities: \"population/currActivities\"\n    })\n  },\n  methods: {\n    changeColor: function(id, color) {\n      this.$store.dispatch(\"population/changeActivityColor\", { id, color });\n    }\n  }\n};\n</script>\n\n<style>\n.legend-overlay {\n  position: absolute;\n  width: 6%;\n  bottom: 150px;\n  right: 0;\n  height: auto;\n  overflow: visible;\n  padding: 0 0 0 0;\n  margin: 0 0 0 0;\n  z-index: 100;\n}\n\n.legend-overlay .legend-overlay-inner {\n  background-color: rgba(255, 255, 255, 0.8);\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n  padding: 0;\n  overflow: visible;\n}\n.legend-overlay-inner table td {\n  text-transform: capitalize;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapPopulationLegend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapPopulationLegend.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapPopulationLegend.vue?vue&type=template&id=5cac5ae5&\"\nimport script from \"./MapPopulationLegend.vue?vue&type=script&lang=js&\"\nexport * from \"./MapPopulationLegend.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapPopulationLegend.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-settings-container\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOpen),expression:\"isOpen\"}],staticClass:\"map-overlay\"},[_c('div',{staticClass:\"map-population-panel\"},[_c('label',{attrs:{\"for\":\"map-population\"}},[_vm._v(\"Population inside square:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.squarePopulation),expression:\"squarePopulation\"}],attrs:{\"id\":\"map-population\",\"type\":\"text\"},domProps:{\"value\":(_vm.squarePopulation)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.squarePopulation=$event.target.value}}}),_c('button',{staticClass:\"icon\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.toggle()}}},[_vm._v(\"Save\")])])]),_c('div',{attrs:{\"id\":\"map-link-panel\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"map-settings-container\">\n    <div class=\"map-overlay\" v-show=\"isOpen\">\n      <div class=\"map-population-panel\">\n        <label for=\"map-population\">Population inside square:</label>\n        <input id=\"map-population\" type=\"text\" v-model=\"squarePopulation\" />\n        <button class=\"icon\" type=\"button\" @click=\"toggle()\">Save</button>\n      </div>\n    </div>\n    <div id=\"map-link-panel\"></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"mapSquarePopulation\",\n  props: {\n    squarePopulation: {\n      default: 0,\n      type: Number\n    }\n  },\n  computed: {\n    isOpen: {\n      get() {\n        return this.$store.state.map.squarePopulationIsOpen;\n      },\n      set(value) {\n        this.$store.commit(\"setSquarePopulationIsOpen\", value);\n      }\n    }\n  },\n  methods: {\n    toggle: function() {\n      this.$store.commit(\n        \"setSquarePopulationIsOpen\",\n        !this.$store.state.map.squarePopulationIsOpen\n      );\n    }\n  }\n};\n</script>\n\n<style>\n.map-settings-panel select {\n  text-align: center;\n}\n\n.map-settings-button-container {\n  padding-top: 150px;\n}\n\n.map-settings-panel {\n}\n\n.map-overlay {\n  font: bold 12px/20px \"Helvetica Neue\", Arial, Helvetica, sans-serif;\n  position: absolute;\n  width: 40%;\n  top: 10%;\n  right: 30%;\n  height: auto;\n  overflow: auto;\n  background-color: rgba(255, 255, 255, 0.7);\n  padding: 0 0 20px 0;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n  border-radius: 5px;\n  z-index: 100;\n}\n\n.map-overlay label {\n  display: block;\n  margin: 10px 0 0 0;\n}\n\n.map-overlay input {\n  display: inline-block;\n  width: 100%;\n  position: relative;\n  margin: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapSquarePopulation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapSquarePopulation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapSquarePopulation.vue?vue&type=template&id=0905d788&\"\nimport script from \"./MapSquarePopulation.vue?vue&type=script&lang=js&\"\nexport * from \"./MapSquarePopulation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapSquarePopulation.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n    this.$store.state.map.mapInstance != null &&\n      (this.$store.state.config.data != null || this.error != null) &&\n      this.$store.state.map.mapSettingsIsOpen\n  ),expression:\"\\n    this.$store.state.map.mapInstance != null &&\\n      (this.$store.state.config.data != null || this.error != null) &&\\n      this.$store.state.map.mapSettingsIsOpen\\n  \"}],staticClass:\"p-0 h-100 mapboxgl-ctrl-top-left map-sidebar-container\",attrs:{\"fluid\":\"\"}},[_c('b-row',{staticClass:\"h-100\",attrs:{\"no-gutters\":\"\"}},[_c('b-col',{staticClass:\"h-100 m-0 pt-2 mapboxgl-ctrl map-sidebar-col\",attrs:{\"sm\":\"5\"}},[_c('div',{attrs:{\"id\":\"h-100 nav\"}},[_c('h5',[_vm._v(\"Emergency Evacuation Simulator\")]),_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Home\")]),_vm._v(\" |\\n        \"),_c('router-link',{attrs:{\"to\":\"/about\"}},[_vm._v(\"About\")])],1),_c('b-collapse',{staticClass:\"h-100\",attrs:{\"visible\":\"\",\"id\":\"collapse-side-panel\"}},[_c('div',{staticClass:\"h-100 map-accordion-container\"},[(this.error != null)?_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"danger\"},domProps:{\"innerHTML\":_vm._s(this.error)}}):_vm._e(),_c('b-card',{staticClass:\"mb-1 p-0\",attrs:{\"header\":\"Scenario\"}},[_c('b-form-group',{attrs:{\"label-cols-sm\":\"12\",\"label-cols-lg\":\"4\",\"label\":\"Region\",\"label-for\":\"map-region\"}},[_c('b-form-select',{attrs:{\"id\":\"map-region\"},model:{value:(_vm.selectedRegion),callback:function ($$v) {_vm.selectedRegion=$$v},expression:\"selectedRegion\"}},[_c('option',{attrs:{\"value\":\"any-placeholder\"}},[_vm._v(\"(any)\")]),_vm._l((_vm.regions),function(r,id){return _c('option',{key:id,attrs:{\"disabled\":_vm.selectedRegion == id},domProps:{\"value\":id}},[_vm._v(_vm._s(r.name))])})],2)],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"12\",\"label-cols-lg\":\"4\",\"label\":\"Population\",\"label-for\":\"map-population\",\"description\":_vm.popDesc}},[_c('b-form-select',{attrs:{\"id\":\"map-population\"},model:{value:(_vm.selectedPopulation),callback:function ($$v) {_vm.selectedPopulation=$$v},expression:\"selectedPopulation\"}},[_c('option',{attrs:{\"value\":\"no-population\",\"disabled\":_vm.selectedPopulation == 'no-population'}},[_vm._v(\"None\")]),_vm._l((_vm.popInSelectedRegion),function(p,id){return _c('option',{key:id,attrs:{\"disabled\":_vm.selectedPopulation == id},domProps:{\"value\":id}},[_vm._v(_vm._s(p.display_name))])})],2)],1)],1),_c('b-card',{staticClass:\"mb-1\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h6',{staticClass:\"mb-0\"},[_vm._v(\"\\n                Emergency Incident\\n                \"),_c('span',{staticClass:\"helper-icons\"},[_c('FontAwesomeIcon',{directives:[{name:\"b-popover\",rawName:\"v-b-popover.hover\",value:(_vm.helperOptions[0].text),expression:\"helperOptions[0].text\",modifiers:{\"hover\":true}}],attrs:{\"icon\":\"info-circle\"}})],1)])]},proxy:true}])},[_c('b-collapse',{attrs:{\"visible\":\"\",\"id\":\"collapse-incident\"}},[_c('b-form-group',{attrs:{\"label-cols-sm\":\"12\",\"label-cols-lg\":\"4\",\"label\":\"Fire\",\"label-for\":\"map-fire\",\"description\":_vm.eventDesc}},[_c('b-form-select',{attrs:{\"id\":\"map-fire\"},model:{value:(_vm.selectedFire),callback:function ($$v) {_vm.selectedFire=$$v},expression:\"selectedFire\"}},[_c('option',{attrs:{\"value\":\"no-fire\",\"disabled\":_vm.selectedFire == 'no-fire'}},[_vm._v(\"None\")]),_vm._l((_vm.firesInSelectedRegion),function(f,id){return _c('option',{key:id,attrs:{\"disabled\":_vm.selectedFire == id},domProps:{\"value\":id}},[_vm._v(_vm._s(f.display_name))])})],2)],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"12\",\"label-cols-lg\":\"4\",\"label\":\"Display Embers\",\"label-for\":\"map-embers\"}},[_c('b-form-checkbox',{staticClass:\"ml-2 form-check-input\",attrs:{\"id\":\"map-embers\",\"disabled\":_vm.selectedFire == 'no-fire'},model:{value:(_vm.showSmoke),callback:function ($$v) {_vm.showSmoke=$$v},expression:\"showSmoke\"}})],1)],1)],1),_c('MapTrafficBehaviourCard',{attrs:{\"helpText\":_vm.helperOptions[3].text,\"trafficSpeed\":100}}),_c('b-card',{staticClass:\"mb-1\",attrs:{\"header\":\"UI Settings\"}},[_c('b-collapse',{attrs:{\"visible\":\"\",\"id\":\"collapse-map-style\"}},[_c('b-form',[_c('b-form-group',{attrs:{\"label-cols-sm\":\"12\",\"label-cols-lg\":\"8\",\"label\":\"Map Style\",\"label-for\":\"map-style\"}},[_c('b-form-select',{attrs:{\"id\":\"map-style\"},model:{value:(_vm.mapboxStyle),callback:function ($$v) {_vm.mapboxStyle=$$v},expression:\"mapboxStyle\"}},_vm._l((_vm.styles),function(style){return _c('option',{key:style.id,attrs:{\"disabled\":_vm.mapboxStyle.id == style.id},domProps:{\"value\":style.id}},[_vm._v(_vm._s(style.name))])}),0)],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"12\",\"label-cols-lg\":\"8\",\"label\":\"Fire Opacity\",\"label-for\":\"fire_opacity\"}},[_c('b-form-input',{attrs:{\"id\":\"fire_opacity\",\"type\":\"number\",\"value\":\"0.7\",\"step\":\"0.1\",\"min\":\"0\",\"max\":\"1\",\"disabled\":this.$store.state.fire.selectedFire == null},model:{value:(_vm.fireOpacity),callback:function ($$v) {_vm.fireOpacity=$$v},expression:\"fireOpacity\"}})],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"12\",\"label-cols-lg\":\"8\",\"label\":\"Embers Opacity\",\"label-for\":\"smoke_opacity\"}},[_c('b-form-input',{attrs:{\"id\":\"smoke_opacity\",\"type\":\"number\",\"value\":\"0.5\",\"step\":\"0.1\",\"min\":\"0\",\"max\":\"1\",\"disabled\":this.$store.state.fire.selectedFire == null},model:{value:(_vm.smokeOpacity),callback:function ($$v) {_vm.smokeOpacity=$$v},expression:\"smokeOpacity\"}})],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"12\",\"label-cols-lg\":\"8\",\"label\":\"Population Opacity\",\"label-for\":\"population_opacity\"}},[_c('b-form-input',{attrs:{\"id\":\"population_opacity\",\"type\":\"number\",\"value\":\"0.5\",\"step\":\"0.1\",\"min\":\"0\",\"max\":\"1\"},model:{value:(_vm.popOpacity),callback:function ($$v) {_vm.popOpacity=$$v},expression:\"popOpacity\"}})],1)],1)],1)],1),_c('br'),_c('br'),_c('br')],1)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-link-panel\"},[_c('b-form-group',{attrs:{\"label\":\"MATSim Link ID:\",\"label-for\":\"map-link\"}},[_c('b-form-input',{attrs:{\"id\":\"map-link\",\"type\":\"text\",\"placeholder\":\"Please select a MATSim Network Link from the map\",\"readonly\":\"\"},model:{value:(_vm.linkId),callback:function ($$v) {_vm.linkId=$$v},expression:\"linkId\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Disruption Start Time:\",\"label-for\":\"map-link-start\"}},[_c('b-form-input',{attrs:{\"id\":\"map-link-start\",\"type\":\"text\"},model:{value:(_vm.linkStart),callback:function ($$v) {_vm.linkStart=$$v},expression:\"linkStart\"}})],1),_c('button',{staticClass:\"icon\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.toggle()}}},[_vm._v(\"Save\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"map-link-panel\">\n    <b-form-group label=\"MATSim Link ID:\" label-for=\"map-link\">\n      <b-form-input\n        id=\"map-link\"\n        type=\"text\"\n        v-model=\"linkId\"\n        placeholder=\"Please select a MATSim Network Link from the map\"\n        readonly\n      >\n      </b-form-input>\n    </b-form-group>\n    <b-form-group label=\"Disruption Start Time:\" label-for=\"map-link-start\">\n      <b-form-input id=\"map-link-start\" type=\"text\" v-model=\"linkStart\">\n      </b-form-input>\n    </b-form-group>\n    <button class=\"icon\" type=\"button\" @click=\"toggle()\">Save</button>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"mapAffectedLink\",\n  props: {\n    linkId: {\n      default: \"\",\n      type: String\n    },\n    linkStart: {\n      default: \"00:00\",\n      type: String\n    }\n  },\n  computed: {\n    isOpen: {\n      get() {\n        return this.$store.state.map.affectedLinkIsOpen;\n      },\n      set(value) {\n        this.$store.commit(\"setAffectedLinkIsOpen\", value);\n      }\n    }\n  },\n  methods: {\n    toggle: function() {\n      this.$store.commit(\n        \"setAffectedLinkIsOpen\",\n        !this.$store.state.map.affectedLinkIsOpen\n      );\n    }\n  }\n};\n</script>\n\n<style>\n.map-overlay {\n  font: bold 12px/20px \"Helvetica Neue\", Arial, Helvetica, sans-serif;\n  position: absolute;\n  width: 40%;\n  top: 10%;\n  right: 30%;\n  height: auto;\n  overflow: auto;\n  background-color: rgba(255, 255, 255, 0.7);\n  padding: 0 0 20px 0;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n  border-radius: 5px;\n  z-index: 100;\n}\n\n.map-overlay label {\n  display: block;\n  margin: 10px 0 0 0;\n}\n\n.map-overlay input {\n  display: inline-block;\n  width: 100%;\n  position: relative;\n  margin: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapAffectedLink.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapAffectedLink.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapAffectedLink.vue?vue&type=template&id=7b5a6668&\"\nimport script from \"./MapAffectedLink.vue?vue&type=script&lang=js&\"\nexport * from \"./MapAffectedLink.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapAffectedLink.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',{staticClass:\"mb-1\",attrs:{\"header\":\"Traffic Behaviour Setup\"}},[_c('b-collapse',{attrs:{\"visible\":\"\",\"id\":\"collapse-traffic\"}},[_c('label',[_vm._v(\"\\n      Maximum speed on roads (as % of speed limits)\\n      \"),_c('span',{staticClass:\"helper-icons\"},[_c('FontAwesomeIcon',{directives:[{name:\"b-popover\",rawName:\"v-b-popover.hover\",value:(_vm.helpText),expression:\"helpText\",modifiers:{\"hover\":true}}],attrs:{\"icon\":\"info-circle\"}})],1)]),_c('div',{staticClass:\"traffic-slider\"},[_c('vue-slider',_vm._b({ref:\"trafficslider\",attrs:{\"interval\":10,\"tooltip\":'always',\"tooltip-formatter\":_vm.valueToPercent,\"marks\":_vm.valueToMark,\"drag-on-click\":true},model:{value:(_vm.trafficSpeed),callback:function ($$v) {_vm.trafficSpeed=$$v},expression:\"trafficSpeed\"}},'vue-slider',_vm.sliderConfig,false))],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-card class=\"mb-1\" header=\"Traffic Behaviour Setup\">\n    <b-collapse visible id=\"collapse-traffic\">\n      <label>\n        Maximum speed on roads (as % of speed limits)\n        <span class=\"helper-icons\">\n          <FontAwesomeIcon icon=\"info-circle\" v-b-popover.hover=\"helpText\" />\n        </span>\n      </label>\n      <div class=\"traffic-slider\">\n        <vue-slider\n          ref=\"trafficslider\"\n          v-bind=\"sliderConfig\"\n          v-model=\"trafficSpeed\"\n          :interval=\"10\"\n          :tooltip=\"'always'\"\n          :tooltip-formatter=\"valueToPercent\"\n          :marks=\"valueToMark\"\n          :drag-on-click=\"true\"\n        >\n        </vue-slider>\n      </div>\n    </b-collapse>\n  </b-card>\n</template>\n\n<script>\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faInfoCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\n\nimport VueSlider from \"vue-slider-component\";\nimport \"vue-slider-component/theme/default.css\";\n\nlibrary.add(faInfoCircle);\n\nexport default {\n  name: \"mapTrafficCard\",\n  components: { VueSlider, FontAwesomeIcon },\n  props: [\"trafficSpeed\", \"helpText\"],\n  data: function() {\n    return {\n      sliderConfig: {\n        min: 0,\n        max: 100,\n        dotStyle: {\n          display: \"none\"\n        }\n      },\n      valueToPercent: val => {\n        return `${val}%`;\n      },\n      valueToMark: val => ({\n        label: val % 100 === 0 ? this.valueToPercent(val) : \"\"\n      })\n    };\n  }\n};\n</script>\n\n<style>\n.traffic-slider {\n  padding: 1.5em 0.5em 0.5em 0.5em;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapTrafficBehaviourCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapTrafficBehaviourCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapTrafficBehaviourCard.vue?vue&type=template&id=7af1c173&\"\nimport script from \"./MapTrafficBehaviourCard.vue?vue&type=script&lang=js&\"\nexport * from \"./MapTrafficBehaviourCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapTrafficBehaviourCard.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <b-container\n    v-show=\"\n      this.$store.state.map.mapInstance != null &&\n        (this.$store.state.config.data != null || this.error != null) &&\n        this.$store.state.map.mapSettingsIsOpen\n    \"\n    fluid\n    class=\"p-0 h-100 mapboxgl-ctrl-top-left map-sidebar-container\"\n  >\n    <b-row no-gutters class=\"h-100\">\n      <b-col sm=\"5\" class=\"h-100 m-0 pt-2 mapboxgl-ctrl map-sidebar-col\">\n        <div id=\"h-100 nav\">\n          <h5>Emergency Evacuation Simulator</h5>\n          <router-link to=\"/\">Home</router-link> |\n          <router-link to=\"/about\">About</router-link>\n        </div>\n        <b-collapse visible id=\"collapse-side-panel\" class=\"h-100\">\n          <div class=\"h-100 map-accordion-container\">\n            <b-alert\n              show\n              v-if=\"this.error != null\"\n              variant=\"danger\"\n              v-html=\"this.error\"\n            ></b-alert>\n            <b-card header=\"Scenario\" class=\"mb-1 p-0\">\n              <b-form-group\n                label-cols-sm=\"12\"\n                label-cols-lg=\"4\"\n                label=\"Region\"\n                label-for=\"map-region\"\n              >\n                <b-form-select id=\"map-region\" v-model=\"selectedRegion\">\n                  <option value=\"any-placeholder\">(any)</option>\n                  <option\n                    v-for=\"(r, id) in regions\"\n                    :key=\"id\"\n                    :value=\"id\"\n                    :disabled=\"selectedRegion == id\"\n                    >{{ r.name }}</option\n                  >\n                </b-form-select>\n              </b-form-group>\n              <b-form-group\n                label-cols-sm=\"12\"\n                label-cols-lg=\"4\"\n                label=\"Population\"\n                label-for=\"map-population\"\n                :description=\"popDesc\"\n              >\n                <b-form-select id=\"map-population\" v-model=\"selectedPopulation\">\n                  <option\n                    value=\"no-population\"\n                    :disabled=\"selectedPopulation == 'no-population'\"\n                    >None</option\n                  >\n                  <option\n                    v-for=\"(p, id) in popInSelectedRegion\"\n                    :key=\"id\"\n                    :value=\"id\"\n                    :disabled=\"selectedPopulation == id\"\n                    >{{ p.display_name }}</option\n                  >\n                </b-form-select>\n              </b-form-group>\n            </b-card>\n            <b-card class=\"mb-1\">\n              <template v-slot:header>\n                <h6 class=\"mb-0\">\n                  Emergency Incident\n                  <span class=\"helper-icons\">\n                    <FontAwesomeIcon\n                      icon=\"info-circle\"\n                      v-b-popover.hover=\"helperOptions[0].text\"\n                    />\n                  </span>\n                </h6>\n              </template>\n              <b-collapse visible id=\"collapse-incident\">\n                <b-form-group\n                  label-cols-sm=\"12\"\n                  label-cols-lg=\"4\"\n                  label=\"Fire\"\n                  label-for=\"map-fire\"\n                  :description=\"eventDesc\"\n                >\n                  <b-form-select id=\"map-fire\" v-model=\"selectedFire\">\n                    <option\n                      value=\"no-fire\"\n                      :disabled=\"selectedFire == 'no-fire'\"\n                      >None</option\n                    >\n                    <option\n                      v-for=\"(f, id) in firesInSelectedRegion\"\n                      :key=\"id\"\n                      :value=\"id\"\n                      :disabled=\"selectedFire == id\"\n                      >{{ f.display_name }}</option\n                    >\n                  </b-form-select>\n                </b-form-group>\n                <b-form-group\n                  label-cols-sm=\"12\"\n                  label-cols-lg=\"4\"\n                  label=\"Display Embers\"\n                  label-for=\"map-embers\"\n                >\n                  <b-form-checkbox\n                    id=\"map-embers\"\n                    class=\"ml-2 form-check-input\"\n                    v-model=\"showSmoke\"\n                    :disabled=\"selectedFire == 'no-fire'\"\n                  >\n                  </b-form-checkbox>\n                </b-form-group>\n              </b-collapse>\n            </b-card>\n            <!--<b-card no-body class=\"mb-1\">\n              <b-card-header v-b-toggle.collapse-dest>\n                Destinations and safe lines\n                <span class=\"helper-icons\">\n                  <font-awesome-icon\n                    icon=\"info-circle\"\n                    v-b-popover.hover=\"helperOptions[2].text\"\n                  />\n                </span>\n              </b-card-header>\n              <b-collapse visible id=\"collapse-dest\">\n                <b-row>\n                  <b-col md=\"6\" sm=\"6\" xs=\"6\">\n                    <b-form-select\n                      v-model=\"dest_selected\"\n                      :options=\"dest_options\"\n                      disabled\n                    >\n                    </b-form-select>\n                  </b-col>\n                  <b-col md=\"5\" sm=\"5\" xs=\"5\">\n                    <b-button disabled size=\"sm\" variant=\"success\">\n                      <font-awesome-icon icon=\"plus-circle\" />\n                      Draw safe line\n                    </b-button>\n                  </b-col>\n                </b-row>\n              </b-collapse>\n            </b-card>-->\n            <MapTrafficBehaviourCard\n              :helpText=\"helperOptions[3].text\"\n              :trafficSpeed=\"100\"\n            />\n            <b-card class=\"mb-1\" header=\"UI Settings\">\n              <b-collapse visible id=\"collapse-map-style\">\n                <b-form>\n                  <b-form-group\n                    label-cols-sm=\"12\"\n                    label-cols-lg=\"8\"\n                    label=\"Map Style\"\n                    label-for=\"map-style\"\n                  >\n                    <b-form-select id=\"map-style\" v-model=\"mapboxStyle\">\n                      <option\n                        v-for=\"style in styles\"\n                        :key=\"style.id\"\n                        :value=\"style.id\"\n                        :disabled=\"mapboxStyle.id == style.id\"\n                        >{{ style.name }}</option\n                      >\n                    </b-form-select>\n                  </b-form-group>\n                  <b-form-group\n                    label-cols-sm=\"12\"\n                    label-cols-lg=\"8\"\n                    label=\"Fire Opacity\"\n                    label-for=\"fire_opacity\"\n                  >\n                    <b-form-input\n                      id=\"fire_opacity\"\n                      type=\"number\"\n                      value=\"0.7\"\n                      step=\"0.1\"\n                      min=\"0\"\n                      max=\"1\"\n                      v-model=\"fireOpacity\"\n                      :disabled=\"this.$store.state.fire.selectedFire == null\"\n                    />\n                  </b-form-group>\n                  <b-form-group\n                    label-cols-sm=\"12\"\n                    label-cols-lg=\"8\"\n                    label=\"Embers Opacity\"\n                    label-for=\"smoke_opacity\"\n                  >\n                    <b-form-input\n                      id=\"smoke_opacity\"\n                      type=\"number\"\n                      value=\"0.5\"\n                      step=\"0.1\"\n                      min=\"0\"\n                      max=\"1\"\n                      v-model=\"smokeOpacity\"\n                      :disabled=\"this.$store.state.fire.selectedFire == null\"\n                    />\n                  </b-form-group>\n                  <b-form-group\n                    label-cols-sm=\"12\"\n                    label-cols-lg=\"8\"\n                    label=\"Population Opacity\"\n                    label-for=\"population_opacity\"\n                  >\n                    <b-form-input\n                      id=\"population_opacity\"\n                      type=\"number\"\n                      value=\"0.5\"\n                      step=\"0.1\"\n                      min=\"0\"\n                      max=\"1\"\n                      v-model=\"popOpacity\"\n                    />\n                  </b-form-group>\n                </b-form>\n              </b-collapse>\n            </b-card>\n            <br />\n            <br />\n            <br />\n          </div>\n        </b-collapse>\n      </b-col>\n    </b-row>\n  </b-container>\n</template>\n\n<script>\nimport { mapState, mapGetters, mapActions } from \"vuex\";\nimport MapAffectedLink from \"@/components/MapAffectedLink.vue\";\nimport MapTrafficBehaviourCard from \"@/components/MapTrafficBehaviourCard.vue\";\nimport Vue from \"vue\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faMapMarker,\n  faInfoCircle,\n  faPlusCircle\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\n\nlibrary.add(faMapMarker, faInfoCircle, faPlusCircle);\nVue.config.productionTip = false;\n\nexport default {\n  name: \"mapSetup\",\n  props: {},\n  data: function() {\n    return {\n      isHidden: false,\n      styles: this.$store.state.config.styles,\n      populations: this.$store.state.config.populations,\n      modalShow: false,\n      //incident_selected: [\"fire\"], // Must be an array reference!\n      global: [{ text: \"startHHMM\", value: \"00:00\" }],\n      phoenix: [\n        { text: \"ignitionHHMM\", value: \"00:00\" },\n        {\n          text: \"fireGeoJson\",\n          value: \"scenarios/surf-coast-shire/test-files/scenario_fire.json\"\n        },\n        { text: \"smokeGeoJson\", value: \"\" }\n      ],\n      matsim: [\n        {\n          text: \"outputDir\",\n          value:\n            \"test/output/io/github/agentsoz/ees//TypicalSummerWeekday50kTest/testTypicalSummerWeekday50k/matsim\"\n        },\n        {\n          text: \"configXml\",\n          value:\n            \"scenarios/surf-coast-shire/test-files/scenario_matsim_main.xml\"\n        },\n        { text: \"maxDistanceForFireVisual\", value: \"1000\" },\n        { text: \"maxDistanceForSmokeVisual\", value: \"5000\" },\n        { text: \"fireAvoidanceBufferForVehicles\", value: \"5000\" },\n        { text: \"fireAvoidanceBufferForEmergencyVehicles\", value: \"1000\" },\n        { text: \"congestionEvaluationInterval\", value: \"180\" },\n        { text: \"congestionToleranceThreshold\", value: \"0.33\" },\n        { text: \"congestionReactionProbability\", value: \"0.0\" }\n      ],\n      trafficBehaviour: [\n        { text: \"proportion\", value: \"0.0\" },\n        { text: \"radiusInMtrs\", value: \"0\" }\n      ],\n      dest_selected: null,\n      dest_options: [{ value: null, text: \"Please select an option\" }],\n      helperOptions: [\n        {\n          value: 0,\n          text:\n            \"If the location chosen has fire models, choose which one to use. Select whether to show visually on map.\\nEvacuation can proceed without fire model, in which case No incident should be selected. If a fire model is selected, key attributes are displayed.\"\n        },\n        {\n          value: 1,\n          text:\n            \"Evac start is the time at which evacuation starts (announcement is made).\\nIf there is a fire model, this should be some time after fire ignition attribute of chosen fire.\\nEvac peak is the length of time after the start, at which the largest number of people are starting to leave.\\nEvacuations are dispersed around the peak point.\"\n        },\n        {\n          value: 2,\n          text:\n            \"Potential destinations are indicated in location file. These provide direction of evacuation. If multiple destinations are given, evacuation is split between these (currently an equal split - future work will allow user specification).\\nThe safe line is a line beyond which evacuees can be considered out of danger. Safe lines should be sufficiently long to cut all possible roads that could be used to a given destination. Only one safe line is allowed per destination. To draw line, click start point, release, click end point.\"\n        },\n        {\n          value: 3,\n          text:\n            \"The simulator will modify speeds based on congestion. However in a bushfire additional factors (e.g. smoke) may affect possible speed. This allows that to be specified as a % of the normal speed. The setting will affect all roads in the network, not only those near the fire.\"\n        }\n      ]\n    };\n  },\n  computed: {\n    ...mapState({\n      populationSquares: state => state.map.populationSquares,\n      selectedMATSimLink: state => state.map.selectedMATSimLink,\n      visibleStep: state => state.fire.visibleStep,\n      error: state => state.config.error\n    }),\n    ...mapGetters([\n      \"mapInstance\",\n      \"regions\",\n      \"selectedStyle\",\n      \"selectedRegion\",\n      \"popInSelectedRegion\"\n    ]),\n    ...mapGetters({\n      popDesc: \"population/description\",\n      eventDesc: \"fire/description\"\n    }),\n    firesInSelectedRegion() {\n      return !this.$store.getters.firesInSelectedRegion\n        ? []\n        : this.$store.getters.firesInSelectedRegion;\n    },\n    mapboxStyle: {\n      get() {\n        return this.$store.state.map.mapboxStyle;\n      },\n      set(value) {\n        this.changeMapboxStyle(value);\n        // loadLayersOnStyleChange triggers 'loadLayers' once mapbox is done\n      }\n    },\n    selectedRegion: {\n      get() {\n        return !this.$store.state.map.selectedRegion\n          ? \"no-region\"\n          : this.$store.state.map.selectedRegion;\n      },\n      set(value) {\n        // set the selected region in state\n        this.selectRegion(value);\n      }\n    },\n    selectedPopulation: {\n      get() {\n        return this.$store.getters[\"population/selected\"] == null\n          ? \"no-population\"\n          : this.$store.state.population.selected;\n      },\n      set(value) {\n        this[\"population/select\"](value);\n      }\n    },\n    selectedFire: {\n      get() {\n        return this.$store.getters[\"fire/selectedFire\"] == null\n          ? \"no-fire\"\n          : this.$store.state.fire.selectedFire;\n      },\n      set(value) {\n        this[\"fire/select\"](value);\n      }\n    },\n    selectedIncident: {\n      get() {\n        return [\"fire\"];\n      }\n    },\n    showSmoke: {\n      get() {\n        return this.$store.state.smoke.smokeVisible;\n      },\n      set(value) {\n        this[\"smoke/toggle\"](value);\n      }\n    },\n    fireOpacity: {\n      get() {\n        return this.$store.state.fire.opacity;\n      },\n      set(value) {\n        var decimal = /^[-+]?[0-9]+\\.[0-9]+$/;\n        if (!value.match(decimal)) return;\n\n        this.$store.dispatch(\"fire/setOpacity\", parseFloat(value));\n      }\n    },\n    smokeOpacity: {\n      get() {\n        return this.$store.state.smoke.opacity;\n      },\n      set(value) {\n        var decimal = /^[-+]?[0-9]+\\.[0-9]+$/;\n        if (!value.match(decimal)) return;\n\n        this.$store.dispatch(\"smoke/setOpacity\", parseFloat(value));\n      }\n    },\n    popOpacity: {\n      get() {\n        return this.$store.state.population.opacity;\n      },\n      set(value) {\n        var decimal = /^[-+]?[0-9]+\\.[0-9]+$/;\n        if (!value.match(decimal)) return;\n\n        this.$store.dispatch(\"population/setOpacity\", parseFloat(value));\n      }\n    }\n  },\n\n  components: {\n    mapAffectedLink: MapAffectedLink,\n    MapTrafficBehaviourCard,\n    FontAwesomeIcon\n  },\n  methods: {\n    ...mapActions([\n      \"selectRegion\",\n      \"changeMapboxStyle\",\n      \"fire/select\",\n      \"smoke/toggle\",\n      \"population/select\"\n    ]),\n    setRegion: function(event) {\n      // set the selected region in state\n      this.selectRegion(event.target.dataset.region);\n    },\n    drawRectangle() {\n      this.$store.commit(\"drawPopulationSquare\");\n    },\n    toggle() {\n      this.isHidden = !this.isHidden;\n    },\n    changeTime(val) {\n      if (val.length == 4) {\n        if (val.charAt(2) == \":\") {\n          var temp = new Array();\n          temp = val.split(\":\");\n          if (temp[0] <= 12) {\n            if (temp[1] <= 59) {\n              this.evac_time = temp[0] + \":\" + temp[1];\n            }\n          }\n        }\n      } else {\n        this.evac_time = \"0:00\";\n      }\n    }\n  }\n};\n</script>\n\n<style>\n#nav {\n  width: 100%;\n  position: absolute;\n  left: 0;\n}\n.map-sidebar-container {\n}\n.map-sidebar-container .card-body {\n  padding: 1em;\n}\n.map-accordion-container {\n  text-align: left;\n  padding: 20px;\n}\n.map-sidebar-container .map-sidebar-col {\n  background-color: rgba(255, 255, 255, 0.8);\n  overflow-y: auto;\n}\n.helper-icons {\n  position: relative;\n  left: 5px;\n}\n.custom-select {\n  width: 50% @important;\n}\n.vue-slide-bar-component[data-v-68863e48] {\n  padding-left: 5% !important;\n  padding-right: 5% !important;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapSetup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapSetup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapSetup.vue?vue&type=template&id=63f33a52&\"\nimport script from \"./MapSetup.vue?vue&type=script&lang=js&\"\nexport * from \"./MapSetup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapSetup.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-settings-container\",on:{\"!keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.toggle()}}},[_c('div',{staticClass:\"map-settings-hamburger mapboxgl-ctrl-top-left\"},[_c('button',{staticClass:\"pt-2 pb-1 px-3 mapboxgl-ctrl mapboxgl-ctrl-group\",attrs:{\"type\":\"button\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.toggle()},\"click\":function($event){return _vm.toggle()}}},[_c('FontAwesomeIcon',{attrs:{\"icon\":\"bars\",\"size\":\"2x\"}})],1)]),_c('div',{staticClass:\"map-settings-button-container mapboxgl-ctrl-top-right\",attrs:{\"z-index\":\"10000\"}},[_c('div',{staticClass:\"mapboxgl-ctrl mapboxgl-ctrl-group\"},[_c('button',{staticClass:\"icon polygon\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.drawRectangle()}}})]),_c('div',{staticClass:\"mapboxgl-ctrl mapboxgl-ctrl-group\"},[_c('button',{class:{ 'font-weight-bold': _vm.renderFireIn3D },attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.toggleFireIn3D()}}},[_vm._v(\"\\n        3D\\n      \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n        this.$store.state.map.selectedMATSimLink != '' ||\n          this.showDisruptionWindow\n      ),expression:\"\\n        this.$store.state.map.selectedMATSimLink != '' ||\\n          this.showDisruptionWindow\\n      \"}],staticClass:\"mapboxgl-ctrl mapboxgl-ctrl-group\"},[_c('button',{staticClass:\"icon bug\",style:(this.showDisruptionWindow ? 'background-color: lightskyblue;' : ''),attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showDisruptionWindow = !_vm.showDisruptionWindow}}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showDisruptionWindow),expression:\"showDisruptionWindow\"}],staticClass:\"map-overlay\"},[(!_vm.isLinkDisrupted())?_c('div',{staticClass:\"save-simulation-panel\"},[_c('h3',[_vm._v(\"Disruption\")]),_c('label',{staticClass:\"form-label\",attrs:{\"id\":\"status1\"}},[_vm._v(\"Description\")]),_c('input',{ref:\"description\",attrs:{\"id\":\"simulation-name\",\"placeholder\":\"\",\"type\":\"text\"}}),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"}),_c('div',{staticClass:\"col\"},[_vm._v(\"\\n            Start Time\\n            \"),_c('input',{ref:\"startTime\",staticClass:\"form-control\",attrs:{\"type\":\"time\",\"value\":\"00:00:00\",\"id\":\"example-time-input\"}})]),_c('div',{staticClass:\"col\"},[_vm._v(\"\\n            End Time\\n            \"),_c('input',{ref:\"endTime\",staticClass:\"form-control\",attrs:{\"type\":\"time\",\"value\":\"00:00:00\",\"id\":\"example-time-input\"}})]),_c('div',{staticClass:\"col-4\"},[_vm._v(\"\\n            Speed\\n            \"),_c('div',{staticClass:\"input-group\"},[_c('input',{ref:\"speed\",staticClass:\"form-control\",staticStyle:{\"text-align\":\"right\"},attrs:{\"type\":\"number\",\"placeholder\":\"Speed\",\"aria-label\":\"Recipient's username\",\"aria-describedby\":\"basic-addon2\"}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{class:!_vm.absoluteSpeed ? 'btn btn-secondary' : 'btn btn-primary',attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.absoluteSpeed = true}}},[_vm._v(\"\\n                  KM/H\\n                \")]),_c('button',{class:_vm.absoluteSpeed ? 'btn btn-secondary' : 'btn btn-primary',attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.absoluteSpeed = false}}},[_vm._v(\"\\n                  %\\n                \")])])])]),_c('div',{staticClass:\"col\"})])]),_c('label',{staticClass:\"form-label\",attrs:{\"id\":\"status1\"}},[_vm._v(\"Affected Links\")]),_c('input',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"id\":\"simulation-name\",\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":this.$store.state.map.selectedMATSimLink}}),(this.$store.state.map.selectedMATSimLink != '')?_c('button',{staticClass:\"btn btn-success\",staticStyle:{\"width\":\"100% !important\"},on:{\"click\":function($event){return _vm.saveDisruption()}}},[_vm._v(\"\\n        Save\\n      \")]):_c('button',{staticClass:\"btn btn-success\",staticStyle:{\"width\":\"100% !important\"},attrs:{\"disabled\":\"\"},on:{\"click\":function($event){return _vm.saveDisruption()}}},[_vm._v(\"\\n        Save\\n      \")])]):_c('div',{staticClass:\"save-simulation-panel\"},[_c('h3',[_vm._v(\"Disruption\")]),_c('button',{staticClass:\"btn btn-danger\",staticStyle:{\"width\":\"100% !important\"},on:{\"click\":function($event){return _vm.deleteDisruption()}}},[_vm._v(\"\\n        Delete\\n      \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"map-settings-container\" v-on:keydown.esc.capture=\"toggle()\">\n    <div class=\"map-settings-hamburger mapboxgl-ctrl-top-left\">\n      <button\n        class=\"pt-2 pb-1 px-3 mapboxgl-ctrl mapboxgl-ctrl-group\"\n        type=\"button\"\n        v-on:keydown.esc=\"toggle()\"\n        @click=\"toggle()\"\n      >\n        <FontAwesomeIcon icon=\"bars\" size=\"2x\" />\n      </button>\n    </div>\n    <div\n      z-index=\"10000\"\n      class=\"map-settings-button-container mapboxgl-ctrl-top-right\"\n    >\n      <div class=\"mapboxgl-ctrl mapboxgl-ctrl-group\">\n        <button\n          class=\"icon polygon\"\n          type=\"button\"\n          @click=\"drawRectangle()\"\n        ></button>\n      </div>\n      <div class=\"mapboxgl-ctrl mapboxgl-ctrl-group\">\n        <button\n          :class=\"{ 'font-weight-bold': renderFireIn3D }\"\n          type=\"button\"\n          @click=\"toggleFireIn3D()\"\n        >\n          3D\n        </button>\n      </div>\n      <div\n        class=\"mapboxgl-ctrl mapboxgl-ctrl-group\"\n        v-show=\"\n          this.$store.state.map.selectedMATSimLink != '' ||\n            this.showDisruptionWindow\n        \"\n      >\n        <button\n          class=\"icon bug\"\n          type=\"button\"\n          @click=\"showDisruptionWindow = !showDisruptionWindow\"\n          :style=\"\n            this.showDisruptionWindow ? 'background-color: lightskyblue;' : ''\n          \"\n        ></button>\n      </div>\n    </div>\n    <div class=\"map-overlay\" v-show=\"showDisruptionWindow\">\n      <div v-if=\"!isLinkDisrupted()\" class=\"save-simulation-panel\">\n        <h3>Disruption</h3>\n\n        <label id=\"status1\" class=\"form-label\">Description</label>\n        <input ref=\"description\" id=\"simulation-name\" placeholder type=\"text\" />\n\n        <div class=\"container\">\n          <div class=\"row\">\n            <div class=\"col\" />\n            <div class=\"col\">\n              Start Time\n              <input\n                ref=\"startTime\"\n                class=\"form-control\"\n                type=\"time\"\n                value=\"00:00:00\"\n                id=\"example-time-input\"\n              />\n            </div>\n            <div class=\"col\">\n              End Time\n              <input\n                ref=\"endTime\"\n                class=\"form-control\"\n                type=\"time\"\n                value=\"00:00:00\"\n                id=\"example-time-input\"\n              />\n            </div>\n            <div class=\"col-4\">\n              Speed\n              <div class=\"input-group\">\n                <input\n                  ref=\"speed\"\n                  style=\"text-align: right;\"\n                  type=\"number\"\n                  class=\"form-control\"\n                  placeholder=\"Speed\"\n                  aria-label=\"Recipient's username\"\n                  aria-describedby=\"basic-addon2\"\n                />\n                <div class=\"input-group-append\">\n                  <button\n                    :class=\"\n                      !absoluteSpeed ? 'btn btn-secondary' : 'btn btn-primary'\n                    \"\n                    type=\"button\"\n                    @click=\"absoluteSpeed = true\"\n                  >\n                    KM/H\n                  </button>\n                  <button\n                    :class=\"\n                      absoluteSpeed ? 'btn btn-secondary' : 'btn btn-primary'\n                    \"\n                    type=\"button\"\n                    @click=\"absoluteSpeed = false\"\n                  >\n                    %\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div class=\"col\" />\n          </div>\n        </div>\n\n        <label id=\"status1\" class=\"form-label\">Affected Links</label>\n        <input\n          id=\"simulation-name\"\n          type=\"text\"\n          :value=\"this.$store.state.map.selectedMATSimLink\"\n          style=\"margin-bottom: 10px;\"\n          disabled\n        />\n        <button\n          v-if=\"this.$store.state.map.selectedMATSimLink != ''\"\n          style=\"width: 100% !important\"\n          class=\"btn btn-success\"\n          @click=\"saveDisruption()\"\n        >\n          Save\n        </button>\n        <button\n          v-else\n          style=\"width: 100% !important\"\n          class=\"btn btn-success\"\n          disabled\n          @click=\"saveDisruption()\"\n        >\n          Save\n        </button>\n      </div>\n      <div v-else class=\"save-simulation-panel\">\n        <h3>Disruption</h3>\n        <button\n          style=\"width: 100% !important\"\n          class=\"btn btn-danger\"\n          @click=\"deleteDisruption()\"\n        >\n          Delete\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faBars } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nlibrary.add(faBars);\n\nimport { mapActions } from \"vuex\";\nimport {\n  MATSIM_ADD_DISRUPTION,\n  MATSIM_DESELECT_LINK\n} from \"@/store/mutation-types\";\n\nexport default {\n  name: \"mapButtons\",\n  props: {},\n  components: { FontAwesomeIcon },\n  data: function() {\n    return {\n      absoluteSpeed: true,\n      showDisruptionWindow: false,\n      styles: this.$store.state.config.styles,\n      regions: this.$store.state.config.regions\n    };\n  },\n  computed: {\n    renderFireIn3D: {\n      get() {\n        return this.$store.state.fire.fire3DFlameHeight;\n      }\n    }\n  },\n  methods: {\n    ...mapActions({\n      toggleFireIn3D: \"fire/toggleFireIn3D\",\n      toggle: \"toggleSettingsVis\"\n    }),\n    drawRectangle() {\n      this.$store.commit(\"drawPopulationSquare\");\n    },\n    saveDisruption() {\n      var store = this.$store;\n      var mapInstance = store.state.map.mapInstance;\n\n      var disruption = {\n        affectedLinks: store.state.map.selectedMATSimLink,\n        start: this.$refs.startTime.value,\n        end: this.$refs.endTime.value,\n        description: this.$refs.description.value,\n        speed: this.$refs.speed.value,\n        absoluteSpeed: this.absoluteSpeed\n      };\n\n      var filter = [\"in\", \"ID\"];\n\n      //Add disruption to store\n      store.commit(MATSIM_ADD_DISRUPTION, disruption);\n\n      //Add each disrupted link to filter to display on disruption layer.\n      store.state.map.disruptions.forEach(disruption => {\n        disruption.affectedLinks.forEach(link => {\n          filter.push(link);\n        });\n      });\n\n      //render layer\n      mapInstance.setFilter(store.state.map.disruptionMATSimLayer, filter);\n      this.showDisruptionWindow = false;\n      store.state.map.selectedMATSimLink = \"\";\n    },\n    isLinkDisrupted() {\n      var selectedLink = this.$store.state.map.selectedMATSimLink;\n      var disruptions = this.$store.state.map.disruptions;\n      var result = false;\n      disruptions.forEach(disruption => {\n        disruption.affectedLinks.forEach(link => {\n          if (link == selectedLink) {\n            result = true;\n          }\n        });\n      });\n      return result;\n    },\n    deleteDisruption() {\n      var selectedLink = this.$store.state.map.selectedMATSimLink;\n      var disruptions = this.$store.state.map.disruptions;\n      var store = this.$store;\n      var filter = [\"in\", \"ID\"];\n\n      this.showDisruptionWindow = false;\n\n      disruptions.forEach(function(disruption, i) {\n        disruption.affectedLinks.forEach(link => {\n          if (link == selectedLink) {\n            delete disruptions[i];\n          }\n        });\n      });\n\n      store.state.map.mapInstance.setFilter(\n        store.state.map.selectedDisruptionMATSimLayer,\n        filter\n      );\n\n      // this.showDisruptionWindow = false;\n\n      // Add each disrupted link to filter to display on disruption layer.\n      disruptions.forEach(disruption => {\n        disruption.affectedLinks.forEach(link => {\n          filter.push(link);\n        });\n      });\n      //render layer\n      store.state.map.mapInstance.setFilter(\n        store.state.map.disruptionMATSimLayer,\n        filter\n      );\n      store.commit(MATSIM_DESELECT_LINK, null);\n    }\n  }\n};\n</script>\n\n<style>\n.map-settings-panel {\n  padding-left: 10%;\n  padding-right: 10%;\n}\n\n.map-settings-panel select,\n.map-settings-panel select option,\n.map-settings-panel input {\n  text-align: center;\n  width: 100% !important;\n}\n\n.map-settings-panel select,\n.map-settings-panel option {\n  padding: 10px !important;\n  text-align: center !important;\n}\n\n.map-settings-hamburger {\n  padding-top: 10px;\n  padding-left: 20px;\n}\n.map-settings-hamburger .mapboxgl-ctrl-group {\n  margin: 0;\n}\n.map-settings-button-container {\n  padding-top: 150px;\n}\n\n.map-overlay {\n  font: bold 12px/20px \"Helvetica Neue\", Arial, Helvetica, sans-serif;\n  position: absolute;\n  width: 40%;\n  top: 10%;\n  right: 30%;\n  height: auto;\n  overflow: auto;\n  background-color: rgba(255, 255, 255, 0.7);\n  padding: 0 0 20px 0;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n  border-radius: 5px;\n  z-index: 100;\n}\n\n.map-overlay label,\n.map-overlay h3 {\n  display: block;\n  margin: 10px 0 0 0;\n}\n\n.map-overlay input {\n  display: inline-block;\n  width: 80%;\n  position: relative;\n  margin: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapButtons.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapButtons.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapButtons.vue?vue&type=template&id=519bcef6&\"\nimport script from \"./MapButtons.vue?vue&type=script&lang=js&\"\nexport * from \"./MapButtons.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapButtons.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"save-map-settings-container\"},[_c('b-button',{attrs:{\"variant\":\"outline-primary\",\"id\":\"save-map-settings-toggle\"},on:{\"click\":_vm.SaveSimulationToggle}},[_vm._v(\"Save\")]),_c('b-button',{attrs:{\"variant\":\"outline-primary\",\"id\":\"create-simulation\"}},[_vm._v(\"Create\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.simSettingsIsOpen),expression:\"simSettingsIsOpen\"}],staticClass:\"map-overlay\"},[_c('div',{staticClass:\"save-simulation-panel\"},[_c('label',{attrs:{\"for\":\"simulation-name\"}},[_vm._v(\"Simulation Name:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.simulationName),expression:\"simulationName\"}],attrs:{\"id\":\"simulation-name\",\"type\":\"text\"},domProps:{\"value\":(_vm.simulationName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.simulationName=$event.target.value}}}),_c('b-button',{attrs:{\"variant\":\"outline-primary\",\"id\":\"save-map-settings\"},on:{\"click\":_vm.SaveSimulationConfig}},[_vm._v(\"Save\")]),_c('b-button',{attrs:{\"variant\":\"outline-primary\",\"id\":\"cancel-map-settings\"},on:{\"click\":_vm.SaveSimulationToggle}},[_vm._v(\"Cancel\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"save-map-settings-container\">\n    <b-button\n      variant=\"outline-primary\"\n      id=\"save-map-settings-toggle\"\n      v-on:click=\"SaveSimulationToggle\"\n      >Save</b-button\n    >\n    <b-button variant=\"outline-primary\" id=\"create-simulation\">Create</b-button>\n\n    <div class=\"map-overlay\" v-show=\"simSettingsIsOpen\">\n      <div class=\"save-simulation-panel\">\n        <label for=\"simulation-name\">Simulation Name:</label>\n        <input id=\"simulation-name\" type=\"text\" v-model=\"simulationName\" />\n        <b-button\n          variant=\"outline-primary\"\n          id=\"save-map-settings\"\n          v-on:click=\"SaveSimulationConfig\"\n          >Save</b-button\n        >\n        <b-button\n          variant=\"outline-primary\"\n          id=\"cancel-map-settings\"\n          v-on:click=\"SaveSimulationToggle\"\n          >Cancel</b-button\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from \"vuex\";\nimport {\n  MATSIM_SAVE_CONFIG,\n  MATSIM_SETTINGS_VIS\n} from \"@/store/mutation-types\";\n\nexport default {\n  name: \"saveSettings\",\n  props: {\n    toggle: {\n      default: false,\n      type: Boolean\n    }\n  },\n  data: function() {\n    return {};\n  },\n  computed: {\n    ...mapState({\n      simSettingsIsOpen: state => state.simulation.simSettingsIsOpen\n    }),\n    ...mapGetters([\"selectedRegion\", \"selectedFire\"]),\n    simulationName: {\n      get() {\n        return this.$store.state.simulation.simulationName;\n      },\n      set(value) {\n        this.$store.commit(\"setSimulationName\", value);\n      }\n    }\n  },\n  methods: {\n    SaveSimulationToggle() {\n      this.$store.commit(MATSIM_SETTINGS_VIS, !this.saveSimIsOpen);\n    },\n    SaveSimulationConfig() {\n      var outputTemplate = {\n        simulationName: this.simulationName,\n        config: {\n          ees: [\n            {\n              global: [\n                {\n                  randomSeed: \"1234\",\n                  crs: \"EPSG:28355\",\n                  startHHMM: \"00:00\"\n                }\n              ],\n\n              bdi: [\n                {\n                  jPlanSelectionPolicy: \"FIRST\",\n                  jAgents: \"\",\n                  jLogLevel: \"WARN\",\n                  jLogFile:\n                    \"test/output/io/github/agentsoz/ees/TypicalSummerWeekday50kTest/testTypicalSummerWeekday50k/jill.log\",\n                  jOutFile:\n                    \"test/output/io/github/agentsoz/ees//TypicalSummerWeekday50kTest/testTypicalSummerWeekday50k/jill.out\"\n                }\n              ],\n\n              matsim: [\n                {\n                  outputDir:\n                    \"test/output/io/github/agentsoz/ees//TypicalSummerWeekday50kTest/testTypicalSummerWeekday50k/matsim\",\n                  configXml:\n                    \"scenarios/surf-coast-shire/typical-summer-weekday-50k/scenario_matsim_main.xml\",\n                  maxDistanceForFireVisual: \"1000\",\n                  maxDistanceForSmokeVisual: \"5000\",\n                  fireAvoidanceBufferForVehicles: \"5000\",\n                  fireAvoidanceBufferForEmergencyVehicles: \"1000\",\n                  congestionEvaluationInterval: \"180\",\n                  congestionToleranceThreshold: \"0.33\",\n                  congestionReactionProbability: \"0.0\"\n                }\n              ],\n\n              phoenix: [\n                {\n                  ignitionHHMM: \"00:00\",\n                  fireGeoJson: this.selectedFire.geojson,\n                  smokeGeoJson: \"\"\n                }\n              ],\n\n              disruption: [\n                {\n                  fileJson:\n                    \"scenarios/surf-coast-shire/typical-summer-weekday-50k/scenario_disruptions.json\"\n                }\n              ],\n\n              messaging: [\n                {\n                  fileJson:\n                    \"scenarios/surf-coast-shire/typical-summer-weekday-50k/scenario_messages.json\"\n                }\n              ]\n            }\n          ],\n          scenario_main: [\n            {\n              matsimfile:\n                \"scenarios/surf-coast-shire/typical-summer-weekday-50k/scenario_matsim_main.xml\",\n\n              firefile: [\n                {\n                  name: \"\",\n                  coordinates: \"\",\n                  format: \"\"\n                }\n              ],\n\n              geographyfile: [\n                {\n                  geo_name:\n                    \"scenarios/surf-coast-shire/typical-summer-weekday-50k/scenario_geography.xml\"\n                }\n              ],\n\n              trafficBehaviour: [\n                {\n                  proportion: \"0.0\",\n                  radiusInMtrs: \"0\"\n                }\n              ],\n\n              evacuationTiming: [\n                {\n                  start: \"00:00\",\n                  peak: \"00\"\n                }\n              ],\n\n              bdiagents: \"bdiagents\"\n            }\n          ]\n        }\n      };\n\n      this.$store.commit(\n        MATSIM_SAVE_CONFIG,\n        outputTemplate,\n        this.simulationName\n      );\n\n      this.SaveSimulationToggle();\n    }\n  }\n};\n</script>\n\n<style>\n#save-map-settings-toggle {\n  position: absolute;\n  top: 10px;\n  overflow: visible;\n  margin: 0 0 0 -80px;\n}\n\n#create-simulation {\n  position: absolute;\n  top: 10px;\n  overflow: visible;\n  margin: 0 0 0 0;\n}\n\n.map-overlay {\n  font: bold 12px/20px \"Helvetica Neue\", Arial, Helvetica, sans-serif;\n  position: absolute;\n  width: 40%;\n  top: 10%;\n  right: 30%;\n  height: auto;\n  overflow: auto;\n  background-color: rgba(255, 255, 255, 0.7);\n  padding: 0 0 20px 0;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n  border-radius: 5px;\n  z-index: 100;\n}\n\n.map-overlay label {\n  display: block;\n  margin: 10px 0 0 0;\n}\n\n.map-overlay input {\n  display: inline-block;\n  width: 100%;\n  position: relative;\n  margin: 0;\n}\n\n#save-map-settings {\n  margin: 10px 0 0 0;\n}\n\n#cancel-map-settings {\n  margin: 10px 0 0 20px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveSettings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SaveSettings.vue?vue&type=template&id=e4a674d6&\"\nimport script from \"./SaveSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./SaveSettings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SaveSettings.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div v-on:keydown.esc.capture=\"toggleSettingsVis()\">\n    <maplayer />\n    <popLegend />\n    <slider />\n    <spinner />\n    <population />\n    <setup />\n    <buttons />\n    <savesettings />\n  </div>\n</template>\n\n<script>\nimport MapComponent from \"@/components/Map.vue\";\nimport MapTimeSlider from \"@/components/MapTimeSlider.vue\";\nimport MapPopulationLegend from \"@/components/MapPopulationLegend.vue\";\nimport MapSquarePopulation from \"@/components/MapSquarePopulation.vue\";\nimport MapLoadSpinner from \"@/components/MapLoadSpinner.vue\";\nimport MapSetup from \"@/components/MapSetup.vue\";\nimport MapButtons from \"@/components/MapButtons.vue\";\nimport SaveSettings from \"@/components/SaveSettings.vue\";\n\nimport { mapActions } from \"vuex\";\n\nexport default {\n  name: \"home\",\n  components: {\n    maplayer: MapComponent,\n    slider: MapTimeSlider,\n    popLegend: MapPopulationLegend,\n    spinner: MapLoadSpinner,\n    population: MapSquarePopulation,\n    setup: MapSetup,\n    buttons: MapButtons,\n    savesettings: SaveSettings\n  },\n  methods: {\n    ...mapActions([\"toggleSettingsVis\"])\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=180aa8e8&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport Router from \"vue-router\";\nimport Home from \"./views/Home.vue\";\n\nVue.use(Router);\n\nexport default new Router({\n  routes: [\n    {\n      path: \"/\",\n      name: \"home\",\n      component: Home\n    },\n    {\n      path: \"/output\",\n      name: \"output\",\n      component: () =>\n        import(/* webpackChunkName: \"output\" */ \"./views/Output.vue\")\n    },\n    {\n      path: \"/about\",\n      name: \"about\",\n      // route level code-splitting\n      // this generates a separate chunk (about.[hash].js) for this route\n      // which is lazy-loaded when the route is visited.\n      component: () =>\n        import(/* webpackChunkName: \"about\" */ \"./views/About.vue\")\n    }\n  ]\n});\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\n\nimport BootstrapVue from \"bootstrap-vue\";\nVue.use(BootstrapVue);\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\n\nimport VueMq from \"vue-mq\";\nVue.use(VueMq);\n\nVue.config.productionTip = false;\n\nnew Vue({\n  el: \"#app\",\n  router,\n  store,\n  render: h => h(App),\n  mounted: function() {\n    this.$store.dispatch(\n      \"getConfig\",\n      process.env.VUE_APP_EES_TILES_API + \"/config\"\n    );\n  }\n}).$mount(\"#app\");\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isLoading !== 0)?_c('div',{staticClass:\"load-spinner-overlay\"},[_vm._m(0)]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"load-spinner-overlay-inner\"},[_c('span',{staticClass:\"loading\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"isLoading !== 0\" class=\"load-spinner-overlay\">\n    <div class=\"load-spinner-overlay-inner\">\n      <span class=\"loading\"></span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\n\nexport default {\n  name: \"mapSpinner\",\n  props: {},\n  computed: {\n    ...mapState({\n      isLoading: state => state.map.isLoading\n    })\n  }\n};\n</script>\n\n<style>\n.load-spinner-overlay {\n  position: absolute;\n  bottom: 100px;\n  right: 30px;\n  height: auto;\n  overflow: visible;\n  padding: 0 0 0 0;\n  margin: 0 0 0 0;\n  z-index: 100;\n}\n\n.load-spinner-overlay .load-spinner-overlay-inner {\n  margin-bottom: 10px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLoadSpinner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLoadSpinner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapLoadSpinner.vue?vue&type=template&id=1282546e&\"\nimport script from \"./MapLoadSpinner.vue?vue&type=script&lang=js&\"\nexport * from \"./MapLoadSpinner.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapLoadSpinner.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapTrafficBehaviourCard.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapTrafficBehaviourCard.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveSettings.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveSettings.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapSquarePopulation.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapSquarePopulation.vue?vue&type=style&index=0&lang=css&\"","// mutation-types.js\n// Represents global mutation triggers that are used throughout the application\n\nexport const START_LOADING = \"START_LOADING\";\nexport const DONE_LOADING = \"DONE_LOADING\";\n\nexport const SET_MAP_INSTANCE = \"SET_MAP_INSTANCE\";\n\nexport const SET_DRAW_INSTANCE = \"SET_DRAW_INSTANCE\";\nexport const SET_MAPBOX_STYLE = \"SET_MAPBOX_STYLE\";\nexport const SETTINGS_VISIBILITY = \"SETTINGS_VISIBILITY\";\n\nexport const SELECT_REGION = \"SELECT_REGION\";\nexport const CLEAR_REGION = \"CLEAR_REGION\";\nexport const FLY_TO = \"FLY_TO\";\nexport const MATSIM_ADD_PLACEHOLDER_LAYERS = \"MATSIM_ADD_PLACEHOLDER_LAYERS\";\n\nexport const MATSIM_ADD_SOURCE = \"MATSIM_ADD_SOURCE\";\nexport const MATSIM_ADD_LAYER = \"MATSIM_ADD_LAYER\";\nexport const MATSIM_SET_BASE_LAYER = \"MATSIM_SET_BASE_LAYER\";\nexport const MATSIM_SET_HIGHLIGHT_LAYER = \"MATSIM_SET_HIGHLIGHT_LAYER\";\nexport const MATSIM_SET_SELECTED_DISRUPTION_LAYER =\n  \"MATSIM_SET_SELECTED_DISRUPTION_LAYER\";\nexport const MATSIM_SET_DISRUPTION_LAYER = \"MATSIM_SET_DISRUPTION_LAYER\";\nexport const MATSIM_ADD_DISRUPTION = \"MATSIMATSIM_ADD_DISRUPTION\";\nexport const MATSIM_SELECT_LINK = \"MATSIM_SELECT_LINK\";\nexport const MATSIM_DESELECT_LINK = \"MATSIM_DESELECT_LINK\";\n\n// simulation setup/playthrough\nexport const MATSIM_SAVE_CONFIG = \"MATSIM_SAVE_CONFIG\";\nexport const MATSIM_SETTINGS_VIS = \"MATSIM_SETTINGS_VIS\";\n\nexport const SELECT_FIRE = \"SELECT_FIRE\";\nexport const CLEAR_FIRE = \"CLEAR_FIRE\";\n\nexport const SELECT_POPULATION = \"SELECT_POPULATION\";\nexport const CLEAR_POPULATION = \"CLEAR_POPULATION\";\nexport const POPULATION_SET_OPACITY = \"POPULATION_SET_OPACITY\";\n\nexport const POP_SET_ACTIVITIES = \"POP_SET_ACTIVITIES\";\nexport const POP_SET_ACTIVITY_COLOR = \"POP_SET_ACTIVITY_COLOR\";\nexport const POP_ADD_SOURCE = \"POP_ADD_SOURCE\";\nexport const POP_ADD_LAYER = \"POP_ADD_LAYER\";\n\nexport const PHOENIX_ADD_SOURCE = \"PHOENIX_ADD_SOURCE\";\nexport const PHOENIX_ADD_LAYER = \"PHOENIX_ADD_LAYER\";\nexport const PHOENIX_SET_OPACITY = \"PHOENIX_SET_OPACITY\";\nexport const PHOENIX_TIME_STEP = \"PHOENIX_TIME_STEP\";\n\nexport const DRAW_SMOKE = \"DRAW_SMOKE\";\nexport const EMBER_ADD_SOURCE = \"EMBER_ADD_SOURCE\";\nexport const EMBER_ADD_LAYER = \"EMBER_ADD_LAYER\";\nexport const EMBER_SET_OPACITY = \"EMBER_SET_OPACITY\";\nexport const CLEAR_SMOKE = \"CLEAR_SMOKE\";\n\n// used to trigger pitch change, and 3D fire\nexport const TOGGLE_3D = \"TOGGLE_3D\";\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapButtons.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapButtons.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('mapbox',{attrs:{\"access-token\":_vm.mapboxAccessToken,\"map-options\":_vm.mapOpts,\"geolocate-control\":{\n    show: true,\n    position: 'top-right'\n  },\"scale-control\":{\n    show: true,\n    position: 'bottom-left'\n  }},on:{\"map-load\":_vm.storeMapInstance}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <mapbox\n    :access-token=\"mapboxAccessToken\"\n    :map-options=\"mapOpts\"\n    :geolocate-control=\"{\n      show: true,\n      position: 'top-right'\n    }\"\n    :scale-control=\"{\n      show: true,\n      position: 'bottom-left'\n    }\"\n    @map-load=\"storeMapInstance\"\n  ></mapbox>\n</template>\n\n<script>\nimport Mapbox from \"mapbox-gl-vue\";\nimport mapboxgl from \"mapbox-gl\";\nimport MapboxDraw from \"@mapbox/mapbox-gl-draw\";\nimport DrawRectangle from \"mapbox-gl-draw-rectangle-mode\";\n\nimport store from \"@/store\";\nimport {\n  SET_MAP_INSTANCE,\n  SET_DRAW_INSTANCE,\n  MATSIM_ADD_PLACEHOLDER_LAYERS,\n  MATSIM_SELECT_LINK,\n  MATSIM_DESELECT_LINK\n} from \"@/store/mutation-types\";\nimport { mapState } from \"vuex\";\n\nexport default {\n  name: \"maplayer\",\n  data: function() {\n    return {\n      disruptionSelected: false\n    };\n  },\n  computed: {\n    ...mapState({\n      mapboxAccessToken: state => state.config.mapboxAccessToken,\n      mapboxStyle: state => state.map.mapboxStyle,\n      mapCenter: state => state.map.mapCenter,\n      mapInstance: state => state.map.mapInstance,\n      baseMATSimLayer: state => state.map.baseMATSimLayer,\n      highlightMATSimLayer: state => state.map.highlightMATSimLayer,\n      disruptionMATSimLayer: state => state.map.disruptionMATSimLayer,\n      selectedDisruptionMATSimLayer: state =>\n        state.map.selectedDisruptionMATSimLayer\n    }),\n    mapOpts() {\n      var opts = {\n        style: \"mapbox://styles/mapbox/\" + this.mapboxStyle + \"-v9\",\n        center: this.mapCenter,\n        minZoom: 0,\n        zoom: 6,\n        maxZoom: 18\n      };\n      return opts;\n    }\n  },\n  components: {\n    mapbox: Mapbox\n  },\n  methods: {\n    storeMapInstance(map) {\n      map.on(\"click\", this.mapOnClick);\n      map.on(\"draw.create\", this.squareCreated);\n      map.on(\"style.load\", this.loadLayersOnStyleChange);\n\n      const draw = new MapboxDraw({\n        displayControlsDefault: false,\n        modes: Object.assign(\n          { draw_rectangle: DrawRectangle },\n          MapboxDraw.modes\n        )\n      });\n      // mobile support: we cant add the control until we actually want to draw\n      // https://github.com/agentsoz/ees-ui/issues/9\n      // https://github.com/mapbox/mapbox-gl-draw/issues/617\n      // Hacky Fix: https://github.com/cityofaustin/dockless/issues/48\n      map.addControl(draw);\n\n      store.commit(SET_MAP_INSTANCE, map);\n      store.commit(SET_DRAW_INSTANCE, draw);\n\n      // load any layers that want to be loaded right away\n      this.loadLayersOnStyleChange();\n    },\n    loadLayersOnStyleChange() {\n      // define the order of each feature set with placeholder layers\n      store.commit(MATSIM_ADD_PLACEHOLDER_LAYERS);\n      // load each feature set, each implements its own loadGlobal action\n      store.dispatch(\"loadGlobal\");\n    },\n    squareCreated(e) {\n      var feature = e.features[0];\n      store.commit(\"addPopulationSquare\", feature);\n    },\n    mapOnClick(e) {\n      //List of Links\n      var linkList =\n        store.state.map.selectedMATSimLink == \"\"\n          ? []\n          : store.state.map.selectedMATSimLink;\n      // set bbox as 5px reactangle area around clicked point\n      var bbox = [\n        [e.point.x - 5, e.point.y - 5],\n        [e.point.x + 5, e.point.y + 5]\n      ];\n      var features = this.mapInstance.queryRenderedFeatures(bbox, {\n        layers: [this.baseMATSimLayer]\n      });\n\n      var filter;\n\n      if (typeof features != \"undefined\" && features.length !== 0) {\n        var coordinates = features[0].geometry.coordinates.slice()[0][0];\n        var id = features[0].properties.ID;\n\n        const filteredItems = linkList.filter(item => item !== id);\n        if (linkList.length != filteredItems.length) {\n          linkList = filteredItems;\n        } else {\n          linkList.push(id);\n        }\n        var selectedDisruptionLinks = [];\n        var popupText = \"<strong>Link</strong>: \" + id;\n        var linksIsDisrupted = false;\n\n        linkList.forEach(link => {\n          store.state.map.disruptions.forEach(disruption => {\n            //Check if selected link is disrupted.\n            if (disruption.affectedLinks.includes(id)) {\n              linksIsDisrupted = true;\n              store.commit(MATSIM_SELECT_LINK, [id]);\n              linkList = store.state.map.selectedMATSimLink;\n              this.disruptionSelected = true;\n              if (linksIsDisrupted) {\n                var speedUnit = disruption.absoluteSpeed ? \" km/h\" : \"% Slower\";\n                popupText +=\n                  \"<br><strong>Description</strong>: \" +\n                  disruption.description +\n                  \"<br><strong>Time</strong>: \" +\n                  disruption.start +\n                  \"-\" +\n                  disruption.end +\n                  \"<br><strong>Speed</strong>: \" +\n                  disruption.speed +\n                  speedUnit +\n                  \"<br><strong>Affected Links: </strong>:<br>\";\n                selectedDisruptionLinks = disruption.affectedLinks;\n                disruption.affectedLinks.forEach(link => {\n                  popupText += link + \"<br>\";\n                });\n              }\n            }\n          });\n\n          if (this.disruptionSelected && linksIsDisrupted == false) {\n            store.commit(MATSIM_SELECT_LINK, [id]);\n            linkList = store.state.map.selectedMATSimLink;\n            this.disruptionSelected = false;\n          }\n        });\n\n        //console.log(\"features:%s\\n\", JSON.stringify(features));\n        filter = features.reduce(\n          function(memo, feature) {\n            if (!linksIsDisrupted) {\n              linkList.forEach(link => {\n                memo.push(link);\n              });\n            } else {\n              selectedDisruptionLinks.forEach(link => {\n                memo.push(link);\n              });\n            }\n            return memo;\n          },\n          [\"in\", \"ID\"]\n        );\n\n        new mapboxgl.Popup()\n          .setLngLat(coordinates)\n          .setHTML(popupText)\n          .addTo(this.mapInstance);\n\n        // this is displayed as the current link id in the menu\n        store.commit(MATSIM_SELECT_LINK, linkList);\n      } else {\n        filter = [\"in\", \"ID\", \"\"];\n        store.commit(MATSIM_DESELECT_LINK, linkList);\n      }\n\n      var disruptedFilter = [\"in\", \"ID\", \"\"];\n      var highlightFilter = [\"in\", \"ID\", \"\"];\n      linksIsDisrupted\n        ? (disruptedFilter = filter)\n        : (highlightFilter = filter);\n\n      this.mapInstance.setFilter(\n        this.selectedDisruptionMATSimLayer,\n        disruptedFilter\n      );\n      this.mapInstance.setFilter(this.highlightMATSimLayer, highlightFilter);\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"css\">\n#map {\n  position: relative;\n  text-align: left;\n  top: 0;\n  bottom: 0;\n  height: 100%;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=05e0e45d&scoped=true&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=05e0e45d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05e0e45d\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapSetup.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapSetup.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}