(function(e){function t(t){for(var a,o,i=t[0],l=t[1],u=t[2],p=0,c=[];p<i.length;p++)o=i[p],r[o]&&c.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);m&&m(t);while(c.length)c.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var i=n[o];0!==r[i]&&(a=!1)}a&&(s.splice(t--,1),e=l(l.s=n[0]))}return e}var a={},o={app:0},r={app:0},s=[];function i(e){return l.p+"js/"+({about:"about"}[e]||e)+"."+{about:"47f467ec"}[e]+".js"}function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={about:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise(function(t,n){for(var a="css/"+({about:"about"}[e]||e)+"."+{about:"7f34a472"}[e]+".css",o=l.p+a,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var i=r[s],u=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(u===a||u===o))return t()}var p=document.getElementsByTagName("style");for(s=0;s<p.length;s++){i=p[s],u=i.getAttribute("data-href");if(u===a||u===o)return t()}var c=document.createElement("link");c.rel="stylesheet",c.type="text/css",c.onload=t,c.onerror=function(t){var a=t&&t.target&&t.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");r.request=a,n(r)},c.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(c)}).then(function(){o[e]=0}));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise(function(t,n){a=r[e]=[t,n]});t.push(a[2]=s);var u,p=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=i(e),u=function(t){c.onerror=c.onload=null,clearTimeout(m);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+a+": "+o+")");s.type=a,s.request=o,n[1](s)}r[e]=void 0}};var m=setTimeout(function(){u({type:"timeout",target:c})},12e4);c.onerror=c.onload=u,p.appendChild(c)}return Promise.all(t)},l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/ees-ui/",l.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],p=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var m=p;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1775:function(e,t,n){},2856:function(e,t,n){},5630:function(e,t,n){"use strict";var a=n("e3c5"),o=n.n(a);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" |\n    "),n("router-link",{attrs:{to:"/about"}},[e._v("About")])],1),n("router-view",{staticClass:"router-view"})],1)},r=[],s=(n("5c0b"),n("2877")),i={},l=Object(s["a"])(i,o,r,!1,null,null,null);l.options.__file="App.vue";var u=l.exports,p=n("8c4f"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("maplayer"),n("settings")],1)},m=[],f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mapbox",{attrs:{"access-token":"pk.eyJ1IjoiZGhpeHNpbmdoIiwiYSI6ImNqbWx4OTR0ZzBkMWUzb255and1aTUweGkifQ.U0vPiwyfM4ad7axC_4dkHg","map-options":e.opts,"geolocate-control":{show:!0,position:"top-left"},"scale-control":{show:!0,position:"bottom-left"},"fullscreen-control":{show:!0,position:"top-left"}},on:{"map-load":e.onMapLoad}})},d=[],y=n("2f62");a["a"].use(y["a"]);var v=new y["a"].Store({state:{map:null,mapboxStyle:"dark",mapCenter:[144.068722,-36.997609],mapSettingsIsOpen:!1,reloadOverlayLayersOnStyleData:!1,matsimNetworkLayer:"mount_alexander_shire_networkP",fireGeoJson:"https://raw.githubusercontent.com/agentsoz/ees/master/scenarios/mount-alexander-shire/maldon-100-with-emergency-vehicles/scenario_fire.json"},getters:{map:function(e){return e.map},mapboxStyle:function(e){return e.mapboxStyle},mapCenter:function(e){return e.mapCenter},mapSettingsIsOpen:function(e){return e.mapSettingsIsOpen},matsimNetworkLayer:function(e){return e.matsimNetworkLayer},fireGeoJson:function(e){return e.fireGeoJson},reloadOverlayLayersOnStyleData:function(e){return e.reloadOverlayLayersOnStyleData}},mutations:{setMap:function(e,t){e.map=t},setMapboxStyle:function(e,t){e.mapboxStyle=t,e.map.setStyle("mapbox://styles/mapbox/"+e.mapboxStyle+"-v9"),e.reloadOverlayLayersOnStyleData=!0},setMapSettingsIsOpen:function(e,t){e.mapSettingsIsOpen=t},setReloadOverlayLayersOnStyleData:function(e,t){e.reloadOverlayLayersOnStyleData=t}},actions:{}}),b=n("7be2"),g=n.n(b),h={style:"mapbox://styles/mapbox/"+v.getters.mapboxStyle+"-v9",center:v.getters.mapCenter,minZoom:0,zoom:10,maxZoom:14};function S(e,t){for(var n,a=e.getStyle().layers,o=0;o<a.length;o++)if("symbol"===a[o].type){n=a[o].id;break}e.addLayer({id:"matsim-network",type:"line",source:"roadtiles","source-layer":t,minzoom:0,maxzoom:22,paint:{"line-color":"#7777ff","line-width":.5}},n)}function x(e,t){for(var n,a=e.getStyle().layers,o=0;o<a.length;o++)if("symbol"===a[o].type){n=a[o].id;break}e.addLayer({id:"fire-geojson",type:"line",source:{type:"geojson",data:t},layout:{},paint:{"line-color":"#f00","line-opacity":.4,"line-width":2}},n)}function O(e){v.commit("setMap",e),e.addSource("roadtiles",{type:"vector",tiles:["https://ees-server.now.sh/tiles/roads/{z}/{x}/{y}.pbf"],minzoom:0,maxzoom:14}),S(e,v.getters.matsimNetworkLayer),x(e,v.getters.fireGeoJson),e.on("styledata",function(){1==v.getters.reloadOverlayLayersOnStyleData&&(v.commit("setReloadOverlayLayersOnStyleData",!1),S(e,v.getters.matsimNetworkLayer),x(e,v.getters.fireGeoJson))})}var w={name:"maplayer",components:{mapbox:g.a},methods:{onMapLoad:O},data:function(){return{opts:h}}},_=w,k=(n("b550"),Object(s["a"])(_,f,d,!1,null,"74f0e2af",null));k.options.__file="Map.vue";var L=k.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map-settings-container"},[n("div",{staticClass:"map-settings-button-container mapboxgl-ctrl-top-right"},[n("div",{staticClass:"mapboxgl-ctrl mapboxgl-ctrl-group"},[n("button",{staticClass:"icon sprocket",attrs:{type:"button"},on:{click:function(t){e.toggle()}}})])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"map-overlay"},[n("div",{staticClass:"map-settings-panel"},[n("label",{attrs:{for:"map-style"}},[e._v("Map style:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.mapboxStyle,expression:"mapboxStyle"}],attrs:{id:"map-style"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.mapboxStyle=t.target.multiple?n:n[0]}}},[n("option",{attrs:{disabled:"basic"==e.mapboxStyle,value:"basic"}},[e._v("basic")]),n("option",{attrs:{disabled:"bright"==e.mapboxStyle,value:"bright"}},[e._v("bright")]),n("option",{attrs:{disabled:"dark"==e.mapboxStyle,value:"dark"}},[e._v("dark")]),n("option",{attrs:{disabled:"light"==e.mapboxStyle,value:"light"}},[e._v("light")]),n("option",{attrs:{disabled:"satellite"==e.mapboxStyle,value:"satellite"}},[e._v("satellite")]),n("option",{attrs:{disabled:"streets"==e.mapboxStyle,value:"streets"}},[e._v("streets")])])])])])},M=[],C={name:"mapSettings",props:{},data:function(){return{isOpen:this.$store.getters.mapSettingsIsOpen}},computed:{mapboxStyle:{get:function(){return this.$store.getters.mapboxStyle},set:function(e){this.$store.commit("setMapboxStyle",e)}}},methods:{toggle:function(){this.isOpen=!this.isOpen,this.$store.commit("setMapSettingsIsOpen",!this.$store.getters.mapSettingsIsOpen)}}},N=C,E=(n("5630"),Object(s["a"])(N,j,M,!1,null,null,null));E.options.__file="MapSettings.vue";var I=E.exports,P={name:"home",components:{maplayer:L,settings:I}},T=P,$=Object(s["a"])(T,c,m,!1,null,null,null);$.options.__file="Home.vue";var z=$.exports;a["a"].use(p["a"]);var D=new p["a"]({routes:[{path:"/",name:"home",component:z},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]}),J=n("9f7b");n("f9e3"),n("2dd8");a["a"].use(J["a"]),a["a"].config.productionTip=!1,new a["a"]({el:"#app",router:D,store:v,render:function(e){return e(u)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("2856"),o=n.n(a);o.a},b550:function(e,t,n){"use strict";var a=n("1775"),o=n.n(a);o.a},e3c5:function(e,t,n){}});
//# sourceMappingURL=app.ff940a6b.js.map