{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/MapAffectedLink.vue?e325","webpack:///./src/components/MapLoadSpinner.vue?fb79","webpack:///./src/components/MapTimeSlider.vue?cca3","webpack:///./src/components/MapPopulationLegend.vue?e2c0","webpack:///./src/components/Map.vue?14af","webpack:///./src/App.vue?1784","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?fe81","webpack:///./src/components/Map.vue?a6c6","webpack:///./src/store/mutation-types.js","webpack:///./src/store/modules/config.js","webpack:///./src/store/modules/map.js","webpack:///./src/store/modules/fire.js","webpack:///./src/store/modules/smoke.js","webpack:///./src/store/modules/population.js","webpack:///./src/store/modules/simulation.js","webpack:///./src/store/index.js","webpack:///src/components/Map.vue","webpack:///./src/components/Map.vue?3baf","webpack:///./src/components/Map.vue","webpack:///./src/components/MapTimeSlider.vue?9740","webpack:///src/components/MapTimeSlider.vue","webpack:///./src/components/MapTimeSlider.vue?fbfe","webpack:///./src/components/MapTimeSlider.vue?0662","webpack:///./src/components/MapPopulationLegend.vue?3b30","webpack:///src/components/MapPopulationLegend.vue","webpack:///./src/components/MapPopulationLegend.vue?76c8","webpack:///./src/components/MapPopulationLegend.vue?149f","webpack:///./src/components/MapSquarePopulation.vue?661d","webpack:///src/components/MapSquarePopulation.vue","webpack:///./src/components/MapSquarePopulation.vue?754d","webpack:///./src/components/MapSquarePopulation.vue?ffa3","webpack:///./src/components/MapLoadSpinner.vue?227b","webpack:///src/components/MapLoadSpinner.vue","webpack:///./src/components/MapLoadSpinner.vue?82b8","webpack:///./src/components/MapLoadSpinner.vue?400f","webpack:///./src/components/MapSetup.vue?d190","webpack:///./src/components/MapAffectedLink.vue?92d2","webpack:///src/components/MapAffectedLink.vue","webpack:///./src/components/MapAffectedLink.vue?dff7","webpack:///./src/components/MapAffectedLink.vue?1328","webpack:///./src/components/MapTrafficBehaviourCard.vue?28a5","webpack:///src/components/MapTrafficBehaviourCard.vue","webpack:///./src/components/MapTrafficBehaviourCard.vue?6a6a","webpack:///./src/components/MapTrafficBehaviourCard.vue?1ce7","webpack:///src/components/MapSetup.vue","webpack:///./src/components/MapSetup.vue?d457","webpack:///./src/components/MapSetup.vue?ee74","webpack:///./src/components/MapButtons.vue?0074","webpack:///src/components/MapButtons.vue","webpack:///./src/components/MapButtons.vue?fec0","webpack:///./src/components/MapButtons.vue?df14","webpack:///./src/components/SaveSettings.vue?bc1c","webpack:///src/components/SaveSettings.vue","webpack:///./src/components/SaveSettings.vue?8890","webpack:///./src/components/SaveSettings.vue?e535","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///./src/router.js","webpack:///./src/main.js","webpack:///./src/App.vue?165b","webpack:///./src/components/MapTrafficBehaviourCard.vue?dd13","webpack:///./src/components/SaveSettings.vue?e04a","webpack:///./src/components/MapSquarePopulation.vue?164f","webpack:///./src/components/MapButtons.vue?0778","webpack:///./src/components/MapSetup.vue?26dd"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","staticRenderFns","component","on","$event","indexOf","_k","keyCode","toggleSettingsVis","mapboxAccessToken","mapOpts","show","position","storeMapInstance","START_LOADING","DONE_LOADING","SET_MAP_INSTANCE","SET_DRAW_INSTANCE","SET_MAPBOX_STYLE","SETTINGS_VISIBILITY","SELECT_REGION","CLEAR_REGION","FLY_TO","SET_FIRST_SYMBOL_LAYER","MATSIM_ADD_SOURCE","MATSIM_ADD_LAYER","MATSIM_SET_BASE_LAYER","MATSIM_SET_HIGHLIGHT_LAYER","MATSIM_SET_SELECTED_DISRUPTION_LAYER","MATSIM_SET_DISRUPTION_LAYER","MATSIM_ADD_DISRUPTION","MATSIM_SELECT_LINK","MATSIM_DESELECT_LINK","MATSIM_SAVE_CONFIG","MATSIM_SETTINGS_VIS","SELECT_FIRE","CLEAR_FIRE","SELECT_POPULATION","CLEAR_POPULATION","POPULATION_SET_OPACITY","POP_ADD_SOURCE","POP_ADD_LAYER","PHOENIX_ADD_SOURCE","PHOENIX_ADD_LAYER","PHOENIX_SET_OPACITY","PHOENIX_TIME_STEP","DRAW_SMOKE","EMBER_ADD_SOURCE","EMBER_ADD_LAYER","EMBER_SET_OPACITY","CLEAR_SMOKE","TOGGLE_3D","state","styles","id","getters","regions","tiles","populations","fires","region","regionId","populationsWithTag","filteredPops","Array","isArray","tags","includes","firesWithTag","filteredFires","f","mutations","actions","getConfig","url","commit","fetch","res","json","catch","isLoading","mapboxStyle","firstSymbolLayer","mapSettingsIsOpen","baseMATSimLayer","highlightMATSimLayer","loadedMATSimLayers","loadedMATSimSource","selectedRegion","populationSquares","squarePopulationIsOpen","selectedMATSimLink","disruptions","affectedLinkIsOpen","mapInstance","drawInstance","mapCenter","selectedStyle","rootState","config","style","find","obj","rootGetters","popInSelectedRegion","firesInSelectedRegion","newMap","newDraw","newStyle","setStyle","newVal","disruptionMATSimLayer","selectedDisruptionMATSimLayer","flyTo","center","zoom","bearing","speed","curve","easing","easeTo","pitch","firstSymbolId","layers","getStyle","matsimNetwork","addLayer","layerName","source","sourceName","sourceLayer","minzoom","maxzoom","paint","filter","addSource","pbfurl","map","layer","removeLayer","removeSource","draw","changeMode","getCanvas","cursor","feature","changeMapboxStyle","dispatch","clearMap","selectRegion","loadGlobal","root","handler","loadLayers","process","matsimNetworkTiles","matsimNetworkLayer","loadMATSimNetwork","matsimNetworkHighlighted","JSON","parse","stringify","assign","matsimNetworkHighlightedDisruptions","matsimNetworkSelectedDisruptions","namespaced","stepMinutes","selectedFire","loadedLayers","loadedSources","visibleStep","fire3DFlameHeight","opacity","fireIntensityLevels","totalLayers","description","ignitionMinutes","fireData","parseInt","ignition_hhmm","startStep","payload","fireSlice","geojson","layout","visibility","stops","beforeLayer","select","fire","smokeGeojson","load","file","downloadAndCreateLayers","response","features","sort","a","b","properties","HOUR_BURNT","lastFeature","totalMinutes","totalSteps","Math","ceil","threshold","sect","stepStr","toString","fireBeforeLayer","fireStep","fireStartStep","setLayoutProperty","setOpacity","val","step","paintProp","setPaintProperty","reload","resetFireLayers","toggleFireIn3D","color","visible","createLayers","HOUR_SPOT","smokeBeforeLayer","toggle","selected","activityColors","home","work","beach","shops","other","aboveLayer","popSlice","base","duration","populationGeojson","pop","end_hr","whereareyounow","plan","keys","k","person","geometry","coordinates","x","y","getSource","setData","savedSettingsJson","simulationName","simSettingsIsOpen","method","body","headers","details","detail","join","log","Vue","use","Vuex","Store","smoke","population","simulation","disruptionSelected","computed","opts","minZoom","maxZoom","components","mapbox","methods","mapOnClick","squareCreated","loadLayersOnStyleChange","displayControlsDefault","modes","addControl","linkList","bbox","queryRenderedFeatures","ID","filteredItems","selectedDisruptionLinks","popupText","linksIsDisrupted","forEach","disruption","affectedLinks","speedUnit","absoluteSpeed","link","reduce","disruptedFilter","highlightFilter","setFilter","_b","ref","hasLabel","stepToTime","scopedSlots","_u","fn","active","class","_v","_s","model","callback","$$v","timeStep","expression","sliderConfig","_e","props","ls","labelStep","width","min","max","maxSteps","set","$store","interval","$mq","notTooClose","popSelected","_l","backgroundColor","directives","rawName","domProps","composing","squarePopulation","default","Number","isOpen","_m","popDesc","selectedPopulation","display_name","helperOptions","modifiers","proxy","showSmoke","eventDesc","text","fireOpacity","smokeOpacity","popOpacity","linkId","linkStart","String","valueToPercent","valueToMark","trafficSpeed","dotStyle","display","isHidden","modalShow","global","phoenix","matsim","trafficBehaviour","dest_selected","dest_options","selectedIncident","smokeVisible","decimal","match","parseFloat","mapAffectedLink","MapAffectedLink","MapTrafficBehaviourCard","FontAwesomeIcon","setRegion","dataset","drawRectangle","changeTime","charAt","temp","split","evac_time","renderFireIn3D","showDisruptionWindow","isLinkDisrupted","staticStyle","deleteDisruption","saveDisruption","store","start","$refs","startTime","end","endTime","selectedLink","SaveSimulationToggle","SaveSimulationConfig","Boolean","saveSimIsOpen","outputTemplate","ees","scenario_main","maplayer","Map","slider","MapTimeSlider","popLegend","MapPopulationLegend","spinner","MapLoadSpinner","MapSquarePopulation","setup","MapSetup","buttons","MapButtons","savesettings","SaveSettings","Router","routes","path","Home","BootstrapVue","VueMq","productionTip","el","router","render","h","App","mounted","$mount"],"mappings":"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","file":"js/app.eff85e96.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"about\":\"4b014ceb\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"about\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"about\":\"e8a3e408\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/ees-ui/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapAffectedLink.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapAffectedLink.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLoadSpinner.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLoadSpinner.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapTimeSlider.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapTimeSlider.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapPopulationLegend.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapPopulationLegend.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=30161512&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=30161512&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view',{staticClass:\"router-view\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=5bdec0c6&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{on:{\"!keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.toggleSettingsVis()}}},[_c('maplayer'),_c('popLegend'),_c('slider'),_c('spinner'),_c('population'),_c('setup'),_c('buttons'),_c('savesettings')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('mapbox',{attrs:{\"access-token\":_vm.mapboxAccessToken,\"map-options\":_vm.mapOpts,\"geolocate-control\":{\n    show: true,\n    position: 'top-right'\n  },\"scale-control\":{\n    show: true,\n    position: 'bottom-left'\n  }},on:{\"map-load\":_vm.storeMapInstance}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// mutation-types.js\n// Represents global mutation triggers that are used throughout the application\n\nexport const START_LOADING = \"START_LOADING\";\nexport const DONE_LOADING = \"DONE_LOADING\";\n\nexport const SET_MAP_INSTANCE = \"SET_MAP_INSTANCE\";\n\nexport const SET_DRAW_INSTANCE = \"SET_DRAW_INSTANCE\";\nexport const SET_MAPBOX_STYLE = \"SET_MAPBOX_STYLE\";\nexport const SETTINGS_VISIBILITY = \"SETTINGS_VISIBILITY\";\n\nexport const SELECT_REGION = \"SELECT_REGION\";\nexport const CLEAR_REGION = \"CLEAR_REGION\";\nexport const FLY_TO = \"FLY_TO\";\nexport const SET_FIRST_SYMBOL_LAYER = \"SET_FIRST_SYMBOL_LAYER\";\n\nexport const MATSIM_ADD_SOURCE = \"MATSIM_ADD_SOURCE\";\nexport const MATSIM_ADD_LAYER = \"MATSIM_ADD_LAYER\";\nexport const MATSIM_SET_BASE_LAYER = \"MATSIM_SET_BASE_LAYER\";\nexport const MATSIM_SET_HIGHLIGHT_LAYER = \"MATSIM_SET_HIGHLIGHT_LAYER\";\nexport const MATSIM_SET_SELECTED_DISRUPTION_LAYER =\n  \"MATSIM_SET_SELECTED_DISRUPTION_LAYER\";\nexport const MATSIM_SET_DISRUPTION_LAYER = \"MATSIM_SET_DISRUPTION_LAYER\";\nexport const MATSIM_ADD_DISRUPTION = \"MATSIMATSIM_ADD_DISRUPTION\";\nexport const MATSIM_SELECT_LINK = \"MATSIM_SELECT_LINK\";\nexport const MATSIM_DESELECT_LINK = \"MATSIM_DESELECT_LINK\";\n\n// simulation setup/playthrough\nexport const MATSIM_SAVE_CONFIG = \"MATSIM_SAVE_CONFIG\";\nexport const MATSIM_SETTINGS_VIS = \"MATSIM_SETTINGS_VIS\";\n\nexport const SELECT_FIRE = \"SELECT_FIRE\";\nexport const CLEAR_FIRE = \"CLEAR_FIRE\";\n\nexport const SELECT_POPULATION = \"SELECT_POPULATION\";\nexport const CLEAR_POPULATION = \"CLEAR_POPULATION\";\nexport const POPULATION_SET_OPACITY = \"POPULATION_SET_OPACITY\";\n\nexport const POP_ADD_SOURCE = \"POP_ADD_SOURCE\";\nexport const POP_ADD_LAYER = \"POP_ADD_LAYER\";\n\nexport const PHOENIX_ADD_SOURCE = \"PHOENIX_ADD_SOURCE\";\nexport const PHOENIX_ADD_LAYER = \"PHOENIX_ADD_LAYER\";\nexport const PHOENIX_SET_OPACITY = \"PHOENIX_SET_OPACITY\";\nexport const PHOENIX_TIME_STEP = \"PHOENIX_TIME_STEP\";\n\nexport const DRAW_SMOKE = \"DRAW_SMOKE\";\nexport const EMBER_ADD_SOURCE = \"EMBER_ADD_SOURCE\";\nexport const EMBER_ADD_LAYER = \"EMBER_ADD_LAYER\";\nexport const EMBER_SET_OPACITY = \"EMBER_SET_OPACITY\";\nexport const CLEAR_SMOKE = \"CLEAR_SMOKE\";\n\n// used to trigger pitch change, and 3D fire\nexport const TOGGLE_3D = \"TOGGLE_3D\";\n","// Configuration for the application.\n//\nimport { START_LOADING, DONE_LOADING } from \"@/store/mutation-types\";\n\nconst state = {\n  mapboxAccessToken:\n    \"pk.eyJ1IjoiZGhpeHNpbmdoIiwiYSI6ImNqbWx4OTR0ZzBkMWUzb255and1aTUweGkifQ.U0vPiwyfM4ad7axC_4dkHg\",\n  error: null,\n  data: null,\n  styles: [\n    {\n      id: \"basic\",\n      name: \"Basic\"\n    },\n    {\n      id: \"bright\",\n      name: \"Bright\"\n    },\n    {\n      id: \"dark\",\n      name: \"Dark\"\n    },\n    {\n      id: \"light\",\n      name: \"Light\"\n    },\n    {\n      id: \"satellite\",\n      name: \"Satellite\"\n    },\n    {\n      id: \"streets\",\n      name: \"Streets\"\n    }\n  ]\n};\n\nconst getters = {\n  mapboxAccessToken: state => state.mapboxAccessToken,\n  styles: state => state.styles,\n  regions: state => {\n    if (state.data) {\n      return state.data.tiles;\n    } else {\n      return {};\n    }\n  },\n  populations: state => {\n    if (state.data) {\n      return state.data.populations;\n    } else {\n      return {};\n    }\n  },\n  fires: state => {\n    if (state.data) {\n      return state.data.fires;\n    } else {\n      return {};\n    }\n  },\n  region: state => regionId => {\n    return state.data.tiles[regionId];\n  },\n  populationsWithTag: (state, getters) => tag => {\n    const populations = getters.populations;\n    var filteredPops = {};\n    for (const p in populations) {\n      if (\n        Array.isArray(populations[p].tags) &&\n        populations[p].tags.includes(tag)\n      ) {\n        filteredPops[p] = populations[p];\n      }\n    }\n    return filteredPops;\n  },\n  firesWithTag: (state, getters) => tag => {\n    const fires = getters.fires;\n    var filteredFires = {};\n    for (const f in fires) {\n      if (Array.isArray(fires[f].tags) && fires[f].tags.includes(tag)) {\n        filteredFires[f] = fires[f];\n      }\n    }\n    return filteredFires;\n  }\n};\n\nconst mutations = {\n  [\"SAVE_SETTINGS\"](state, value) {\n    state.data = value;\n  },\n  [\"ERROR\"](state, value) {\n    state.error = value;\n  }\n};\nconst actions = {\n  getConfig({ commit }, url) {\n    commit(START_LOADING);\n    fetch(url)\n      .then(res => res.json())\n      .then(json => {\n        commit(DONE_LOADING);\n        commit(\"SAVE_SETTINGS\", json);\n      })\n      .catch(e => {\n        commit(\n          \"ERROR\",\n          \"Could not retreive anything from the server. Please try again later.\" +\n            \"<br />Tried URL: \" +\n            url +\n            \"<br />\" +\n            \"<br /> Error message below.<br /><br />\" +\n            e\n        );\n        commit(DONE_LOADING);\n      });\n  }\n};\n\nexport default {\n  state,\n  getters,\n  mutations,\n  actions\n};\n","// Mapbox state\n// Used to store state of map, including layers etc\nimport {\n  START_LOADING,\n  DONE_LOADING,\n  SET_MAP_INSTANCE,\n  SET_DRAW_INSTANCE,\n  SET_MAPBOX_STYLE,\n  SETTINGS_VISIBILITY,\n  SELECT_REGION,\n  CLEAR_REGION,\n  FLY_TO,\n  SET_FIRST_SYMBOL_LAYER,\n  MATSIM_ADD_SOURCE,\n  MATSIM_ADD_LAYER,\n  MATSIM_SET_BASE_LAYER,\n  MATSIM_SET_HIGHLIGHT_LAYER,\n  MATSIM_SET_DISRUPTION_LAYER,\n  MATSIM_SET_SELECTED_DISRUPTION_LAYER,\n  MATSIM_SELECT_LINK,\n  MATSIM_DESELECT_LINK,\n  MATSIM_ADD_DISRUPTION,\n  TOGGLE_3D\n} from \"@/store/mutation-types\";\n\nconst state = {\n  isLoading: 0,\n  mapboxStyle: \"dark\",\n  firstSymbolLayer: null,\n  mapSettingsIsOpen: true,\n  baseMATSimLayer: null,\n  highlightMATSimLayer: null,\n  loadedMATSimLayers: [],\n  loadedMATSimSource: null,\n  selectedRegion: null,\n  populationSquares: [],\n  squarePopulationIsOpen: false,\n  selectedMATSimLink: \"\",\n  disruptions: [],\n  affectedLinkIsOpen: false,\n  mapInstance: null, // MapboxGL object\n  drawInstance: null, // MapboxDraw object\n  mapCenter: [144.968447, -37.818232] // Federeation Square Melbourne\n};\n\nconst getters = {\n  mapInstance: state => state.mapInstance,\n  drawInstance: state => state.drawInstance,\n  selectedStyle: (state, getters, rootState) => {\n    if (!state.mapboxStyle) return null;\n    var styles = rootState.config.styles;\n    var style = styles.find(obj => obj.id === state.mapboxStyle);\n    return style;\n  },\n  selectedRegion: (state, getters, rootState, rootGetters) => {\n    if (!state.selectedRegion) return null;\n    return rootGetters.region(state.selectedRegion);\n  },\n  popInSelectedRegion: (state, getters, rootState, rootGetters) => {\n    if (!state.selectedRegion) return [];\n    return rootGetters.populationsWithTag(getters.selectedRegion.name);\n  },\n  firesInSelectedRegion: (state, getters, rootState, rootGetters) => {\n    if (!state.selectedRegion) return getters.fires;\n    return rootGetters.firesWithTag(getters.selectedRegion.name);\n  }\n};\n\nconst mutations = {\n  [START_LOADING](state) {\n    state.isLoading++;\n  },\n  [DONE_LOADING](state) {\n    if (state.isLoading > 0) state.isLoading--;\n  },\n  [SET_MAP_INSTANCE](state, newMap) {\n    state.mapInstance = newMap;\n  },\n  [SET_DRAW_INSTANCE](state, newDraw) {\n    state.drawInstance = newDraw;\n  },\n  [SET_MAPBOX_STYLE](state, newStyle) {\n    state.mapboxStyle = newStyle;\n    state.mapInstance.setStyle(\n      \"mapbox://styles/mapbox/\" + state.mapboxStyle + \"-v9\"\n    );\n  },\n  [SETTINGS_VISIBILITY](state, newVal) {\n    state.mapSettingsIsOpen = newVal;\n  },\n  [SELECT_REGION](state, newVal) {\n    state.selectedRegion = newVal;\n  },\n  [MATSIM_SET_BASE_LAYER](state, newVal) {\n    state.baseMATSimLayer = newVal;\n  },\n  [MATSIM_SET_HIGHLIGHT_LAYER](state, newVal) {\n    state.highlightMATSimLayer = newVal;\n  },\n  [MATSIM_SET_DISRUPTION_LAYER](state, newVal) {\n    state.disruptionMATSimLayer = newVal;\n  },\n  [MATSIM_SET_SELECTED_DISRUPTION_LAYER](state, newVal) {\n    state.selectedDisruptionMATSimLayer = newVal;\n  },\n  [MATSIM_ADD_DISRUPTION](state, newVal) {\n    state.disruptions.push(newVal);\n  },\n  [FLY_TO](state, target) {\n    state.mapInstance.flyTo({\n      // These options control the ending camera position: centered at\n      // the target, at given zoom level, and north up.\n      center: target,\n      zoom: 8,\n      bearing: 0,\n      // These options control the flight curve, making it move\n      // slowly and zoom out almost completely before starting\n      // to pan.\n      speed: 0.5, // make the flying slow\n      curve: 1, // change the speed at which it zooms out\n\n      // This can be any easing function: it takes a number between\n      // 0 and 1 and returns another number between 0 and 1.\n      easing: function(t) {\n        return t;\n      }\n    });\n    state.mapCenter = target;\n  },\n  [TOGGLE_3D](state, value) {\n    // set the pitch if we are enabling 3D\n    if (value) state.mapInstance.easeTo({ pitch: 60 });\n    else state.mapInstance.easeTo({ pitch: 0 });\n  },\n  [SET_FIRST_SYMBOL_LAYER](state) {\n    var layers = state.mapInstance.getStyle().layers;\n    // Find the index of the first symbol layer in the map style\n    var firstSymbolId;\n    for (var i = 0; i < layers.length; i++) {\n      if (layers[i].type === \"symbol\" && layers[i].id.includes(\"label\")) {\n        firstSymbolId = layers[i].id;\n        break;\n      }\n    }\n    state.firstSymbolLayer = firstSymbolId;\n  },\n  [MATSIM_ADD_LAYER](state, matsimNetwork) {\n    state.mapInstance.addLayer(\n      {\n        id: matsimNetwork.layerName,\n        type: \"line\",\n        source: matsimNetwork.sourceName,\n        \"source-layer\": matsimNetwork.sourceLayer,\n        minzoom: 0,\n        maxzoom: 22,\n        paint: matsimNetwork.paint,\n        filter: matsimNetwork.filter\n      },\n      // This is the important part of this example: the addLayer\n      // method takes 2 arguments: the layer as an object, and a string\n      // representing another layer's name. if the other layer\n      // exists in the stylesheet already, the new layer will be positioned\n      // right before that layer in the stack, making it possible to put\n      // 'overlays' anywhere in the layer stack.\n      // Insert the layer beneath the first symbol layer.\n      state.firstSymbolLayer\n    );\n    state.loadedMATSimLayers.push(matsimNetwork.layerName);\n  },\n  [MATSIM_ADD_SOURCE](state, matsimNetwork) {\n    state.mapInstance.addSource(matsimNetwork.sourceName, {\n      type: \"vector\",\n      tiles: [matsimNetwork.pbfurl],\n      minzoom: 0,\n      maxzoom: 14\n    });\n    state.loadedMATSimSource = matsimNetwork.sourceName;\n  },\n  [CLEAR_REGION](state) {\n    var map = state.mapInstance;\n    for (const layer of state.loadedMATSimLayers) map.removeLayer(layer);\n    state.loadedMATSimLayers = [];\n\n    if (state.loadedMATSimSource) {\n      map.removeSource(state.loadedMATSimSource);\n      state.loadedMATSimSource = null;\n    }\n    state.baseMATSimLayer = null;\n    state.highlightMATSimLayer = null;\n  },\n  drawPopulationSquare(state) {\n    const map = state.mapInstance;\n    const draw = state.drawInstance;\n    draw.changeMode(\"draw_rectangle\");\n    map.getCanvas().style.cursor = \"crosshair\";\n  },\n  addPopulationSquare(state, feature) {\n    // reset cursor to default\n    state.mapInstance.getCanvas().style.cursor = \"\";\n    state.populationSquares.push(feature);\n    state.squarePopulationIsOpen = true;\n  },\n  setSquarePopulationIsOpen(state, value) {\n    state.squarePopulationIsOpen = value;\n  },\n  [MATSIM_SELECT_LINK](state, value) {\n    state.selectedMATSimLink = value;\n  },\n  [MATSIM_DESELECT_LINK](state) {\n    state.selectedMATSimLink = [];\n  },\n  setAffectedLinkIsOpen(state, value) {\n    state.affectedLinkIsOpen = value;\n  }\n};\n\nconst actions = {\n  toggleSettingsVis({ state, commit }) {\n    commit(SETTINGS_VISIBILITY, !state.mapSettingsIsOpen);\n  },\n  changeMapboxStyle({ commit, dispatch }, style) {\n    // ensure any existing matsim artifacts are removed\n    // by dispatch to all store modules\n    dispatch(\"clearMap\");\n    commit(SET_MAPBOX_STYLE, style);\n  },\n  clearMap({ commit }) {\n    // ensure any existing matsim/fire artifacts are removed\n    commit(CLEAR_REGION);\n  },\n  selectRegion({ dispatch, commit, getters }, value) {\n    commit(SELECT_REGION, value);\n    // load the relevant MATSim layers\n    dispatch(\"clearMap\");\n    dispatch(\"loadLayers\");\n    commit(FLY_TO, getters.selectedRegion.center);\n  },\n  // Used in Map.vue by loadLayersOnStyleChange.\n  // Adds both source and layers back to the map in the event of a style change\n  // Must be implemented by any module that\n  // adds sources/layers to mapbox.\n  loadGlobal: {\n    root: true,\n    handler({ dispatch }) {\n      dispatch(\"loadLayers\");\n    }\n  },\n  loadLayers({ dispatch, getters }) {\n    var region = getters.selectedRegion;\n    if (!region) return; // no region to be loaded\n\n    var matsimNetwork = {\n      sourceName: \"matsim\",\n      pbfurl: process.env.VUE_APP_EES_TILES_API + region.matsimNetworkTiles,\n      layerName: region.matsimNetworkLayer,\n      sourceLayer: region.matsimNetworkLayer,\n      paint: {\n        \"line-color\": \"#7777ff\",\n        \"line-width\": 0.5\n      },\n      filter: [\"all\"]\n    };\n\n    dispatch(\"loadMATSimNetwork\", matsimNetwork);\n  },\n  loadMATSimNetwork({ commit }, matsimNetwork) {\n    // wake the server and give an indication of loading (experimental)\n    commit(START_LOADING);\n    fetch(process.env.VUE_APP_EES_TILES_API + \"/wake/please\").then(function() {\n      commit(DONE_LOADING); // dont care about the response\n    });\n\n    // load the matsim source\n    commit(MATSIM_ADD_SOURCE, matsimNetwork);\n\n    // create the base matsim layer\n    commit(MATSIM_ADD_LAYER, matsimNetwork);\n    commit(MATSIM_SET_BASE_LAYER, matsimNetwork.layerName);\n\n    // create the highlight layer above this (deep copy)\n    var matsimNetworkHighlighted = JSON.parse(JSON.stringify(matsimNetwork));\n    matsimNetworkHighlighted = Object.assign(matsimNetworkHighlighted, {\n      layerName: matsimNetwork.layerName + \"-highlighted\",\n      paint: {\n        \"line-color\": \"#FF8C00\",\n        \"line-width\": 1.5\n      },\n      filter: [\"in\", \"ID\", \"\"]\n    });\n    commit(MATSIM_ADD_LAYER, matsimNetworkHighlighted);\n    commit(MATSIM_SET_HIGHLIGHT_LAYER, matsimNetworkHighlighted.layerName);\n\n    //Disruptions layer\n    var matsimNetworkHighlightedDisruptions = JSON.parse(\n      JSON.stringify(matsimNetwork)\n    );\n    matsimNetworkHighlightedDisruptions = Object.assign(\n      matsimNetworkHighlightedDisruptions,\n      {\n        layerName: matsimNetwork.layerName + \"-highlightedDisruptions\",\n        paint: {\n          \"line-color\": \"#FF0000\",\n          \"line-width\": 1.5\n        },\n        filter: [\"in\", \"ID\", \"\"]\n      }\n    );\n    commit(MATSIM_ADD_LAYER, matsimNetworkHighlightedDisruptions);\n    commit(\n      MATSIM_SET_DISRUPTION_LAYER,\n      matsimNetworkHighlightedDisruptions.layerName\n    );\n\n    //Selected disruption layer\n    var matsimNetworkSelectedDisruptions = JSON.parse(\n      JSON.stringify(matsimNetwork)\n    );\n    matsimNetworkSelectedDisruptions = Object.assign(\n      matsimNetworkSelectedDisruptions,\n      {\n        layerName: matsimNetwork.layerName + \"-selectedDisruptions\",\n        paint: {\n          \"line-color\": \"#00bfff\",\n          \"line-width\": 1.5\n        },\n        filter: [\"in\", \"ID\", \"\"]\n      }\n    );\n    commit(MATSIM_ADD_LAYER, matsimNetworkSelectedDisruptions);\n    commit(\n      MATSIM_SET_SELECTED_DISRUPTION_LAYER,\n      matsimNetworkSelectedDisruptions.layerName\n    );\n  }\n};\n\nexport default {\n  state,\n  getters,\n  mutations,\n  actions\n};\n","// Phoenix fire\n// Used to store state of fire geojson and layers\nimport {\n  START_LOADING,\n  DONE_LOADING,\n  SELECT_FIRE,\n  PHOENIX_ADD_SOURCE,\n  PHOENIX_ADD_LAYER,\n  PHOENIX_SET_OPACITY,\n  PHOENIX_TIME_STEP,\n  CLEAR_FIRE,\n  TOGGLE_3D\n} from \"@/store/mutation-types\";\n\nconst namespaced = true; // https://vuex.vuejs.org/guide/modules.html#namespacing\n\nconst state = {\n  stepMinutes: 10,\n  selectedFire: null,\n  loadedLayers: [],\n  loadedSources: [],\n  visibleStep: null,\n  fire3DFlameHeight: false,\n  opacity: 0.4,\n  fireIntensityLevels: [[0, \"#ffc107\"], [100000, \"#dc3545\"]]\n};\n\nconst getters = {\n  stepMinutes: state => state.stepMinutes,\n  visibleStep: state => state.visibleStep,\n  totalLayers: state => state.loadedLayers.length,\n  selectedFire: (state, getters, rootState, rootGetters) => {\n    const fires = rootGetters.fires;\n    if (state.selectedFire in fires) return fires[state.selectedFire];\n    else return null;\n  },\n  description: (state, getters) => {\n    if (state.selectedFire) {\n      return getters.selectedFire.description;\n    } else return \"\";\n  },\n  ignitionMinutes: (state, getters) => {\n    var fireData = getters.selectedFire;\n    if (fireData && \"ignition_hhmm\" in fireData)\n      return (\n        parseInt(fireData.ignition_hhmm.slice(0, 2)) * 60 +\n        parseInt(fireData.ignition_hhmm.slice(2))\n      );\n    else return 0;\n  },\n  startStep: (state, getters) => {\n    return getters.ignitionMinutes / getters.stepMinutes;\n  }\n};\n\nconst mutations = {\n  [SELECT_FIRE](state, newVal) {\n    state.selectedFire = newVal;\n  },\n  [PHOENIX_ADD_SOURCE](state, payload) {\n    var fireSlice = payload.fireSlice;\n    var source = fireSlice.sourceName;\n\n    // setup unique source\n    payload.map.addSource(source, {\n      type: \"geojson\",\n      data: fireSlice.geojson\n    });\n    state.loadedSources.push(source);\n  },\n  [PHOENIX_ADD_LAYER](state, payload) {\n    var fireSlice = payload.fireSlice;\n    var layer;\n    if (state.fire3DFlameHeight) {\n      layer = {\n        id: fireSlice.layerName,\n        type: \"fill-extrusion\",\n        source: fireSlice.sourceName,\n        filter: [\"has\", \"FLAME_HT\"],\n        layout: {\n          visibility: \"none\"\n        },\n        paint: {\n          \"fill-extrusion-color\": {\n            property: \"E_INTSTY\",\n            stops: state.fireIntensityLevels\n          },\n          \"fill-extrusion-height\": {\n            property: \"FLAME_HT\",\n            stops: [[0, 1], [300, 1000]]\n          },\n          \"fill-extrusion-base\": 0,\n          \"fill-extrusion-opacity\": state.opacity\n        }\n      };\n    } else {\n      layer = {\n        id: fireSlice.layerName,\n        type: \"fill\",\n        source: fireSlice.sourceName,\n        layout: {\n          visibility: \"none\"\n        },\n        paint: {\n          \"fill-color\": {\n            property: \"E_INTSTY\",\n            stops: state.fireIntensityLevels\n          },\n          \"fill-opacity\": state.opacity\n        }\n      };\n    }\n    payload.map.addLayer(layer, payload.beforeLayer);\n    state.loadedLayers.push(fireSlice.layerName);\n  },\n  [PHOENIX_SET_OPACITY](state, value) {\n    state.opacity = value;\n  },\n  [TOGGLE_3D](state, value) {\n    state.fire3DFlameHeight = value;\n  },\n  [CLEAR_FIRE](state, map) {\n    // remove layers\n    for (const layer of state.loadedLayers) map.removeLayer(layer);\n    state.loadedLayers = [];\n    // remove sources\n    for (const source of state.loadedSources) map.removeSource(source);\n    state.loadedSources = [];\n    state.visibleStep = null;\n\n    state.selectedFire = null;\n  },\n  [PHOENIX_TIME_STEP](state, newVal) {\n    state.visibleStep = newVal;\n  }\n};\n\nconst actions = {\n  clearMap: {\n    // Every store module is responsible for cleaning up after itself\n    // https://vuex.vuejs.org/guide/modules.html#register-global-action-in-namespaced-modules\n    root: true,\n    handler({ commit, rootGetters }) {\n      // ensure any existing matsim/fire artifacts are removed\n      commit(CLEAR_FIRE, rootGetters.mapInstance);\n    }\n  },\n  select({ dispatch, commit, getters, rootGetters }, fire) {\n    commit(CLEAR_FIRE, rootGetters.mapInstance);\n    commit(SELECT_FIRE, fire);\n    const fireData = getters.selectedFire;\n\n    if (getters.selectedFire) dispatch(\"load\");\n\n    if (fireData && fireData.smokeGeojson)\n      dispatch(\"drawSmoke\", fireData.smokeGeojson);\n  },\n  // Used in Map.vue by loadLayersOnStyleChange.\n  // Adds both source and layers back to the map in the event of a style change\n  // Must be implemented by any module that\n  // adds sources/layers to mapbox.\n  loadGlobal: {\n    root: true,\n    handler({ dispatch }) {\n      dispatch(\"load\");\n    }\n  },\n  load({ dispatch, getters }) {\n    var selectedFire = getters.selectedFire;\n    if (selectedFire) {\n      dispatch(\n        \"downloadAndCreateLayers\",\n        process.env.VUE_APP_EES_TILES_API + \"/\" + selectedFire.file\n      );\n    }\n  },\n  downloadAndCreateLayers({ dispatch, commit, getters, rootGetters }, url) {\n    const map = rootGetters.mapInstance;\n    commit(START_LOADING, null, { root: true });\n\n    // download and pre-process the geojson for better performance while rendering\n    // we will build our own sources and layers for each fire step\n    fetch(url)\n      .then(function(response) {\n        return response.json();\n      })\n      .then(function(geojson) {\n        var features = [...geojson.features];\n        // first sort\n        features.sort(function(a, b) {\n          if (a.properties.HOUR_BURNT === null) return -1;\n          if (b.properties.HOUR_BURNT === null) return 1;\n          else return a.properties.HOUR_BURNT - b.properties.HOUR_BURNT;\n        });\n        // now we can efficiently set up sources\n        const lastFeature = features[features.length - 1];\n        const totalMinutes = lastFeature.properties.HOUR_BURNT * 60;\n        const totalSteps = Math.ceil(totalMinutes / getters.stepMinutes);\n\n        // this will track the geojson features array\n        var j = 0;\n        // skip nulls\n        while (features[j].properties.HOUR_BURNT === null) j++;\n        // generate a geojson object for each step\n        for (var i = 0; i < totalSteps; i++) {\n          // set a threshold\n          var threshold = (i * getters.stepMinutes) / 60;\n          // create a fresh geojson structure for this layer\n          var sect = {\n            type: \"FeatureCollection\",\n            features: []\n          };\n\n          // add all features below the minutes threshold to this structure\n          while (features[j].properties.HOUR_BURNT < threshold) {\n            sect.features.push(features[j]);\n            j++;\n          }\n\n          // create this layer\n          var stepStr = i.toString();\n          var layer = \"phoenix-layer\" + stepStr;\n          var source = \"phoenix-source\" + stepStr;\n          commit(PHOENIX_ADD_SOURCE, {\n            map: map,\n            fireSlice: {\n              sourceName: source,\n              geojson: sect\n            }\n          });\n          commit(PHOENIX_ADD_LAYER, {\n            map: map,\n            beforeLayer: getters.fireBeforeLayer,\n            fireSlice: {\n              sourceName: source,\n              layerName: layer\n            }\n          });\n        }\n        dispatch(\"filter\", getters.startStep + totalSteps - 1, { root: true }); // load the final fire step\n        dispatch(\"smoke/createLayers\", geojson, { root: true });\n        commit(DONE_LOADING, null, { root: true });\n      });\n  },\n  filter: {\n    root: true,\n    handler({ getters, rootGetters, commit }, fireStep) {\n      const map = rootGetters.mapInstance;\n\n      const fireStartStep = getters.startStep;\n\n      // ensure every layer before the current step is on, and every one after is off\n      for (var i = 0; i < getters.totalLayers; i++) {\n        var layer = \"phoenix-layer\" + i.toString();\n        if (i + fireStartStep <= fireStep)\n          map.setLayoutProperty(layer, \"visibility\", \"visible\");\n        else map.setLayoutProperty(layer, \"visibility\", \"none\");\n      }\n      commit(PHOENIX_TIME_STEP, fireStep);\n    }\n  },\n  setOpacity({ getters, rootGetters, commit }, val) {\n    const map = rootGetters.mapInstance;\n    const totalLayers = getters.totalLayers;\n    var i;\n    var step;\n    var layer;\n    var paintProp;\n    commit(PHOENIX_SET_OPACITY, val);\n\n    if (state.fire3DFlameHeight) {\n      paintProp = \"fill-extrusion-opacity\";\n    } else {\n      paintProp = \"fill-opacity\";\n    }\n    for (i = 0; i < totalLayers; i++) {\n      step = i.toString();\n      layer = \"phoenix-layer\" + step;\n      map.setPaintProperty(layer, paintProp, val);\n    }\n  },\n  reload: {\n    root: true,\n    handler({ dispatch }) {\n      dispatch(\"resetFireLayers\");\n    }\n  },\n  resetFireLayers({ dispatch, rootGetters, getters, commit }) {\n    const map = rootGetters.mapInstance;\n    const totalLayers = getters.totalLayers;\n    var i;\n    var step;\n    var layer;\n    var source;\n\n    // we dont want to clear, just reset each fire layer\n    for (i = 0; i < totalLayers; i++) {\n      step = i.toString();\n      layer = \"phoenix-layer\" + step;\n      map.removeLayer(layer);\n    }\n    state.loadedLayers = [];\n\n    for (i = 0; i < totalLayers; i++) {\n      step = i.toString();\n      source = \"phoenix-source\" + step;\n      layer = \"phoenix-layer\" + step;\n\n      commit(PHOENIX_ADD_LAYER, {\n        map: map,\n        fireSlice: {\n          sourceName: source,\n          layerName: layer\n        }\n      });\n    }\n    dispatch(\"filter\", getters.visibleStep, { root: true });\n  },\n  toggleFireIn3D({ dispatch, state, commit }) {\n    commit(TOGGLE_3D, !state.fire3DFlameHeight, { root: true });\n    commit(TOGGLE_3D, !state.fire3DFlameHeight);\n    dispatch(\"resetFireLayers\");\n  }\n};\n\nexport default {\n  namespaced,\n  state,\n  getters,\n  mutations,\n  actions\n};\n","// Phoenix smoke\n// Used to store state of smoke geojson and layers\n// Smoke data is related to the fire and time slider, therefore we\n// piggyback a number of fire vuex actions here\n\nimport {\n  START_LOADING,\n  DONE_LOADING,\n  DRAW_SMOKE,\n  EMBER_ADD_SOURCE,\n  EMBER_ADD_LAYER,\n  EMBER_SET_OPACITY,\n  CLEAR_SMOKE\n} from \"@/store/mutation-types\";\n\nconst namespaced = true; // https://vuex.vuejs.org/guide/modules.html#namespacing\n\nconst state = {\n  color: \"#000000\",\n  visible: false,\n  loadedLayers: [],\n  loadedSources: [],\n  opacity: 0.4\n};\n\nconst getters = {\n  totalLayers: state => state.loadedLayers.length\n};\n\nconst mutations = {\n  [DRAW_SMOKE](state, newVal) {\n    state.visible = newVal;\n  },\n  [EMBER_ADD_SOURCE](state, payload) {\n    var slice = payload.slice;\n    var source = slice.sourceName;\n\n    // setup unique source\n    payload.map.addSource(source, {\n      type: \"geojson\",\n      data: slice.geojson\n    });\n    state.loadedSources.push(source);\n  },\n  [EMBER_ADD_LAYER](state, payload) {\n    var slice = payload.slice;\n    var layer;\n    layer = {\n      id: slice.layerName,\n      type: \"fill\",\n      source: slice.sourceName,\n      layout: {\n        visibility: \"none\"\n      },\n      paint: {\n        \"fill-color\": state.color,\n        \"fill-opacity\": state.opacity\n      }\n    };\n\n    payload.map.addLayer(layer, payload.beforeLayer);\n    state.loadedLayers.push(slice.layerName);\n  },\n  [EMBER_SET_OPACITY](state, value) {\n    state.opacity = value;\n  },\n  [CLEAR_SMOKE](state, map) {\n    // remove layers\n    for (const layer of state.loadedLayers) map.removeLayer(layer);\n    state.loadedLayers = [];\n    // remove sources\n    for (const source of state.loadedSources) map.removeSource(source);\n    state.loadedSources = [];\n  }\n};\n\nconst actions = {\n  clearMap: {\n    root: true,\n    handler({ commit, rootGetters }) {\n      // ensure any existing smoke artifacts are removed\n      commit(CLEAR_SMOKE, rootGetters.mapInstance);\n    }\n  },\n  createLayers({ dispatch, commit, getters, rootGetters }, geojson) {\n    const map = rootGetters.mapInstance;\n    commit(CLEAR_SMOKE, map);\n    commit(START_LOADING, null, { root: true });\n\n    // pre-process the geojson for better performance while rendering\n    // we will re-use the geojson from the phoenix fire load step\n    // we will build our own sources and layers for each smoke step\n    var features = [...geojson.features];\n    // first sort\n    features.sort(function(a, b) {\n      if (a.properties.HOUR_SPOT === null) return -1;\n      if (b.properties.HOUR_SPOT === null) return 1;\n      else return a.properties.HOUR_SPOT - b.properties.HOUR_SPOT;\n    });\n    // now we can efficiently set up sources\n    const lastFeature = features[features.length - 1];\n    const totalMinutes = lastFeature.properties.HOUR_SPOT * 60;\n    const totalSteps = Math.ceil(\n      totalMinutes / rootGetters[\"fire/stepMinutes\"]\n    );\n\n    // this will track the geojson features array\n    var j = 0;\n    // skip nulls\n    while (features[j].properties.HOUR_SPOT === null) j++;\n    // generate a geojson object for each step\n    for (var i = 0; i < totalSteps; i++) {\n      // set a threshold\n      var threshold = (i * rootGetters[\"fire/stepMinutes\"]) / 60;\n      // create a fresh geojson structure for this layer\n      var sect = {\n        type: \"FeatureCollection\",\n        features: []\n      };\n\n      // add all features below the minutes threshold to this structure\n      while (features[j].properties.HOUR_SPOT < threshold) {\n        sect.features.push(features[j]);\n        j++;\n      }\n\n      // create this layer\n      var stepStr = i.toString();\n      var layer = \"ember-layer\" + stepStr;\n      var source = \"ember-source\" + stepStr;\n      commit(EMBER_ADD_SOURCE, {\n        map: map,\n        slice: {\n          sourceName: source,\n          geojson: sect\n        }\n      });\n      commit(EMBER_ADD_LAYER, {\n        map: map,\n        beforeLayer: getters.smokeBeforeLayer,\n        slice: {\n          sourceName: source,\n          layerName: layer\n        }\n      });\n    }\n    dispatch(\"filter\", rootGetters[\"fire/visibleStep\"], { root: true });\n    commit(DONE_LOADING, null, { root: true });\n  },\n  filter: {\n    root: true,\n    handler({ state, getters, rootGetters }, step) {\n      if (state.visible) {\n        const map = rootGetters.mapInstance;\n        const startStep = rootGetters[\"fire/startStep\"];\n\n        // ensure every layer before the current step is on, and every one after is off\n        for (var i = 0; i < getters.totalLayers; i++) {\n          var layer = \"ember-layer\" + i.toString();\n          if (i + startStep <= step)\n            map.setLayoutProperty(layer, \"visibility\", \"visible\");\n          else map.setLayoutProperty(layer, \"visibility\", \"none\");\n        }\n      }\n    }\n  },\n  toggle({ getters, rootGetters, commit, dispatch }, val) {\n    commit(DRAW_SMOKE, val);\n    if (val) {\n      // filter to apply this change\n      dispatch(\"filter\", rootGetters[\"fire/visibleStep\"], { root: true });\n    } else {\n      const map = rootGetters.mapInstance;\n      // hide all smoke\n      for (var i = 0; i < getters.totalLayers; i++) {\n        var layer = \"ember-layer\" + i.toString();\n        map.setLayoutProperty(layer, \"visibility\", \"none\");\n      }\n    }\n  },\n  setOpacity({ getters, rootGetters, commit }, val) {\n    const map = rootGetters.mapInstance;\n    const totalLayers = getters.totalLayers;\n    var i;\n    var step;\n    var layer;\n    commit(EMBER_SET_OPACITY, val);\n\n    const paintProp = \"fill-opacity\";\n    for (i = 0; i < totalLayers; i++) {\n      step = i.toString();\n      layer = \"ember-layer\" + step;\n      map.setPaintProperty(layer, paintProp, val);\n    }\n  },\n  reload: {\n    root: true,\n    handler({ rootGetters, getters, commit }) {\n      const map = rootGetters.mapInstance;\n      var totalLayers = getters.totalLayers;\n      var i;\n      var step;\n      var layer;\n\n      // we dont want to clear, just reset each smoke layer\n      for (i = 0; i < totalLayers; i++) {\n        step = i.toString();\n        layer = \"ember-layer\" + step;\n        map.removeLayer(layer);\n      }\n      state.loadedLayers = [];\n\n      for (i = 0; i < totalLayers; i++) {\n        step = i.toString();\n        var source = \"ember-source\" + step;\n        layer = \"ember-layer\" + step;\n\n        commit(EMBER_ADD_LAYER, {\n          map: map,\n          slice: {\n            sourceName: source,\n            layerName: layer\n          }\n        });\n      }\n    }\n  }\n};\n\nexport default {\n  namespaced,\n  state,\n  getters,\n  mutations,\n  actions\n};\n","// Population plans\n// Used to store state of fire geojson and layers\nimport {\n  START_LOADING,\n  DONE_LOADING,\n  SELECT_POPULATION,\n  POPULATION_SET_OPACITY,\n  POP_ADD_SOURCE,\n  POP_ADD_LAYER,\n  CLEAR_POPULATION\n} from \"@/store/mutation-types\";\n\nconst namespaced = true; // https://vuex.vuejs.org/guide/modules.html#namespacing\n\nconst state = {\n  selected: null,\n  loadedLayers: [],\n  loadedSources: [],\n  opacity: 1.0,\n  activityColors: {\n    home: \"#fbb03b\",\n    work: \"#223b53\",\n    beach: \"#e55e5e\",\n    shops: \"#3bb2d0\",\n    other: \"#ccc\"\n  }\n};\n\nconst getters = {\n  selected: (state, getters, rootState, rootGetters) => {\n    const all = rootGetters.populations;\n    if (!all) return null;\n\n    if (state.selected in all) return all[state.selected];\n    else return null;\n  },\n  description: (state, getters) => {\n    if (state.selected) {\n      return getters.selected.description;\n    } else return \"\";\n  },\n  totalLayers: state => state.loadedLayers.length,\n  aboveLayer: (state, getters, rootState) => {\n    return rootState.firstSymbolLayer;\n  }\n};\n\nconst mutations = {\n  [SELECT_POPULATION](state, newVal) {\n    state.selected = newVal;\n  },\n  [POPULATION_SET_OPACITY](state, value) {\n    state.opacity = value;\n  },\n  [POP_ADD_SOURCE](state, payload) {\n    var popSlice = payload.popSlice;\n    var source = popSlice.sourceName;\n\n    // setup unique source\n    payload.map.addSource(source, {\n      type: \"geojson\",\n      data: popSlice.geojson\n    });\n    state.loadedSources.push(source);\n  },\n  [POP_ADD_LAYER](state, payload) {\n    var popSlice = payload.popSlice;\n    var layer;\n    layer = {\n      id: popSlice.layerName,\n      type: \"circle\",\n      source: popSlice.sourceName,\n      paint: {\n        \"circle-radius\": {\n          base: 1.75,\n          stops: [[12, 2], [22, 180]]\n        },\n        \"circle-color\": {\n          type: \"identity\",\n          property: \"color\"\n        },\n        \"circle-opacity\": state.opacity,\n        \"circle-opacity-transition\": {\n          duration: 0\n        }\n      }\n    };\n\n    payload.map.addLayer(layer, payload.beforeLayer);\n    state.loadedLayers.push(popSlice.layerName);\n  },\n  [CLEAR_POPULATION](state, map) {\n    // remove layers\n    for (const layer of state.loadedLayers) map.removeLayer(layer);\n    state.loadedLayers = [];\n    // remove sources\n    for (const source of state.loadedSources) map.removeSource(source);\n    state.loadedSources = [];\n\n    // remove animation states\n    delete window.populationGeojson;\n\n    state.selected = null;\n  }\n};\n\nconst actions = {\n  clearMap: {\n    // Every store module is responsible for cleaning up after itself\n    // https://vuex.vuejs.org/guide/modules.html#register-global-action-in-namespaced-modules\n    root: true,\n    handler({ commit, rootGetters }) {\n      // ensure any existing matsim/fire artifacts are removed\n      commit(CLEAR_POPULATION, rootGetters.mapInstance);\n    }\n  },\n  select({ dispatch, getters, rootGetters, commit }, pop) {\n    commit(CLEAR_POPULATION, rootGetters.mapInstance);\n    commit(SELECT_POPULATION, pop);\n    if (getters.selected) dispatch(\"load\");\n  },\n  // Used in Map.vue by loadLayersOnStyleChange.\n  // Adds both source and layers back to the map in the event of a style change\n  // Must be implemented by any module that\n  // adds sources/layers to mapbox.\n  loadGlobal: {\n    root: true,\n    handler({ dispatch }) {\n      dispatch(\"load\");\n    }\n  },\n  load({ dispatch, getters }) {\n    if (getters.selected) {\n      dispatch(\n        \"downloadAndCreateLayers\",\n        process.env.VUE_APP_EES_TILES_API + \"/\" + getters.selected.file\n      );\n    }\n  },\n  downloadAndCreateLayers({ state, dispatch, commit, rootGetters }, url) {\n    const map = rootGetters.mapInstance;\n    commit(START_LOADING, null, { root: true });\n\n    // the vuex state cant handle large datastructures\n    window.populationGeojson = [];\n\n    // download and pre-process the geojson for better performance while rendering\n    // we will build our own sources and layers for each fire step\n    fetch(url)\n      .then(function(response) {\n        return response.json();\n      })\n      .then(function(json) {\n        // json is sorted by end_time\n        // we can efficiently set up sources\n        const lastFeature = json[json.length - 1];\n        const totalMinutes = lastFeature.end_hr * 60;\n        const totalSteps = Math.ceil(\n          totalMinutes / rootGetters[\"fire/stepMinutes\"]\n        );\n\n        var whereareyounow = {};\n\n        // a first sweep to determine where everyone starts\n        for (const plan of json) {\n          if (!(plan.id in whereareyounow)) {\n            whereareyounow[plan.id] = plan;\n          }\n        }\n\n        // this will track the geojson features array\n        var j = 0;\n        // skip nulls\n        // generate a geojson object for each step\n        for (var i = 0; i < totalSteps; i++) {\n          // set a threshold\n          var threshold = (i * rootGetters[\"fire/stepMinutes\"]) / 60;\n\n          // add all features below the minutes threshold to this structure\n          while (json[j].end_hr < threshold) {\n            whereareyounow[json[j].id] = json[j];\n            j++;\n          }\n\n          // create a fresh geojson structure for this layer\n          var sect = {\n            type: \"FeatureCollection\",\n            features: []\n          };\n\n          // we know the state of everyone at this time, create a feature for each person\n          for (const k of Object.keys(whereareyounow)) {\n            var feature = {\n              type: \"Feature\",\n              properties: {\n                person: whereareyounow[k].id,\n                end_hr: whereareyounow[k].end_hr,\n                type: whereareyounow[k].type,\n                color: state.activityColors[whereareyounow[k].type]\n              },\n              geometry: {\n                type: \"Point\",\n                coordinates: [whereareyounow[k].x, whereareyounow[k].y]\n              }\n            };\n            sect.features.push(feature);\n          }\n\n          window.populationGeojson.push(sect);\n        }\n\n        // create a single layer to conduct animation in\n        var layer = \"pop-layer\";\n        var source = \"pop-source\";\n        commit(POP_ADD_SOURCE, {\n          map: map,\n          popSlice: {\n            sourceName: source,\n            geojson: window.populationGeojson[0]\n          }\n        });\n        commit(POP_ADD_LAYER, {\n          map: map,\n          beforeLayer: rootGetters.fireBeforeLayer,\n          popSlice: {\n            sourceName: source,\n            layerName: layer\n          }\n        });\n        dispatch(\"filter\", totalSteps - 1, { root: true }); // load the final fire step\n        commit(DONE_LOADING, null, { root: true });\n      });\n  },\n  filter: {\n    root: true,\n    handler({ rootGetters }, fireStep) {\n      const map = rootGetters.mapInstance;\n\n      const s = map.getSource(\"pop-source\");\n      if (typeof s !== \"undefined\") {\n        s.setData(window.populationGeojson[fireStep]);\n      }\n    }\n  },\n  setOpacity({ rootGetters, commit }, val) {\n    var map = rootGetters.mapInstance;\n    var layer = \"pop-layer\";\n\n    commit(POPULATION_SET_OPACITY, val);\n    map.setPaintProperty(layer, \"circle-opacity\", val);\n  },\n  reload: {\n    root: true,\n    handler({ rootGetters, commit }) {\n      var map = rootGetters.mapInstance;\n      var layer;\n\n      // we dont want to clear, just reset each layer\n      layer = \"pop-layer\";\n      map.removeLayer(layer);\n      state.loadedLayers = [];\n\n      var source = \"pop-source\";\n\n      commit(POP_ADD_LAYER, {\n        map: map,\n        popSlice: {\n          sourceName: source,\n          layerName: layer\n        }\n      });\n    }\n  }\n};\n\nexport default {\n  namespaced,\n  state,\n  getters,\n  mutations,\n  actions\n};\n","// simulation state\nimport {\n  MATSIM_SAVE_CONFIG,\n  MATSIM_SETTINGS_VIS\n} from \"@/store/mutation-types\";\n\nconst state = {\n  savedSettingsJson: null,\n  simulationName: null,\n  simSettingsIsOpen: false\n};\n\nconst getters = {};\n\nconst mutations = {\n  [MATSIM_SAVE_CONFIG](state, value) {\n    state.savedSettingsJson = value;\n\n    fetch(process.env.VUE_APP_EES_TILES_API + \"/save-settings\", {\n      method: \"POST\",\n      body: JSON.stringify(value),\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    })\n      .then(response => response)\n      .then(result => {\n        if (result.details) {\n          // there was an error...\n          const error = result.details.map(detail => detail.message).join(\". \");\n          console.log(error);\n        } else {\n          console.log(result);\n        }\n      });\n  },\n  [MATSIM_SETTINGS_VIS](state, value) {\n    state.simSettingsIsOpen = value;\n  },\n  setSimulationName(state, value) {\n    state.simulationName = value;\n  }\n};\n\nconst actions = {};\n\nexport default {\n  state,\n  getters,\n  mutations,\n  actions\n};\n","import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport config from \"./modules/config\";\nimport map from \"./modules/map\";\nimport fire from \"./modules/fire\";\nimport smoke from \"./modules/smoke\";\nimport population from \"./modules/population\";\nimport simulation from \"./modules/simulation\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  modules: {\n    config,\n    map,\n    fire,\n    smoke,\n    population,\n    simulation\n  }\n});\n","<template>\n  <mapbox\n    :access-token=\"mapboxAccessToken\"\n    :map-options=\"mapOpts\"\n    :geolocate-control=\"{\n      show: true,\n      position: 'top-right'\n    }\"\n    :scale-control=\"{\n      show: true,\n      position: 'bottom-left'\n    }\"\n    @map-load=\"storeMapInstance\"\n  ></mapbox>\n</template>\n\n<script>\nimport Mapbox from \"mapbox-gl-vue\";\nimport mapboxgl from \"mapbox-gl\";\nimport MapboxDraw from \"@mapbox/mapbox-gl-draw\";\nimport DrawRectangle from \"mapbox-gl-draw-rectangle-mode\";\n\nimport store from \"@/store\";\nimport {\n  SET_MAP_INSTANCE,\n  SET_DRAW_INSTANCE,\n  SET_FIRST_SYMBOL_LAYER,\n  MATSIM_SELECT_LINK,\n  MATSIM_DESELECT_LINK\n} from \"@/store/mutation-types\";\nimport { mapState } from \"vuex\";\n\nexport default {\n  name: \"maplayer\",\n  data: function() {\n    return {\n      disruptionSelected: false\n    };\n  },\n  computed: {\n    ...mapState({\n      mapboxAccessToken: state => state.config.mapboxAccessToken,\n      mapboxStyle: state => state.map.mapboxStyle,\n      mapCenter: state => state.map.mapCenter,\n      mapInstance: state => state.map.mapInstance,\n      baseMATSimLayer: state => state.map.baseMATSimLayer,\n      highlightMATSimLayer: state => state.map.highlightMATSimLayer,\n      disruptionMATSimLayer: state => state.map.disruptionMATSimLayer,\n      selectedDisruptionMATSimLayer: state =>\n        state.map.selectedDisruptionMATSimLayer\n    }),\n    mapOpts() {\n      var opts = {\n        style: \"mapbox://styles/mapbox/\" + this.mapboxStyle + \"-v9\",\n        center: this.mapCenter,\n        minZoom: 0,\n        zoom: 6,\n        maxZoom: 18\n      };\n      return opts;\n    }\n  },\n  components: {\n    mapbox: Mapbox\n  },\n  methods: {\n    storeMapInstance(map) {\n      map.on(\"click\", this.mapOnClick);\n      map.on(\"draw.create\", this.squareCreated);\n      map.on(\"style.load\", this.loadLayersOnStyleChange);\n\n      const draw = new MapboxDraw({\n        displayControlsDefault: false,\n        modes: Object.assign(\n          { draw_rectangle: DrawRectangle },\n          MapboxDraw.modes\n        )\n      });\n      // mobile support: we cant add the control until we actually want to draw\n      // https://github.com/agentsoz/ees-ui/issues/9\n      // https://github.com/mapbox/mapbox-gl-draw/issues/617\n      // Hacky Fix: https://github.com/cityofaustin/dockless/issues/48\n      map.addControl(draw);\n\n      store.commit(SET_MAP_INSTANCE, map);\n      store.commit(SET_DRAW_INSTANCE, draw);\n\n      store.commit(SET_FIRST_SYMBOL_LAYER);\n    },\n    loadLayersOnStyleChange() {\n      store.commit(SET_FIRST_SYMBOL_LAYER);\n      store.dispatch(\"loadGlobal\");\n    },\n    squareCreated(e) {\n      var feature = e.features[0];\n      store.commit(\"addPopulationSquare\", feature);\n    },\n    mapOnClick(e) {\n      //List of Links\n      var linkList =\n        store.state.map.selectedMATSimLink == \"\"\n          ? []\n          : store.state.map.selectedMATSimLink;\n      // set bbox as 5px reactangle area around clicked point\n      var bbox = [\n        [e.point.x - 5, e.point.y - 5],\n        [e.point.x + 5, e.point.y + 5]\n      ];\n      var features = this.mapInstance.queryRenderedFeatures(bbox, {\n        layers: [this.baseMATSimLayer]\n      });\n\n      var filter;\n\n      if (typeof features != \"undefined\" && features.length !== 0) {\n        var coordinates = features[0].geometry.coordinates.slice()[0][0];\n        var id = features[0].properties.ID;\n\n        const filteredItems = linkList.filter(item => item !== id);\n        if (linkList.length != filteredItems.length) {\n          linkList = filteredItems;\n        } else {\n          linkList.push(id);\n        }\n        var selectedDisruptionLinks = [];\n        var popupText = \"<strong>Link</strong>: \" + id;\n        var linksIsDisrupted = false;\n\n        linkList.forEach(link => {\n          store.state.map.disruptions.forEach(disruption => {\n            //Check if selected link is disrupted.\n            if (disruption.affectedLinks.includes(id)) {\n              linksIsDisrupted = true;\n              store.commit(MATSIM_SELECT_LINK, [id]);\n              linkList = store.state.map.selectedMATSimLink;\n              this.disruptionSelected = true;\n              if (linksIsDisrupted) {\n                var speedUnit = disruption.absoluteSpeed ? \" km/h\" : \"% Slower\";\n                popupText +=\n                  \"<br><strong>Description</strong>: \" +\n                  disruption.description +\n                  \"<br><strong>Time</strong>: \" +\n                  disruption.start +\n                  \"-\" +\n                  disruption.end +\n                  \"<br><strong>Speed</strong>: \" +\n                  disruption.speed +\n                  speedUnit +\n                  \"<br><strong>Affected Links: </strong>:<br>\";\n                selectedDisruptionLinks = disruption.affectedLinks;\n                disruption.affectedLinks.forEach(link => {\n                  popupText += link + \"<br>\";\n                });\n              }\n            }\n          });\n\n          if (this.disruptionSelected && linksIsDisrupted == false) {\n            store.commit(MATSIM_SELECT_LINK, [id]);\n            linkList = store.state.map.selectedMATSimLink;\n            this.disruptionSelected = false;\n          }\n        });\n\n        //console.log(\"features:%s\\n\", JSON.stringify(features));\n        filter = features.reduce(\n          function(memo, feature) {\n            if (!linksIsDisrupted) {\n              linkList.forEach(link => {\n                memo.push(link);\n              });\n            } else {\n              selectedDisruptionLinks.forEach(link => {\n                memo.push(link);\n              });\n            }\n            return memo;\n          },\n          [\"in\", \"ID\"]\n        );\n\n        new mapboxgl.Popup()\n          .setLngLat(coordinates)\n          .setHTML(popupText)\n          .addTo(this.mapInstance);\n\n        // this is displayed as the current link id in the menu\n        store.commit(MATSIM_SELECT_LINK, linkList);\n      } else {\n        filter = [\"in\", \"ID\", \"\"];\n        store.commit(MATSIM_DESELECT_LINK, linkList);\n      }\n\n      var disruptedFilter = [\"in\", \"ID\", \"\"];\n      var highlightFilter = [\"in\", \"ID\", \"\"];\n      linksIsDisrupted\n        ? (disruptedFilter = filter)\n        : (highlightFilter = filter);\n\n      this.mapInstance.setFilter(\n        this.selectedDisruptionMATSimLayer,\n        disruptedFilter\n      );\n      this.mapInstance.setFilter(this.highlightMATSimLayer, highlightFilter);\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"css\">\n#map {\n  position: relative;\n  text-align: left;\n  top: 0;\n  bottom: 0;\n  height: 100%;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=30161512&scoped=true&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=30161512&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30161512\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.visibleStep || _vm.visibleStep === 0)?_c('div',{staticClass:\"time-slider-overlay\"},[_c('div',{staticClass:\"time-slider-overlay-inner\"},[_c('vue-slider',_vm._b({ref:\"fireslider\",attrs:{\"marks\":_vm.hasLabel,\"tooltip\":'always',\"tooltip-formatter\":_vm.stepToTime,\"use-keyboard\":true},scopedSlots:_vm._u([{key:\"label\",fn:function(ref){\nvar active = ref.active;\nvar value = ref.value;\nreturn [_c('div',{class:['vue-slider-mark-label', 'custom-label', { active: active }]},[_vm._v(\"\\n          \"+_vm._s(_vm.stepToTime(value))+\"\\n        \")])]}}],null,false,3544431226),model:{value:(_vm.timeStep),callback:function ($$v) {_vm.timeStep=$$v},expression:\"timeStep\"}},'vue-slider',_vm.sliderConfig,false))],1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"visibleStep || visibleStep === 0\" class=\"time-slider-overlay\">\n    <div class=\"time-slider-overlay-inner\">\n      <vue-slider\n        ref=\"fireslider\"\n        v-bind=\"sliderConfig\"\n        v-model=\"timeStep\"\n        :marks=\"hasLabel\"\n        :tooltip=\"'always'\"\n        :tooltip-formatter=\"stepToTime\"\n        :use-keyboard=\"true\"\n      >\n        <template v-slot:label=\"{ active, value }\">\n          <div :class=\"['vue-slider-mark-label', 'custom-label', { active }]\">\n            {{ stepToTime(value) }}\n          </div>\n        </template>\n      </vue-slider>\n    </div>\n  </div>\n</template>\n\n<script>\nimport VueSlider from \"vue-slider-component\";\nimport \"vue-slider-component/theme/default.css\";\nimport { mapState } from \"vuex\";\n\nexport default {\n  name: \"mapSlider\",\n  components: { VueSlider },\n  props: {},\n  data: function() {\n    var ls = []; // label step size\n    ls[\"sm\"] = 6 * 6;\n    ls[\"md\"] = 6 * 4;\n    ls[\"lg\"] = 6;\n    return {\n      labelStep: ls\n    };\n  },\n  computed: {\n    ...mapState({\n      fireStepMinutes: state => state.fire.stepMinutes,\n      visibleStep: state => state.fire.visibleStep,\n      fireSliderTicks: state => state.fire.fireSliderTicks\n    }),\n    sliderConfig() {\n      return {\n        width: \"98%\",\n        value: this.visibleStep ? this.visibleStep : 0,\n        min: 0,\n        max: this.maxSteps\n      };\n    },\n    timeStep: {\n      get() {\n        return this.visibleStep;\n      },\n      set(val) {\n        this.$store.dispatch(\"filter\", val);\n      }\n    },\n    maxSteps() {\n      return (24 * 60) / this.fireStepMinutes;\n    }\n  },\n  methods: {\n    hasLabel(timeStep) {\n      var interval = this.labelStep[this.$mq];\n      var notTooClose = timeStep < this.maxSteps - interval + 1;\n      return (\n        (timeStep % interval === 0 && notTooClose) ||\n        timeStep === this.maxSteps - 1\n      );\n    },\n    stepToTime(timeStep) {\n      return (\n        Math.floor((timeStep * 10) / 60).toString() +\n        \":\" +\n        ((timeStep * 10) % 60).toString().padStart(2, \"0\")\n      );\n    }\n  }\n};\n</script>\n\n<style>\n.time-slider-overlay {\n  position: absolute;\n  width: 88%;\n  bottom: 2.5%;\n  right: 0;\n  height: auto;\n  overflow: visible;\n  padding: 0 0 0 0;\n  margin: 0 0 0 0;\n  z-index: 100;\n}\n\n.time-slider-overlay .time-slider-overlay-inner {\n  background-color: rgba(255, 255, 255, 0.8);\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n  border-radius: 3px;\n  padding: 0 1em 1.5em 2em;\n  margin-bottom: 10px;\n  overflow: visible;\n}\n.vue-slider-process {\n  background-color: rgb(16, 102, 253);\n}\n.vue-slider-dot-tooltip-inner {\n  background-color: rgb(16, 102, 253);\n}\n.vue-slider-dot-tooltip-inner:after {\n  border-top-color: rgb(16, 102, 253);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapTimeSlider.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapTimeSlider.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapTimeSlider.vue?vue&type=template&id=7b61b1c9&\"\nimport script from \"./MapTimeSlider.vue?vue&type=script&lang=js&\"\nexport * from \"./MapTimeSlider.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapTimeSlider.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.popSelected != null)?_c('div',{staticClass:\"legend-overlay\"},[_c('div',{staticClass:\"legend-overlay-inner\"},[_c('table',{attrs:{\"id\":\"pop-legend\",\"cellspacing\":\"3px\"}},_vm._l((_vm.activityColors),function(color,id){return _c('tr',{key:id},[_c('td',{style:({ backgroundColor: color })},[_vm._v(\" \")]),_c('td',{staticClass:\"p-2\"},[_vm._v(_vm._s(id))])])}),0)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"popSelected != null\" class=\"legend-overlay\">\n    <div class=\"legend-overlay-inner\">\n      <table id=\"pop-legend\" cellspacing=\"3px\">\n        <tr v-for=\"(color, id) in activityColors\" :key=\"id\">\n          <td :style=\"{ backgroundColor: color }\">&nbsp;</td>\n          <td class=\"p-2\">{{ id }}</td>\n        </tr>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from \"vuex\";\n\nexport default {\n  name: \"mapPopLegend\",\n  props: {},\n  data: function() {\n    return {};\n  },\n  computed: {\n    ...mapState({\n      activityColors: state => state.population.activityColors\n    }),\n    ...mapGetters({\n      popSelected: \"population/selected\"\n    })\n  },\n  methods: {}\n};\n</script>\n\n<style>\n.legend-overlay {\n  position: absolute;\n  width: 6%;\n  bottom: 200px;\n  right: 0;\n  height: auto;\n  overflow: visible;\n  padding: 0 0 0 0;\n  margin: 0 0 0 0;\n  z-index: 100;\n}\n\n.legend-overlay .legend-overlay-inner {\n  background-color: rgba(255, 255, 255, 0.8);\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n  padding: 0;\n  overflow: visible;\n}\n.legend-overlay-inner table td {\n  text-transform: capitalize;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapPopulationLegend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapPopulationLegend.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapPopulationLegend.vue?vue&type=template&id=c546da14&\"\nimport script from \"./MapPopulationLegend.vue?vue&type=script&lang=js&\"\nexport * from \"./MapPopulationLegend.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapPopulationLegend.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-settings-container\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOpen),expression:\"isOpen\"}],staticClass:\"map-overlay\"},[_c('div',{staticClass:\"map-population-panel\"},[_c('label',{attrs:{\"for\":\"map-population\"}},[_vm._v(\"Population inside square:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.squarePopulation),expression:\"squarePopulation\"}],attrs:{\"id\":\"map-population\",\"type\":\"text\"},domProps:{\"value\":(_vm.squarePopulation)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.squarePopulation=$event.target.value}}}),_c('button',{staticClass:\"icon\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.toggle()}}},[_vm._v(\"Save\")])])]),_c('div',{attrs:{\"id\":\"map-link-panel\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"map-settings-container\">\n    <div class=\"map-overlay\" v-show=\"isOpen\">\n      <div class=\"map-population-panel\">\n        <label for=\"map-population\">Population inside square:</label>\n        <input id=\"map-population\" type=\"text\" v-model=\"squarePopulation\" />\n        <button class=\"icon\" type=\"button\" @click=\"toggle()\">Save</button>\n      </div>\n    </div>\n    <div id=\"map-link-panel\"></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"mapSquarePopulation\",\n  props: {\n    squarePopulation: {\n      default: 0,\n      type: Number\n    }\n  },\n  computed: {\n    isOpen: {\n      get() {\n        return this.$store.state.map.squarePopulationIsOpen;\n      },\n      set(value) {\n        this.$store.commit(\"setSquarePopulationIsOpen\", value);\n      }\n    }\n  },\n  methods: {\n    toggle: function() {\n      this.$store.commit(\n        \"setSquarePopulationIsOpen\",\n        !this.$store.state.map.squarePopulationIsOpen\n      );\n    }\n  }\n};\n</script>\n\n<style>\n.map-settings-panel select {\n  text-align: center;\n}\n\n.map-settings-button-container {\n  padding-top: 150px;\n}\n\n.map-settings-panel {\n}\n\n.map-overlay {\n  font: bold 12px/20px \"Helvetica Neue\", Arial, Helvetica, sans-serif;\n  position: absolute;\n  width: 40%;\n  top: 10%;\n  right: 30%;\n  height: auto;\n  overflow: auto;\n  background-color: rgba(255, 255, 255, 0.7);\n  padding: 0 0 20px 0;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n  border-radius: 5px;\n  z-index: 100;\n}\n\n.map-overlay label {\n  display: block;\n  margin: 10px 0 0 0;\n}\n\n.map-overlay input {\n  display: inline-block;\n  width: 100%;\n  position: relative;\n  margin: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapSquarePopulation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapSquarePopulation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapSquarePopulation.vue?vue&type=template&id=0905d788&\"\nimport script from \"./MapSquarePopulation.vue?vue&type=script&lang=js&\"\nexport * from \"./MapSquarePopulation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapSquarePopulation.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isLoading !== 0)?_c('div',{staticClass:\"load-spinner-overlay\"},[_vm._m(0)]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"load-spinner-overlay-inner\"},[_c('span',{staticClass:\"loading\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"isLoading !== 0\" class=\"load-spinner-overlay\">\n    <div class=\"load-spinner-overlay-inner\">\n      <span class=\"loading\"></span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\n\nexport default {\n  name: \"mapSpinner\",\n  props: {},\n  computed: {\n    ...mapState({\n      isLoading: state => state.map.isLoading\n    })\n  }\n};\n</script>\n\n<style>\n.load-spinner-overlay {\n  position: absolute;\n  bottom: 100px;\n  right: 30px;\n  height: auto;\n  overflow: visible;\n  padding: 0 0 0 0;\n  margin: 0 0 0 0;\n  z-index: 100;\n}\n\n.load-spinner-overlay .load-spinner-overlay-inner {\n  margin-bottom: 10px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLoadSpinner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLoadSpinner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapLoadSpinner.vue?vue&type=template&id=1282546e&\"\nimport script from \"./MapLoadSpinner.vue?vue&type=script&lang=js&\"\nexport * from \"./MapLoadSpinner.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapLoadSpinner.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n    this.$store.state.map.mapInstance != null &&\n      (this.$store.state.config.data != null || this.error != null) &&\n      this.$store.state.map.mapSettingsIsOpen\n  ),expression:\"\\n    this.$store.state.map.mapInstance != null &&\\n      (this.$store.state.config.data != null || this.error != null) &&\\n      this.$store.state.map.mapSettingsIsOpen\\n  \"}],staticClass:\"p-0 h-100 mapboxgl-ctrl-top-left map-sidebar-container\",attrs:{\"fluid\":\"\"}},[_c('b-row',{staticClass:\"h-100\",attrs:{\"no-gutters\":\"\"}},[_c('b-col',{staticClass:\"h-100 m-0 pt-2 mapboxgl-ctrl map-sidebar-col\",attrs:{\"sm\":\"5\"}},[_c('div',{attrs:{\"id\":\"h-100 nav\"}},[_c('h5',[_vm._v(\"Emergency Evacuation Simulator\")]),_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Home\")]),_vm._v(\" |\\n        \"),_c('router-link',{attrs:{\"to\":\"/about\"}},[_vm._v(\"About\")])],1),_c('b-collapse',{staticClass:\"h-100\",attrs:{\"visible\":\"\",\"id\":\"collapse-side-panel\"}},[_c('div',{staticClass:\"h-100 map-accordion-container\"},[(this.error != null)?_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"danger\"},domProps:{\"innerHTML\":_vm._s(this.error)}}):_vm._e(),_c('b-card',{staticClass:\"mb-1 p-0\",attrs:{\"header\":\"Scenario\"}},[_c('b-form-group',{attrs:{\"label-cols-sm\":\"12\",\"label-cols-lg\":\"4\",\"label\":\"Region\",\"label-for\":\"map-region\"}},[_c('b-form-select',{attrs:{\"id\":\"map-region\"},model:{value:(_vm.selectedRegion),callback:function ($$v) {_vm.selectedRegion=$$v},expression:\"selectedRegion\"}},[_c('option',{attrs:{\"value\":\"any-region\"}},[_vm._v(\"(any)\")]),_vm._l((_vm.regions),function(r,id){return _c('option',{key:id,attrs:{\"disabled\":_vm.selectedRegion == id},domProps:{\"value\":id}},[_vm._v(_vm._s(r.name))])})],2)],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"12\",\"label-cols-lg\":\"4\",\"label\":\"Population\",\"label-for\":\"map-population\",\"description\":_vm.popDesc}},[_c('b-form-select',{attrs:{\"id\":\"map-population\"},model:{value:(_vm.selectedPopulation),callback:function ($$v) {_vm.selectedPopulation=$$v},expression:\"selectedPopulation\"}},[_c('option',{attrs:{\"value\":\"no-population\"}},[_vm._v(\"None\")]),_vm._l((_vm.popInSelectedRegion),function(p,id){return _c('option',{key:id,attrs:{\"disabled\":_vm.selectedPopulation == id},domProps:{\"value\":id}},[_vm._v(_vm._s(p.display_name))])})],2)],1)],1),_c('b-card',{staticClass:\"mb-1\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h6',{staticClass:\"mb-0\"},[_vm._v(\"\\n                Emergency Incident\\n                \"),_c('span',{staticClass:\"helper-icons\"},[_c('FontAwesomeIcon',{directives:[{name:\"b-popover\",rawName:\"v-b-popover.hover\",value:(_vm.helperOptions[0].text),expression:\"helperOptions[0].text\",modifiers:{\"hover\":true}}],attrs:{\"icon\":\"info-circle\"}})],1)])]},proxy:true}])},[_c('b-collapse',{attrs:{\"visible\":\"\",\"id\":\"collapse-incident\"}},[_c('b-form',{attrs:{\"inline\":\"\"}},[_c('b-form-select',{attrs:{\"id\":\"map-fire\"},model:{value:(_vm.selectedFire),callback:function ($$v) {_vm.selectedFire=$$v},expression:\"selectedFire\"}},[_c('option',{attrs:{\"value\":\"no-fire\",\"disabled\":\"\"}}),_vm._l((_vm.firesInSelectedRegion),function(f,id){return _c('option',{key:id,attrs:{\"disabled\":_vm.selectedFire == id},domProps:{\"value\":id}},[_vm._v(_vm._s(f.display_name))])})],2),_c('b-form-checkbox',{staticClass:\"ml-2 form-check-input\",attrs:{\"disabled\":this.$store.state.fire.selectedFire == null},model:{value:(_vm.showSmoke),callback:function ($$v) {_vm.showSmoke=$$v},expression:\"showSmoke\"}},[_vm._v(\"Display Embers\\n                \")])],1),_c('div',{staticClass:\"p-2\"},[_vm._v(_vm._s(_vm.eventDesc))])],1)],1),_c('MapTrafficBehaviourCard',{attrs:{\"helpText\":_vm.helperOptions[3].text,\"trafficSpeed\":100}}),_c('b-card',{staticClass:\"mb-1\",attrs:{\"header\":\"UI Settings\"}},[_c('b-collapse',{attrs:{\"visible\":\"\",\"id\":\"collapse-map-style\"}},[_c('b-form',[_c('b-form-group',{attrs:{\"label-cols-sm\":\"12\",\"label-cols-lg\":\"8\",\"label\":\"Map Style\",\"label-for\":\"map-style\"}},[_c('b-form-select',{attrs:{\"id\":\"map-style\"},model:{value:(_vm.mapboxStyle),callback:function ($$v) {_vm.mapboxStyle=$$v},expression:\"mapboxStyle\"}},_vm._l((_vm.styles),function(style){return _c('option',{key:style.id,attrs:{\"disabled\":_vm.mapboxStyle.id == style.id},domProps:{\"value\":style.id}},[_vm._v(_vm._s(style.name))])}),0)],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"12\",\"label-cols-lg\":\"8\",\"label\":\"Fire Opacity\",\"label-for\":\"fire_opacity\"}},[_c('b-form-input',{attrs:{\"id\":\"fire_opacity\",\"type\":\"number\",\"value\":\"0.7\",\"step\":\"0.1\",\"min\":\"0\",\"max\":\"1\",\"disabled\":this.$store.state.fire.selectedFire == null},model:{value:(_vm.fireOpacity),callback:function ($$v) {_vm.fireOpacity=$$v},expression:\"fireOpacity\"}})],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"12\",\"label-cols-lg\":\"8\",\"label\":\"Smoke Opacity\",\"label-for\":\"smoke_opacity\"}},[_c('b-form-input',{attrs:{\"id\":\"smoke_opacity\",\"type\":\"number\",\"value\":\"0.5\",\"step\":\"0.1\",\"min\":\"0\",\"max\":\"1\",\"disabled\":this.$store.state.fire.selectedFire == null},model:{value:(_vm.smokeOpacity),callback:function ($$v) {_vm.smokeOpacity=$$v},expression:\"smokeOpacity\"}})],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"12\",\"label-cols-lg\":\"8\",\"label\":\"Population Opacity\",\"label-for\":\"population_opacity\"}},[_c('b-form-input',{attrs:{\"id\":\"population_opacity\",\"type\":\"number\",\"value\":\"0.5\",\"step\":\"0.1\",\"min\":\"0\",\"max\":\"1\"},model:{value:(_vm.popOpacity),callback:function ($$v) {_vm.popOpacity=$$v},expression:\"popOpacity\"}})],1)],1)],1)],1),_c('br'),_c('br'),_c('br')],1)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-link-panel\"},[_c('b-form-group',{attrs:{\"label\":\"MATSim Link ID:\",\"label-for\":\"map-link\"}},[_c('b-form-input',{attrs:{\"id\":\"map-link\",\"type\":\"text\",\"placeholder\":\"Please select a MATSim Network Link from the map\",\"readonly\":\"\"},model:{value:(_vm.linkId),callback:function ($$v) {_vm.linkId=$$v},expression:\"linkId\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Disruption Start Time:\",\"label-for\":\"map-link-start\"}},[_c('b-form-input',{attrs:{\"id\":\"map-link-start\",\"type\":\"text\"},model:{value:(_vm.linkStart),callback:function ($$v) {_vm.linkStart=$$v},expression:\"linkStart\"}})],1),_c('button',{staticClass:\"icon\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.toggle()}}},[_vm._v(\"Save\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"map-link-panel\">\n    <b-form-group label=\"MATSim Link ID:\" label-for=\"map-link\">\n      <b-form-input\n        id=\"map-link\"\n        type=\"text\"\n        v-model=\"linkId\"\n        placeholder=\"Please select a MATSim Network Link from the map\"\n        readonly\n      >\n      </b-form-input>\n    </b-form-group>\n    <b-form-group label=\"Disruption Start Time:\" label-for=\"map-link-start\">\n      <b-form-input id=\"map-link-start\" type=\"text\" v-model=\"linkStart\">\n      </b-form-input>\n    </b-form-group>\n    <button class=\"icon\" type=\"button\" @click=\"toggle()\">Save</button>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"mapAffectedLink\",\n  props: {\n    linkId: {\n      default: \"\",\n      type: String\n    },\n    linkStart: {\n      default: \"00:00\",\n      type: String\n    }\n  },\n  computed: {\n    isOpen: {\n      get() {\n        return this.$store.state.map.affectedLinkIsOpen;\n      },\n      set(value) {\n        this.$store.commit(\"setAffectedLinkIsOpen\", value);\n      }\n    }\n  },\n  methods: {\n    toggle: function() {\n      this.$store.commit(\n        \"setAffectedLinkIsOpen\",\n        !this.$store.state.map.affectedLinkIsOpen\n      );\n    }\n  }\n};\n</script>\n\n<style>\n.map-overlay {\n  font: bold 12px/20px \"Helvetica Neue\", Arial, Helvetica, sans-serif;\n  position: absolute;\n  width: 40%;\n  top: 10%;\n  right: 30%;\n  height: auto;\n  overflow: auto;\n  background-color: rgba(255, 255, 255, 0.7);\n  padding: 0 0 20px 0;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n  border-radius: 5px;\n  z-index: 100;\n}\n\n.map-overlay label {\n  display: block;\n  margin: 10px 0 0 0;\n}\n\n.map-overlay input {\n  display: inline-block;\n  width: 100%;\n  position: relative;\n  margin: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapAffectedLink.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapAffectedLink.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapAffectedLink.vue?vue&type=template&id=7b5a6668&\"\nimport script from \"./MapAffectedLink.vue?vue&type=script&lang=js&\"\nexport * from \"./MapAffectedLink.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapAffectedLink.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',{staticClass:\"mb-1\",attrs:{\"header\":\"Traffic Behaviour Setup\"}},[_c('b-collapse',{attrs:{\"visible\":\"\",\"id\":\"collapse-traffic\"}},[_c('label',[_vm._v(\"\\n      Maximum speed on roads (as % of speed limits)\\n      \"),_c('span',{staticClass:\"helper-icons\"},[_c('FontAwesomeIcon',{directives:[{name:\"b-popover\",rawName:\"v-b-popover.hover\",value:(_vm.helpText),expression:\"helpText\",modifiers:{\"hover\":true}}],attrs:{\"icon\":\"info-circle\"}})],1)]),_c('div',{staticClass:\"traffic-slider\"},[_c('vue-slider',_vm._b({ref:\"trafficslider\",attrs:{\"interval\":10,\"tooltip\":'always',\"tooltip-formatter\":_vm.valueToPercent,\"marks\":_vm.valueToMark,\"drag-on-click\":true},model:{value:(_vm.trafficSpeed),callback:function ($$v) {_vm.trafficSpeed=$$v},expression:\"trafficSpeed\"}},'vue-slider',_vm.sliderConfig,false))],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-card class=\"mb-1\" header=\"Traffic Behaviour Setup\">\n    <b-collapse visible id=\"collapse-traffic\">\n      <label>\n        Maximum speed on roads (as % of speed limits)\n        <span class=\"helper-icons\">\n          <FontAwesomeIcon icon=\"info-circle\" v-b-popover.hover=\"helpText\" />\n        </span>\n      </label>\n      <div class=\"traffic-slider\">\n        <vue-slider\n          ref=\"trafficslider\"\n          v-bind=\"sliderConfig\"\n          v-model=\"trafficSpeed\"\n          :interval=\"10\"\n          :tooltip=\"'always'\"\n          :tooltip-formatter=\"valueToPercent\"\n          :marks=\"valueToMark\"\n          :drag-on-click=\"true\"\n        >\n        </vue-slider>\n      </div>\n    </b-collapse>\n  </b-card>\n</template>\n\n<script>\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faInfoCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\n\nimport VueSlider from \"vue-slider-component\";\nimport \"vue-slider-component/theme/default.css\";\n\nlibrary.add(faInfoCircle);\n\nexport default {\n  name: \"mapTrafficCard\",\n  components: { VueSlider, FontAwesomeIcon },\n  props: [\"trafficSpeed\", \"helpText\"],\n  data: function() {\n    return {\n      sliderConfig: {\n        min: 0,\n        max: 100,\n        dotStyle: {\n          display: \"none\"\n        }\n      },\n      valueToPercent: val => {\n        return `${val}%`;\n      },\n      valueToMark: val => ({\n        label: val % 100 === 0 ? this.valueToPercent(val) : \"\"\n      })\n    };\n  }\n};\n</script>\n\n<style>\n.traffic-slider {\n  padding: 1.5em 0.5em 0.5em 0.5em;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapTrafficBehaviourCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapTrafficBehaviourCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapTrafficBehaviourCard.vue?vue&type=template&id=7af1c173&\"\nimport script from \"./MapTrafficBehaviourCard.vue?vue&type=script&lang=js&\"\nexport * from \"./MapTrafficBehaviourCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapTrafficBehaviourCard.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <b-container\n    v-show=\"\n      this.$store.state.map.mapInstance != null &&\n        (this.$store.state.config.data != null || this.error != null) &&\n        this.$store.state.map.mapSettingsIsOpen\n    \"\n    fluid\n    class=\"p-0 h-100 mapboxgl-ctrl-top-left map-sidebar-container\"\n  >\n    <b-row no-gutters class=\"h-100\">\n      <b-col sm=\"5\" class=\"h-100 m-0 pt-2 mapboxgl-ctrl map-sidebar-col\">\n        <div id=\"h-100 nav\">\n          <h5>Emergency Evacuation Simulator</h5>\n          <router-link to=\"/\">Home</router-link> |\n          <router-link to=\"/about\">About</router-link>\n        </div>\n        <b-collapse visible id=\"collapse-side-panel\" class=\"h-100\">\n          <div class=\"h-100 map-accordion-container\">\n            <b-alert\n              show\n              v-if=\"this.error != null\"\n              variant=\"danger\"\n              v-html=\"this.error\"\n            ></b-alert>\n            <b-card header=\"Scenario\" class=\"mb-1 p-0\">\n              <b-form-group\n                label-cols-sm=\"12\"\n                label-cols-lg=\"4\"\n                label=\"Region\"\n                label-for=\"map-region\"\n              >\n                <b-form-select id=\"map-region\" v-model=\"selectedRegion\">\n                  <option value=\"any-region\">(any)</option>\n                  <option\n                    v-for=\"(r, id) in regions\"\n                    :key=\"id\"\n                    :value=\"id\"\n                    :disabled=\"selectedRegion == id\"\n                    >{{ r.name }}</option\n                  >\n                </b-form-select>\n              </b-form-group>\n              <b-form-group\n                label-cols-sm=\"12\"\n                label-cols-lg=\"4\"\n                label=\"Population\"\n                label-for=\"map-population\"\n                :description=\"popDesc\"\n              >\n                <b-form-select id=\"map-population\" v-model=\"selectedPopulation\">\n                  <option value=\"no-population\">None</option>\n                  <option\n                    v-for=\"(p, id) in popInSelectedRegion\"\n                    :key=\"id\"\n                    :value=\"id\"\n                    :disabled=\"selectedPopulation == id\"\n                    >{{ p.display_name }}</option\n                  >\n                </b-form-select>\n              </b-form-group>\n            </b-card>\n            <b-card class=\"mb-1\">\n              <template v-slot:header>\n                <h6 class=\"mb-0\">\n                  Emergency Incident\n                  <span class=\"helper-icons\">\n                    <FontAwesomeIcon\n                      icon=\"info-circle\"\n                      v-b-popover.hover=\"helperOptions[0].text\"\n                    />\n                  </span>\n                </h6>\n              </template>\n              <b-collapse visible id=\"collapse-incident\">\n                <b-form inline>\n                  <b-form-select id=\"map-fire\" v-model=\"selectedFire\">\n                    <option value=\"no-fire\" disabled></option>\n                    <option\n                      v-for=\"(f, id) in firesInSelectedRegion\"\n                      :key=\"id\"\n                      :value=\"id\"\n                      :disabled=\"selectedFire == id\"\n                      >{{ f.display_name }}</option\n                    >\n                  </b-form-select>\n                  <b-form-checkbox\n                    class=\"ml-2 form-check-input\"\n                    v-model=\"showSmoke\"\n                    :disabled=\"this.$store.state.fire.selectedFire == null\"\n                    >Display Embers\n                  </b-form-checkbox>\n                </b-form>\n                <div class=\"p-2\">{{ eventDesc }}</div>\n              </b-collapse>\n            </b-card>\n            <!--<b-card no-body class=\"mb-1\">\n              <b-card-header v-b-toggle.collapse-dest>\n                Destinations and safe lines\n                <span class=\"helper-icons\">\n                  <font-awesome-icon\n                    icon=\"info-circle\"\n                    v-b-popover.hover=\"helperOptions[2].text\"\n                  />\n                </span>\n              </b-card-header>\n              <b-collapse visible id=\"collapse-dest\">\n                <b-row>\n                  <b-col md=\"6\" sm=\"6\" xs=\"6\">\n                    <b-form-select\n                      v-model=\"dest_selected\"\n                      :options=\"dest_options\"\n                      disabled\n                    >\n                    </b-form-select>\n                  </b-col>\n                  <b-col md=\"5\" sm=\"5\" xs=\"5\">\n                    <b-button disabled size=\"sm\" variant=\"success\">\n                      <font-awesome-icon icon=\"plus-circle\" />\n                      Draw safe line\n                    </b-button>\n                  </b-col>\n                </b-row>\n              </b-collapse>\n            </b-card>-->\n            <MapTrafficBehaviourCard\n              :helpText=\"helperOptions[3].text\"\n              :trafficSpeed=\"100\"\n            />\n            <b-card class=\"mb-1\" header=\"UI Settings\">\n              <b-collapse visible id=\"collapse-map-style\">\n                <b-form>\n                  <b-form-group\n                    label-cols-sm=\"12\"\n                    label-cols-lg=\"8\"\n                    label=\"Map Style\"\n                    label-for=\"map-style\"\n                  >\n                    <b-form-select id=\"map-style\" v-model=\"mapboxStyle\">\n                      <option\n                        v-for=\"style in styles\"\n                        :key=\"style.id\"\n                        :value=\"style.id\"\n                        :disabled=\"mapboxStyle.id == style.id\"\n                        >{{ style.name }}</option\n                      >\n                    </b-form-select>\n                  </b-form-group>\n                  <b-form-group\n                    label-cols-sm=\"12\"\n                    label-cols-lg=\"8\"\n                    label=\"Fire Opacity\"\n                    label-for=\"fire_opacity\"\n                  >\n                    <b-form-input\n                      id=\"fire_opacity\"\n                      type=\"number\"\n                      value=\"0.7\"\n                      step=\"0.1\"\n                      min=\"0\"\n                      max=\"1\"\n                      v-model=\"fireOpacity\"\n                      :disabled=\"this.$store.state.fire.selectedFire == null\"\n                    />\n                  </b-form-group>\n                  <b-form-group\n                    label-cols-sm=\"12\"\n                    label-cols-lg=\"8\"\n                    label=\"Smoke Opacity\"\n                    label-for=\"smoke_opacity\"\n                  >\n                    <b-form-input\n                      id=\"smoke_opacity\"\n                      type=\"number\"\n                      value=\"0.5\"\n                      step=\"0.1\"\n                      min=\"0\"\n                      max=\"1\"\n                      v-model=\"smokeOpacity\"\n                      :disabled=\"this.$store.state.fire.selectedFire == null\"\n                    />\n                  </b-form-group>\n                  <b-form-group\n                    label-cols-sm=\"12\"\n                    label-cols-lg=\"8\"\n                    label=\"Population Opacity\"\n                    label-for=\"population_opacity\"\n                  >\n                    <b-form-input\n                      id=\"population_opacity\"\n                      type=\"number\"\n                      value=\"0.5\"\n                      step=\"0.1\"\n                      min=\"0\"\n                      max=\"1\"\n                      v-model=\"popOpacity\"\n                    />\n                  </b-form-group>\n                </b-form>\n              </b-collapse>\n            </b-card>\n            <br />\n            <br />\n            <br />\n          </div>\n        </b-collapse>\n      </b-col>\n    </b-row>\n  </b-container>\n</template>\n\n<script>\nimport { mapState, mapGetters, mapActions } from \"vuex\";\nimport MapAffectedLink from \"@/components/MapAffectedLink.vue\";\nimport MapTrafficBehaviourCard from \"@/components/MapTrafficBehaviourCard.vue\";\nimport Vue from \"vue\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faMapMarker,\n  faInfoCircle,\n  faPlusCircle\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\n\nlibrary.add(faMapMarker, faInfoCircle, faPlusCircle);\nVue.config.productionTip = false;\n\nexport default {\n  name: \"mapSetup\",\n  props: {},\n  data: function() {\n    return {\n      isHidden: false,\n      styles: this.$store.state.config.styles,\n      populations: this.$store.state.config.populations,\n      modalShow: false,\n      //incident_selected: [\"fire\"], // Must be an array reference!\n      global: [{ text: \"startHHMM\", value: \"00:00\" }],\n      phoenix: [\n        { text: \"ignitionHHMM\", value: \"00:00\" },\n        {\n          text: \"fireGeoJson\",\n          value: \"scenarios/surf-coast-shire/test-files/scenario_fire.json\"\n        },\n        { text: \"smokeGeoJson\", value: \"\" }\n      ],\n      matsim: [\n        {\n          text: \"outputDir\",\n          value:\n            \"test/output/io/github/agentsoz/ees//TypicalSummerWeekday50kTest/testTypicalSummerWeekday50k/matsim\"\n        },\n        {\n          text: \"configXml\",\n          value:\n            \"scenarios/surf-coast-shire/test-files/scenario_matsim_main.xml\"\n        },\n        { text: \"maxDistanceForFireVisual\", value: \"1000\" },\n        { text: \"maxDistanceForSmokeVisual\", value: \"5000\" },\n        { text: \"fireAvoidanceBufferForVehicles\", value: \"5000\" },\n        { text: \"fireAvoidanceBufferForEmergencyVehicles\", value: \"1000\" },\n        { text: \"congestionEvaluationInterval\", value: \"180\" },\n        { text: \"congestionToleranceThreshold\", value: \"0.33\" },\n        { text: \"congestionReactionProbability\", value: \"0.0\" }\n      ],\n      trafficBehaviour: [\n        { text: \"proportion\", value: \"0.0\" },\n        { text: \"radiusInMtrs\", value: \"0\" }\n      ],\n      dest_selected: null,\n      dest_options: [{ value: null, text: \"Please select an option\" }],\n      helperOptions: [\n        {\n          value: 0,\n          text:\n            \"If the location chosen has fire models, choose which one to use. Select whether to show visually on map.\\nEvacuation can proceed without fire model, in which case No incident should be selected. If a fire model is selected, key attributes are displayed.\"\n        },\n        {\n          value: 1,\n          text:\n            \"Evac start is the time at which evacuation starts (announcement is made).\\nIf there is a fire model, this should be some time after fire ignition attribute of chosen fire.\\nEvac peak is the length of time after the start, at which the largest number of people are starting to leave.\\nEvacuations are dispersed around the peak point.\"\n        },\n        {\n          value: 2,\n          text:\n            \"Potential destinations are indicated in location file. These provide direction of evacuation. If multiple destinations are given, evacuation is split between these (currently an equal split - future work will allow user specification).\\nThe safe line is a line beyond which evacuees can be considered out of danger. Safe lines should be sufficiently long to cut all possible roads that could be used to a given destination. Only one safe line is allowed per destination. To draw line, click start point, release, click end point.\"\n        },\n        {\n          value: 3,\n          text:\n            \"The simulator will modify speeds based on congestion. However in a bushfire additional factors (e.g. smoke) may affect possible speed. This allows that to be specified as a % of the normal speed. The setting will affect all roads in the network, not only those near the fire.\"\n        }\n      ]\n    };\n  },\n  computed: {\n    ...mapState({\n      populationSquares: state => state.map.populationSquares,\n      selectedMATSimLink: state => state.map.selectedMATSimLink,\n      visibleStep: state => state.fire.visibleStep,\n      error: state => state.config.error\n    }),\n    ...mapGetters([\n      \"mapInstance\",\n      \"regions\",\n      \"selectedStyle\",\n      \"selectedRegion\",\n      \"popInSelectedRegion\"\n    ]),\n    ...mapGetters({\n      popDesc: \"population/description\",\n      eventDesc: \"fire/description\"\n    }),\n    firesInSelectedRegion() {\n      return !this.$store.getters.firesInSelectedRegion\n        ? []\n        : this.$store.getters.firesInSelectedRegion;\n    },\n    mapboxStyle: {\n      get() {\n        return this.$store.state.map.mapboxStyle;\n      },\n      set(value) {\n        this.changeMapboxStyle(value);\n        // loadLayersOnStyleChange triggers 'loadLayers' once mapbox is done\n      }\n    },\n    selectedRegion: {\n      get() {\n        return !this.$store.state.map.selectedRegion\n          ? \"no-region\"\n          : this.$store.state.map.selectedRegion;\n      },\n      set(value) {\n        // set the selected region in state\n        this.selectRegion(value);\n      }\n    },\n    selectedPopulation: {\n      get() {\n        return !this.$store.state.population.selected\n          ? \"no-population\"\n          : this.$store.state.population.selected;\n      },\n      set(value) {\n        this[\"population/select\"](value);\n      }\n    },\n    selectedFire: {\n      get() {\n        return !this.$store.state.fire.selectedFire\n          ? \"no-fire\"\n          : this.$store.state.fire.selectedFire;\n      },\n      set(value) {\n        this[\"fire/select\"](value);\n      }\n    },\n    selectedIncident: {\n      get() {\n        return [\"fire\"];\n      }\n    },\n    showSmoke: {\n      get() {\n        return this.$store.state.smoke.smokeVisible;\n      },\n      set(value) {\n        this[\"smoke/toggle\"](value);\n      }\n    },\n    fireOpacity: {\n      get() {\n        return this.$store.state.fire.opacity;\n      },\n      set(value) {\n        var decimal = /^[-+]?[0-9]+\\.[0-9]+$/;\n        if (!value.match(decimal)) return;\n\n        this.$store.dispatch(\"fire/setOpacity\", parseFloat(value));\n      }\n    },\n    smokeOpacity: {\n      get() {\n        return this.$store.state.smoke.opacity;\n      },\n      set(value) {\n        var decimal = /^[-+]?[0-9]+\\.[0-9]+$/;\n        if (!value.match(decimal)) return;\n\n        this.$store.dispatch(\"smoke/setOpacity\", parseFloat(value));\n      }\n    },\n    popOpacity: {\n      get() {\n        return this.$store.state.population.opacity;\n      },\n      set(value) {\n        var decimal = /^[-+]?[0-9]+\\.[0-9]+$/;\n        if (!value.match(decimal)) return;\n\n        this.$store.dispatch(\"population/setOpacity\", parseFloat(value));\n      }\n    }\n  },\n\n  components: {\n    mapAffectedLink: MapAffectedLink,\n    MapTrafficBehaviourCard,\n    FontAwesomeIcon\n  },\n  methods: {\n    ...mapActions([\n      \"selectRegion\",\n      \"changeMapboxStyle\",\n      \"fire/select\",\n      \"smoke/toggle\",\n      \"population/select\"\n    ]),\n    setRegion: function(event) {\n      // set the selected region in state\n      this.selectRegion(event.target.dataset.region);\n    },\n    drawRectangle() {\n      this.$store.commit(\"drawPopulationSquare\");\n    },\n    toggle() {\n      this.isHidden = !this.isHidden;\n    },\n    changeTime(val) {\n      if (val.length == 4) {\n        if (val.charAt(2) == \":\") {\n          var temp = new Array();\n          temp = val.split(\":\");\n          if (temp[0] <= 12) {\n            if (temp[1] <= 59) {\n              this.evac_time = temp[0] + \":\" + temp[1];\n            }\n          }\n        }\n      } else {\n        this.evac_time = \"0:00\";\n      }\n    }\n  }\n};\n</script>\n\n<style>\n#nav {\n  width: 100%;\n  position: absolute;\n  left: 0;\n}\n.map-sidebar-container {\n}\n.map-sidebar-container .card-body {\n  padding: 1em;\n}\n.map-accordion-container {\n  text-align: left;\n  padding: 20px;\n}\n.map-sidebar-container .map-sidebar-col {\n  background-color: rgba(255, 255, 255, 0.8);\n  overflow-y: auto;\n}\n.helper-icons {\n  position: relative;\n  left: 5px;\n}\n.custom-select {\n  width: 50% @important;\n}\n.vue-slide-bar-component[data-v-68863e48] {\n  padding-left: 5% !important;\n  padding-right: 5% !important;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapSetup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapSetup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapSetup.vue?vue&type=template&id=4492b65f&\"\nimport script from \"./MapSetup.vue?vue&type=script&lang=js&\"\nexport * from \"./MapSetup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapSetup.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-settings-container\",on:{\"!keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.toggle()}}},[_c('div',{staticClass:\"map-settings-hamburger mapboxgl-ctrl-top-left\"},[_c('button',{staticClass:\"pt-2 pb-1 px-3 mapboxgl-ctrl mapboxgl-ctrl-group\",attrs:{\"type\":\"button\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.toggle()},\"click\":function($event){return _vm.toggle()}}},[_c('FontAwesomeIcon',{attrs:{\"icon\":\"bars\",\"size\":\"2x\"}})],1)]),_c('div',{staticClass:\"map-settings-button-container mapboxgl-ctrl-top-right\",attrs:{\"z-index\":\"10000\"}},[_c('div',{staticClass:\"mapboxgl-ctrl mapboxgl-ctrl-group\"},[_c('button',{staticClass:\"icon polygon\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.drawRectangle()}}})]),_c('div',{staticClass:\"mapboxgl-ctrl mapboxgl-ctrl-group\"},[_c('button',{class:{ 'font-weight-bold': _vm.renderFireIn3D },attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.toggleFireIn3D()}}},[_vm._v(\"\\n        3D\\n      \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n        this.$store.state.map.selectedMATSimLink != '' ||\n          this.showDisruptionWindow\n      ),expression:\"\\n        this.$store.state.map.selectedMATSimLink != '' ||\\n          this.showDisruptionWindow\\n      \"}],staticClass:\"mapboxgl-ctrl mapboxgl-ctrl-group\"},[_c('button',{staticClass:\"icon bug\",style:(this.showDisruptionWindow ? 'background-color: lightskyblue;' : ''),attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showDisruptionWindow = !_vm.showDisruptionWindow}}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showDisruptionWindow),expression:\"showDisruptionWindow\"}],staticClass:\"map-overlay\"},[(!_vm.isLinkDisrupted())?_c('div',{staticClass:\"save-simulation-panel\"},[_c('h3',[_vm._v(\"Disruption\")]),_c('label',{staticClass:\"form-label\",attrs:{\"id\":\"status1\"}},[_vm._v(\"Description\")]),_c('input',{ref:\"description\",attrs:{\"id\":\"simulation-name\",\"placeholder\":\"\",\"type\":\"text\"}}),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"}),_c('div',{staticClass:\"col\"},[_vm._v(\"\\n            Start Time\\n            \"),_c('input',{ref:\"startTime\",staticClass:\"form-control\",attrs:{\"type\":\"time\",\"value\":\"00:00:00\",\"id\":\"example-time-input\"}})]),_c('div',{staticClass:\"col\"},[_vm._v(\"\\n            End Time\\n            \"),_c('input',{ref:\"endTime\",staticClass:\"form-control\",attrs:{\"type\":\"time\",\"value\":\"00:00:00\",\"id\":\"example-time-input\"}})]),_c('div',{staticClass:\"col-4\"},[_vm._v(\"\\n            Speed\\n            \"),_c('div',{staticClass:\"input-group\"},[_c('input',{ref:\"speed\",staticClass:\"form-control\",staticStyle:{\"text-align\":\"right\"},attrs:{\"type\":\"number\",\"placeholder\":\"Speed\",\"aria-label\":\"Recipient's username\",\"aria-describedby\":\"basic-addon2\"}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{class:!_vm.absoluteSpeed ? 'btn btn-secondary' : 'btn btn-primary',attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.absoluteSpeed = true}}},[_vm._v(\"\\n                  KM/H\\n                \")]),_c('button',{class:_vm.absoluteSpeed ? 'btn btn-secondary' : 'btn btn-primary',attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.absoluteSpeed = false}}},[_vm._v(\"\\n                  %\\n                \")])])])]),_c('div',{staticClass:\"col\"})])]),_c('label',{staticClass:\"form-label\",attrs:{\"id\":\"status1\"}},[_vm._v(\"Affected Links\")]),_c('input',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"id\":\"simulation-name\",\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":this.$store.state.map.selectedMATSimLink}}),(this.$store.state.map.selectedMATSimLink != '')?_c('button',{staticClass:\"btn btn-success\",staticStyle:{\"width\":\"100% !important\"},on:{\"click\":function($event){return _vm.saveDisruption()}}},[_vm._v(\"\\n        Save\\n      \")]):_c('button',{staticClass:\"btn btn-success\",staticStyle:{\"width\":\"100% !important\"},attrs:{\"disabled\":\"\"},on:{\"click\":function($event){return _vm.saveDisruption()}}},[_vm._v(\"\\n        Save\\n      \")])]):_c('div',{staticClass:\"save-simulation-panel\"},[_c('h3',[_vm._v(\"Disruption\")]),_c('button',{staticClass:\"btn btn-danger\",staticStyle:{\"width\":\"100% !important\"},on:{\"click\":function($event){return _vm.deleteDisruption()}}},[_vm._v(\"\\n        Delete\\n      \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"map-settings-container\" v-on:keydown.esc.capture=\"toggle()\">\n    <div class=\"map-settings-hamburger mapboxgl-ctrl-top-left\">\n      <button\n        class=\"pt-2 pb-1 px-3 mapboxgl-ctrl mapboxgl-ctrl-group\"\n        type=\"button\"\n        v-on:keydown.esc=\"toggle()\"\n        @click=\"toggle()\"\n      >\n        <FontAwesomeIcon icon=\"bars\" size=\"2x\" />\n      </button>\n    </div>\n    <div\n      z-index=\"10000\"\n      class=\"map-settings-button-container mapboxgl-ctrl-top-right\"\n    >\n      <div class=\"mapboxgl-ctrl mapboxgl-ctrl-group\">\n        <button\n          class=\"icon polygon\"\n          type=\"button\"\n          @click=\"drawRectangle()\"\n        ></button>\n      </div>\n      <div class=\"mapboxgl-ctrl mapboxgl-ctrl-group\">\n        <button\n          :class=\"{ 'font-weight-bold': renderFireIn3D }\"\n          type=\"button\"\n          @click=\"toggleFireIn3D()\"\n        >\n          3D\n        </button>\n      </div>\n      <div\n        class=\"mapboxgl-ctrl mapboxgl-ctrl-group\"\n        v-show=\"\n          this.$store.state.map.selectedMATSimLink != '' ||\n            this.showDisruptionWindow\n        \"\n      >\n        <button\n          class=\"icon bug\"\n          type=\"button\"\n          @click=\"showDisruptionWindow = !showDisruptionWindow\"\n          :style=\"\n            this.showDisruptionWindow ? 'background-color: lightskyblue;' : ''\n          \"\n        ></button>\n      </div>\n    </div>\n    <div class=\"map-overlay\" v-show=\"showDisruptionWindow\">\n      <div v-if=\"!isLinkDisrupted()\" class=\"save-simulation-panel\">\n        <h3>Disruption</h3>\n\n        <label id=\"status1\" class=\"form-label\">Description</label>\n        <input ref=\"description\" id=\"simulation-name\" placeholder type=\"text\" />\n\n        <div class=\"container\">\n          <div class=\"row\">\n            <div class=\"col\" />\n            <div class=\"col\">\n              Start Time\n              <input\n                ref=\"startTime\"\n                class=\"form-control\"\n                type=\"time\"\n                value=\"00:00:00\"\n                id=\"example-time-input\"\n              />\n            </div>\n            <div class=\"col\">\n              End Time\n              <input\n                ref=\"endTime\"\n                class=\"form-control\"\n                type=\"time\"\n                value=\"00:00:00\"\n                id=\"example-time-input\"\n              />\n            </div>\n            <div class=\"col-4\">\n              Speed\n              <div class=\"input-group\">\n                <input\n                  ref=\"speed\"\n                  style=\"text-align: right;\"\n                  type=\"number\"\n                  class=\"form-control\"\n                  placeholder=\"Speed\"\n                  aria-label=\"Recipient's username\"\n                  aria-describedby=\"basic-addon2\"\n                />\n                <div class=\"input-group-append\">\n                  <button\n                    :class=\"\n                      !absoluteSpeed ? 'btn btn-secondary' : 'btn btn-primary'\n                    \"\n                    type=\"button\"\n                    @click=\"absoluteSpeed = true\"\n                  >\n                    KM/H\n                  </button>\n                  <button\n                    :class=\"\n                      absoluteSpeed ? 'btn btn-secondary' : 'btn btn-primary'\n                    \"\n                    type=\"button\"\n                    @click=\"absoluteSpeed = false\"\n                  >\n                    %\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div class=\"col\" />\n          </div>\n        </div>\n\n        <label id=\"status1\" class=\"form-label\">Affected Links</label>\n        <input\n          id=\"simulation-name\"\n          type=\"text\"\n          :value=\"this.$store.state.map.selectedMATSimLink\"\n          style=\"margin-bottom: 10px;\"\n          disabled\n        />\n        <button\n          v-if=\"this.$store.state.map.selectedMATSimLink != ''\"\n          style=\"width: 100% !important\"\n          class=\"btn btn-success\"\n          @click=\"saveDisruption()\"\n        >\n          Save\n        </button>\n        <button\n          v-else\n          style=\"width: 100% !important\"\n          class=\"btn btn-success\"\n          disabled\n          @click=\"saveDisruption()\"\n        >\n          Save\n        </button>\n      </div>\n      <div v-else class=\"save-simulation-panel\">\n        <h3>Disruption</h3>\n        <button\n          style=\"width: 100% !important\"\n          class=\"btn btn-danger\"\n          @click=\"deleteDisruption()\"\n        >\n          Delete\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faBars } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nlibrary.add(faBars);\n\nimport { mapActions } from \"vuex\";\nimport {\n  MATSIM_ADD_DISRUPTION,\n  MATSIM_DESELECT_LINK\n} from \"@/store/mutation-types\";\n\nexport default {\n  name: \"mapButtons\",\n  props: {},\n  components: { FontAwesomeIcon },\n  data: function() {\n    return {\n      absoluteSpeed: true,\n      showDisruptionWindow: false,\n      styles: this.$store.state.config.styles,\n      regions: this.$store.state.config.regions\n    };\n  },\n  computed: {\n    renderFireIn3D: {\n      get() {\n        return this.$store.state.fire.fire3DFlameHeight;\n      }\n    }\n  },\n  methods: {\n    ...mapActions({\n      toggleFireIn3D: \"fire/toggleFireIn3D\",\n      toggle: \"toggleSettingsVis\"\n    }),\n    drawRectangle() {\n      this.$store.commit(\"drawPopulationSquare\");\n    },\n    saveDisruption() {\n      var store = this.$store;\n      var mapInstance = store.state.map.mapInstance;\n\n      var disruption = {\n        affectedLinks: store.state.map.selectedMATSimLink,\n        start: this.$refs.startTime.value,\n        end: this.$refs.endTime.value,\n        description: this.$refs.description.value,\n        speed: this.$refs.speed.value,\n        absoluteSpeed: this.absoluteSpeed\n      };\n\n      var filter = [\"in\", \"ID\"];\n\n      //Add disruption to store\n      store.commit(MATSIM_ADD_DISRUPTION, disruption);\n\n      //Add each disrupted link to filter to display on disruption layer.\n      store.state.map.disruptions.forEach(disruption => {\n        disruption.affectedLinks.forEach(link => {\n          filter.push(link);\n        });\n      });\n\n      //render layer\n      mapInstance.setFilter(store.state.map.disruptionMATSimLayer, filter);\n      this.showDisruptionWindow = false;\n      store.state.map.selectedMATSimLink = \"\";\n    },\n    isLinkDisrupted() {\n      var selectedLink = this.$store.state.map.selectedMATSimLink;\n      var disruptions = this.$store.state.map.disruptions;\n      var result = false;\n      disruptions.forEach(disruption => {\n        disruption.affectedLinks.forEach(link => {\n          if (link == selectedLink) {\n            result = true;\n          }\n        });\n      });\n      return result;\n    },\n    deleteDisruption() {\n      var selectedLink = this.$store.state.map.selectedMATSimLink;\n      var disruptions = this.$store.state.map.disruptions;\n      var store = this.$store;\n      var filter = [\"in\", \"ID\"];\n\n      this.showDisruptionWindow = false;\n\n      disruptions.forEach(function(disruption, i) {\n        disruption.affectedLinks.forEach(link => {\n          if (link == selectedLink) {\n            delete disruptions[i];\n          }\n        });\n      });\n\n      store.state.map.mapInstance.setFilter(\n        store.state.map.selectedDisruptionMATSimLayer,\n        filter\n      );\n\n      // this.showDisruptionWindow = false;\n\n      // Add each disrupted link to filter to display on disruption layer.\n      disruptions.forEach(disruption => {\n        disruption.affectedLinks.forEach(link => {\n          filter.push(link);\n        });\n      });\n      //render layer\n      store.state.map.mapInstance.setFilter(\n        store.state.map.disruptionMATSimLayer,\n        filter\n      );\n      store.commit(MATSIM_DESELECT_LINK, null);\n    }\n  }\n};\n</script>\n\n<style>\n.map-settings-panel {\n  padding-left: 10%;\n  padding-right: 10%;\n}\n\n.map-settings-panel select,\n.map-settings-panel select option,\n.map-settings-panel input {\n  text-align: center;\n  width: 100% !important;\n}\n\n.map-settings-panel select,\n.map-settings-panel option {\n  padding: 10px !important;\n  text-align: center !important;\n}\n\n.map-settings-hamburger {\n  padding-top: 10px;\n  padding-left: 20px;\n}\n.map-settings-hamburger .mapboxgl-ctrl-group {\n  margin: 0;\n}\n.map-settings-button-container {\n  padding-top: 150px;\n}\n\n.map-overlay {\n  font: bold 12px/20px \"Helvetica Neue\", Arial, Helvetica, sans-serif;\n  position: absolute;\n  width: 40%;\n  top: 10%;\n  right: 30%;\n  height: auto;\n  overflow: auto;\n  background-color: rgba(255, 255, 255, 0.7);\n  padding: 0 0 20px 0;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n  border-radius: 5px;\n  z-index: 100;\n}\n\n.map-overlay label,\n.map-overlay h3 {\n  display: block;\n  margin: 10px 0 0 0;\n}\n\n.map-overlay input {\n  display: inline-block;\n  width: 80%;\n  position: relative;\n  margin: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapButtons.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapButtons.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapButtons.vue?vue&type=template&id=519bcef6&\"\nimport script from \"./MapButtons.vue?vue&type=script&lang=js&\"\nexport * from \"./MapButtons.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapButtons.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"save-map-settings-container\"},[_c('b-button',{attrs:{\"variant\":\"outline-primary\",\"id\":\"save-map-settings-toggle\"},on:{\"click\":_vm.SaveSimulationToggle}},[_vm._v(\"Save\")]),_c('b-button',{attrs:{\"variant\":\"outline-primary\",\"id\":\"create-simulation\"}},[_vm._v(\"Create\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.simSettingsIsOpen),expression:\"simSettingsIsOpen\"}],staticClass:\"map-overlay\"},[_c('div',{staticClass:\"save-simulation-panel\"},[_c('label',{attrs:{\"for\":\"simulation-name\"}},[_vm._v(\"Simulation Name:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.simulationName),expression:\"simulationName\"}],attrs:{\"id\":\"simulation-name\",\"type\":\"text\"},domProps:{\"value\":(_vm.simulationName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.simulationName=$event.target.value}}}),_c('b-button',{attrs:{\"variant\":\"outline-primary\",\"id\":\"save-map-settings\"},on:{\"click\":_vm.SaveSimulationConfig}},[_vm._v(\"Save\")]),_c('b-button',{attrs:{\"variant\":\"outline-primary\",\"id\":\"cancel-map-settings\"},on:{\"click\":_vm.SaveSimulationToggle}},[_vm._v(\"Cancel\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"save-map-settings-container\">\n    <b-button\n      variant=\"outline-primary\"\n      id=\"save-map-settings-toggle\"\n      v-on:click=\"SaveSimulationToggle\"\n      >Save</b-button\n    >\n    <b-button variant=\"outline-primary\" id=\"create-simulation\">Create</b-button>\n\n    <div class=\"map-overlay\" v-show=\"simSettingsIsOpen\">\n      <div class=\"save-simulation-panel\">\n        <label for=\"simulation-name\">Simulation Name:</label>\n        <input id=\"simulation-name\" type=\"text\" v-model=\"simulationName\" />\n        <b-button\n          variant=\"outline-primary\"\n          id=\"save-map-settings\"\n          v-on:click=\"SaveSimulationConfig\"\n          >Save</b-button\n        >\n        <b-button\n          variant=\"outline-primary\"\n          id=\"cancel-map-settings\"\n          v-on:click=\"SaveSimulationToggle\"\n          >Cancel</b-button\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from \"vuex\";\nimport {\n  MATSIM_SAVE_CONFIG,\n  MATSIM_SETTINGS_VIS\n} from \"@/store/mutation-types\";\n\nexport default {\n  name: \"saveSettings\",\n  props: {\n    toggle: {\n      default: false,\n      type: Boolean\n    }\n  },\n  data: function() {\n    return {};\n  },\n  computed: {\n    ...mapState({\n      simSettingsIsOpen: state => state.simulation.simSettingsIsOpen\n    }),\n    ...mapGetters([\"selectedRegion\", \"selectedFire\"]),\n    simulationName: {\n      get() {\n        return this.$store.state.simulation.simulationName;\n      },\n      set(value) {\n        this.$store.commit(\"setSimulationName\", value);\n      }\n    }\n  },\n  methods: {\n    SaveSimulationToggle() {\n      this.$store.commit(MATSIM_SETTINGS_VIS, !this.saveSimIsOpen);\n    },\n    SaveSimulationConfig() {\n      var outputTemplate = {\n        simulationName: this.simulationName,\n        config: {\n          ees: [\n            {\n              global: [\n                {\n                  randomSeed: \"1234\",\n                  crs: \"EPSG:28355\",\n                  startHHMM: \"00:00\"\n                }\n              ],\n\n              bdi: [\n                {\n                  jPlanSelectionPolicy: \"FIRST\",\n                  jAgents: \"\",\n                  jLogLevel: \"WARN\",\n                  jLogFile:\n                    \"test/output/io/github/agentsoz/ees/TypicalSummerWeekday50kTest/testTypicalSummerWeekday50k/jill.log\",\n                  jOutFile:\n                    \"test/output/io/github/agentsoz/ees//TypicalSummerWeekday50kTest/testTypicalSummerWeekday50k/jill.out\"\n                }\n              ],\n\n              matsim: [\n                {\n                  outputDir:\n                    \"test/output/io/github/agentsoz/ees//TypicalSummerWeekday50kTest/testTypicalSummerWeekday50k/matsim\",\n                  configXml:\n                    \"scenarios/surf-coast-shire/typical-summer-weekday-50k/scenario_matsim_main.xml\",\n                  maxDistanceForFireVisual: \"1000\",\n                  maxDistanceForSmokeVisual: \"5000\",\n                  fireAvoidanceBufferForVehicles: \"5000\",\n                  fireAvoidanceBufferForEmergencyVehicles: \"1000\",\n                  congestionEvaluationInterval: \"180\",\n                  congestionToleranceThreshold: \"0.33\",\n                  congestionReactionProbability: \"0.0\"\n                }\n              ],\n\n              phoenix: [\n                {\n                  ignitionHHMM: \"00:00\",\n                  fireGeoJson: this.selectedFire.geojson,\n                  smokeGeoJson: \"\"\n                }\n              ],\n\n              disruption: [\n                {\n                  fileJson:\n                    \"scenarios/surf-coast-shire/typical-summer-weekday-50k/scenario_disruptions.json\"\n                }\n              ],\n\n              messaging: [\n                {\n                  fileJson:\n                    \"scenarios/surf-coast-shire/typical-summer-weekday-50k/scenario_messages.json\"\n                }\n              ]\n            }\n          ],\n          scenario_main: [\n            {\n              matsimfile:\n                \"scenarios/surf-coast-shire/typical-summer-weekday-50k/scenario_matsim_main.xml\",\n\n              firefile: [\n                {\n                  name: \"\",\n                  coordinates: \"\",\n                  format: \"\"\n                }\n              ],\n\n              geographyfile: [\n                {\n                  geo_name:\n                    \"scenarios/surf-coast-shire/typical-summer-weekday-50k/scenario_geography.xml\"\n                }\n              ],\n\n              trafficBehaviour: [\n                {\n                  proportion: \"0.0\",\n                  radiusInMtrs: \"0\"\n                }\n              ],\n\n              evacuationTiming: [\n                {\n                  start: \"00:00\",\n                  peak: \"00\"\n                }\n              ],\n\n              bdiagents: \"bdiagents\"\n            }\n          ]\n        }\n      };\n\n      this.$store.commit(\n        MATSIM_SAVE_CONFIG,\n        outputTemplate,\n        this.simulationName\n      );\n\n      this.SaveSimulationToggle();\n    }\n  }\n};\n</script>\n\n<style>\n#save-map-settings-toggle {\n  position: absolute;\n  top: 10px;\n  overflow: visible;\n  margin: 0 0 0 -80px;\n}\n\n#create-simulation {\n  position: absolute;\n  top: 10px;\n  overflow: visible;\n  margin: 0 0 0 0;\n}\n\n.map-overlay {\n  font: bold 12px/20px \"Helvetica Neue\", Arial, Helvetica, sans-serif;\n  position: absolute;\n  width: 40%;\n  top: 10%;\n  right: 30%;\n  height: auto;\n  overflow: auto;\n  background-color: rgba(255, 255, 255, 0.7);\n  padding: 0 0 20px 0;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n  border-radius: 5px;\n  z-index: 100;\n}\n\n.map-overlay label {\n  display: block;\n  margin: 10px 0 0 0;\n}\n\n.map-overlay input {\n  display: inline-block;\n  width: 100%;\n  position: relative;\n  margin: 0;\n}\n\n#save-map-settings {\n  margin: 10px 0 0 0;\n}\n\n#cancel-map-settings {\n  margin: 10px 0 0 20px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveSettings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SaveSettings.vue?vue&type=template&id=e4a674d6&\"\nimport script from \"./SaveSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./SaveSettings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SaveSettings.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div v-on:keydown.esc.capture=\"toggleSettingsVis()\">\n    <maplayer />\n    <popLegend />\n    <slider />\n    <spinner />\n    <population />\n    <setup />\n    <buttons />\n    <savesettings />\n  </div>\n</template>\n\n<script>\nimport MapComponent from \"@/components/Map.vue\";\nimport MapTimeSlider from \"@/components/MapTimeSlider.vue\";\nimport MapPopulationLegend from \"@/components/MapPopulationLegend.vue\";\nimport MapSquarePopulation from \"@/components/MapSquarePopulation.vue\";\nimport MapLoadSpinner from \"@/components/MapLoadSpinner.vue\";\nimport MapSetup from \"@/components/MapSetup.vue\";\nimport MapButtons from \"@/components/MapButtons.vue\";\nimport SaveSettings from \"@/components/SaveSettings.vue\";\n\nimport { mapActions } from \"vuex\";\n\nexport default {\n  name: \"home\",\n  components: {\n    maplayer: MapComponent,\n    slider: MapTimeSlider,\n    popLegend: MapPopulationLegend,\n    spinner: MapLoadSpinner,\n    population: MapSquarePopulation,\n    setup: MapSetup,\n    buttons: MapButtons,\n    savesettings: SaveSettings\n  },\n  methods: {\n    ...mapActions([\"toggleSettingsVis\"])\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=180aa8e8&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport Router from \"vue-router\";\nimport Home from \"./views/Home.vue\";\n\nVue.use(Router);\n\nexport default new Router({\n  routes: [\n    {\n      path: \"/\",\n      name: \"home\",\n      component: Home\n    },\n    {\n      path: \"/about\",\n      name: \"about\",\n      // route level code-splitting\n      // this generates a separate chunk (about.[hash].js) for this route\n      // which is lazy-loaded when the route is visited.\n      component: () =>\n        import(/* webpackChunkName: \"about\" */ \"./views/About.vue\")\n    }\n  ]\n});\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\n\nimport BootstrapVue from \"bootstrap-vue\";\nVue.use(BootstrapVue);\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\n\nimport VueMq from \"vue-mq\";\nVue.use(VueMq);\n\nVue.config.productionTip = false;\n\nnew Vue({\n  el: \"#app\",\n  router,\n  store,\n  render: h => h(App),\n  mounted: function() {\n    this.$store.dispatch(\n      \"getConfig\",\n      process.env.VUE_APP_EES_TILES_API + \"/config\"\n    );\n  }\n}).$mount(\"#app\");\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapTrafficBehaviourCard.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapTrafficBehaviourCard.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveSettings.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveSettings.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapSquarePopulation.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapSquarePopulation.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapButtons.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapButtons.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapSetup.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapSetup.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}